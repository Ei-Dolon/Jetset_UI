const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/embedded-wallet-D4LHp1QA.js","assets/if-defined-DuyhoOHw.js","assets/index-sV9JhYUk.js","assets/index-I_uqIGni.js","assets/ref-S5rFucOj.js","assets/index-Ba5LWpg5.js","assets/index-BnqHsgRo.js","assets/index-CD6tvcdw.js","assets/index-D6HdE1iu.js","assets/index-C7aRj4GM.js","assets/index-37MNtoAO.js","assets/index-Be1fBqjA.js","assets/email-DpMeHQS_.js","assets/index-C3Y8mLM5.js","assets/socials-_JcZpi0X.js","assets/index-CInm37Bq.js","assets/ConstantsUtil-Dmg8YACJ.js","assets/index-5vqhOWcM.js","assets/index-DjKBYMdF.js","assets/index-D91nc2Fc.js","assets/index-gPMGMX0V.js","assets/swaps-aZJxLylK.js","assets/index-BWnQvvWB.js","assets/index-CEvbeL5f.js","assets/index-BkvTPdo7.js","assets/send-DiEDr5ho.js","assets/index-Bkw8LznA.js","assets/index-Bqj0F7WX.js","assets/receive-6CAHuIlx.js","assets/index-DfVYu1u7.js","assets/onramp-D9zndQQL.js","assets/index-CcMkQfJG.js","assets/index-DA0zWxqq.js","assets/index-B8l0RMAw.js","assets/transactions-lB1ijCjS.js","assets/index-CDMiqqlx.js","assets/index-qTGI9xdS.js","assets/index-kkiWiZL1.js","assets/index-Ccfc3mMB.js","assets/index-Dm8PA_fi.js","assets/w3m-modal-BOBcdtOR.js","assets/SafeProvider-Bf0Dm36j.js","assets/index-CCQ-jUte.js","assets/sha3-DVSzrknm.js","assets/index-CybBsRJ3.js","assets/utils-aKBXwFwT.js","assets/index-CE1fbXNZ.js"])))=>i.map(i=>d[i]);
var uM=Object.defineProperty;var $O=n=>{throw TypeError(n)};var hM=(n,e,t)=>e in n?uM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ee=(n,e,t)=>hM(n,typeof e!="symbol"?e+"":e,t),UA=(n,e,t)=>e.has(n)||$O("Cannot "+t);var S=(n,e,t)=>(UA(n,e,"read from private field"),t?t.call(n):e.get(n)),ie=(n,e,t)=>e.has(n)?$O("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),F=(n,e,t,r)=>(UA(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),pe=(n,e,t)=>(UA(n,e,"access private method"),t);var Xp=(n,e,t,r)=>({set _(s){F(n,e,s,t)},get _(){return S(n,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var ha=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function GP(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var kA={exports:{}},eg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FO;function dM(){if(FO)return eg;FO=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,a){var c=null;if(a!==void 0&&(c=""+a),s.key!==void 0&&(c=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:n,type:r,key:c,ref:s!==void 0?s:null,props:a}}return eg.Fragment=e,eg.jsx=t,eg.jsxs=t,eg}var jO;function fM(){return jO||(jO=1,kA.exports=dM()),kA.exports}var Le=fM(),BA={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HO;function pM(){if(HO)return nt;HO=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(R){return R===null||typeof R!="object"?null:(R=m&&R[m]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,v={};function A(R,W,ne){this.props=R,this.context=W,this.refs=v,this.updater=ne||b}A.prototype.isReactComponent={},A.prototype.setState=function(R,W){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,W,"setState")},A.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function N(){}N.prototype=A.prototype;function I(R,W,ne){this.props=R,this.context=W,this.refs=v,this.updater=ne||b}var P=I.prototype=new N;P.constructor=I,E(P,A.prototype),P.isPureReactComponent=!0;var k=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function B(R,W,ne,ae,oe,ye){return ne=ye.ref,{$$typeof:n,type:R,key:W,ref:ne!==void 0?ne:null,props:ye}}function M(R,W){return B(R.type,W,void 0,void 0,void 0,R.props)}function $(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function q(R){var W={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ne){return W[ne]})}var V=/\/+/g;function te(R,W){return typeof R=="object"&&R!==null&&R.key!=null?q(""+R.key):W.toString(36)}function de(){}function Z(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(de,de):(R.status="pending",R.then(function(W){R.status==="pending"&&(R.status="fulfilled",R.value=W)},function(W){R.status==="pending"&&(R.status="rejected",R.reason=W)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function T(R,W,ne,ae,oe){var ye=typeof R;(ye==="undefined"||ye==="boolean")&&(R=null);var me=!1;if(R===null)me=!0;else switch(ye){case"bigint":case"string":case"number":me=!0;break;case"object":switch(R.$$typeof){case n:case e:me=!0;break;case p:return me=R._init,T(me(R._payload),W,ne,ae,oe)}}if(me)return oe=oe(R),me=ae===""?"."+te(R,0):ae,k(oe)?(ne="",me!=null&&(ne=me.replace(V,"$&/")+"/"),T(oe,W,ne,"",function(We){return We})):oe!=null&&($(oe)&&(oe=M(oe,ne+(oe.key==null||R&&R.key===oe.key?"":(""+oe.key).replace(V,"$&/")+"/")+me)),W.push(oe)),1;me=0;var Ke=ae===""?".":ae+":";if(k(R))for(var Be=0;Be<R.length;Be++)ae=R[Be],ye=Ke+te(ae,Be),me+=T(ae,W,ne,ye,oe);else if(Be=y(R),typeof Be=="function")for(R=Be.call(R),Be=0;!(ae=R.next()).done;)ae=ae.value,ye=Ke+te(ae,Be++),me+=T(ae,W,ne,ye,oe);else if(ye==="object"){if(typeof R.then=="function")return T(Z(R),W,ne,ae,oe);throw W=String(R),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return me}function C(R,W,ne){if(R==null)return R;var ae=[],oe=0;return T(R,ae,"","",function(ye){return W.call(ne,ye,oe++)}),ae}function L(R){if(R._status===-1){var W=R._result;W=W(),W.then(function(ne){(R._status===0||R._status===-1)&&(R._status=1,R._result=ne)},function(ne){(R._status===0||R._status===-1)&&(R._status=2,R._result=ne)}),R._status===-1&&(R._status=0,R._result=W)}if(R._status===1)return R._result.default;throw R._result}var z=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function G(){}return nt.Children={map:C,forEach:function(R,W,ne){C(R,function(){W.apply(this,arguments)},ne)},count:function(R){var W=0;return C(R,function(){W++}),W},toArray:function(R){return C(R,function(W){return W})||[]},only:function(R){if(!$(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},nt.Component=A,nt.Fragment=t,nt.Profiler=s,nt.PureComponent=I,nt.StrictMode=r,nt.Suspense=h,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,nt.__COMPILER_RUNTIME={__proto__:null,c:function(R){return U.H.useMemoCache(R)}},nt.cache=function(R){return function(){return R.apply(null,arguments)}},nt.cloneElement=function(R,W,ne){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ae=E({},R.props),oe=R.key,ye=void 0;if(W!=null)for(me in W.ref!==void 0&&(ye=void 0),W.key!==void 0&&(oe=""+W.key),W)!O.call(W,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&W.ref===void 0||(ae[me]=W[me]);var me=arguments.length-2;if(me===1)ae.children=ne;else if(1<me){for(var Ke=Array(me),Be=0;Be<me;Be++)Ke[Be]=arguments[Be+2];ae.children=Ke}return B(R.type,oe,void 0,void 0,ye,ae)},nt.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:a,_context:R},R},nt.createElement=function(R,W,ne){var ae,oe={},ye=null;if(W!=null)for(ae in W.key!==void 0&&(ye=""+W.key),W)O.call(W,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(oe[ae]=W[ae]);var me=arguments.length-2;if(me===1)oe.children=ne;else if(1<me){for(var Ke=Array(me),Be=0;Be<me;Be++)Ke[Be]=arguments[Be+2];oe.children=Ke}if(R&&R.defaultProps)for(ae in me=R.defaultProps,me)oe[ae]===void 0&&(oe[ae]=me[ae]);return B(R,ye,void 0,void 0,null,oe)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(R){return{$$typeof:u,render:R}},nt.isValidElement=$,nt.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:L}},nt.memo=function(R,W){return{$$typeof:d,type:R,compare:W===void 0?null:W}},nt.startTransition=function(R){var W=U.T,ne={};U.T=ne;try{var ae=R(),oe=U.S;oe!==null&&oe(ne,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(G,z)}catch(ye){z(ye)}finally{U.T=W}},nt.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},nt.use=function(R){return U.H.use(R)},nt.useActionState=function(R,W,ne){return U.H.useActionState(R,W,ne)},nt.useCallback=function(R,W){return U.H.useCallback(R,W)},nt.useContext=function(R){return U.H.useContext(R)},nt.useDebugValue=function(){},nt.useDeferredValue=function(R,W){return U.H.useDeferredValue(R,W)},nt.useEffect=function(R,W,ne){var ae=U.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(R,W)},nt.useId=function(){return U.H.useId()},nt.useImperativeHandle=function(R,W,ne){return U.H.useImperativeHandle(R,W,ne)},nt.useInsertionEffect=function(R,W){return U.H.useInsertionEffect(R,W)},nt.useLayoutEffect=function(R,W){return U.H.useLayoutEffect(R,W)},nt.useMemo=function(R,W){return U.H.useMemo(R,W)},nt.useOptimistic=function(R,W){return U.H.useOptimistic(R,W)},nt.useReducer=function(R,W,ne){return U.H.useReducer(R,W,ne)},nt.useRef=function(R){return U.H.useRef(R)},nt.useState=function(R){return U.H.useState(R)},nt.useSyncExternalStore=function(R,W,ne){return U.H.useSyncExternalStore(R,W,ne)},nt.useTransition=function(){return U.H.useTransition()},nt.version="19.1.0",nt}var zO;function Lb(){return zO||(zO=1,BA.exports=pM()),BA.exports}var dn=Lb();const gM=oy(dn);var MA={exports:{}},tg={},LA={exports:{}},$A={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qO;function mM(){return qO||(qO=1,function(n){function e(C,L){var z=C.length;C.push(L);e:for(;0<z;){var G=z-1>>>1,R=C[G];if(0<s(R,L))C[G]=L,C[z]=R,z=G;else break e}}function t(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var L=C[0],z=C.pop();if(z!==L){C[0]=z;e:for(var G=0,R=C.length,W=R>>>1;G<W;){var ne=2*(G+1)-1,ae=C[ne],oe=ne+1,ye=C[oe];if(0>s(ae,z))oe<R&&0>s(ye,ae)?(C[G]=ye,C[oe]=z,G=oe):(C[G]=ae,C[ne]=z,G=ne);else if(oe<R&&0>s(ye,z))C[G]=ye,C[oe]=z,G=oe;else break e}}return L}function s(C,L){var z=C.sortIndex-L.sortIndex;return z!==0?z:C.id-L.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var h=[],d=[],p=1,m=null,y=3,b=!1,E=!1,v=!1,A=!1,N=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function k(C){for(var L=t(d);L!==null;){if(L.callback===null)r(d);else if(L.startTime<=C)r(d),L.sortIndex=L.expirationTime,e(h,L);else break;L=t(d)}}function U(C){if(v=!1,k(C),!E)if(t(h)!==null)E=!0,O||(O=!0,te());else{var L=t(d);L!==null&&T(U,L.startTime-C)}}var O=!1,B=-1,M=5,$=-1;function q(){return A?!0:!(n.unstable_now()-$<M)}function V(){if(A=!1,O){var C=n.unstable_now();$=C;var L=!0;try{e:{E=!1,v&&(v=!1,I(B),B=-1),b=!0;var z=y;try{t:{for(k(C),m=t(h);m!==null&&!(m.expirationTime>C&&q());){var G=m.callback;if(typeof G=="function"){m.callback=null,y=m.priorityLevel;var R=G(m.expirationTime<=C);if(C=n.unstable_now(),typeof R=="function"){m.callback=R,k(C),L=!0;break t}m===t(h)&&r(h),k(C)}else r(h);m=t(h)}if(m!==null)L=!0;else{var W=t(d);W!==null&&T(U,W.startTime-C),L=!1}}break e}finally{m=null,y=z,b=!1}L=void 0}}finally{L?te():O=!1}}}var te;if(typeof P=="function")te=function(){P(V)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Z=de.port2;de.port1.onmessage=V,te=function(){Z.postMessage(null)}}else te=function(){N(V,0)};function T(C,L){B=N(function(){C(n.unstable_now())},L)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(C){C.callback=null},n.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<C?Math.floor(1e3/C):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(C){switch(y){case 1:case 2:case 3:var L=3;break;default:L=y}var z=y;y=L;try{return C()}finally{y=z}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(C,L){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var z=y;y=C;try{return L()}finally{y=z}},n.unstable_scheduleCallback=function(C,L,z){var G=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?G+z:G):z=G,C){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=z+R,C={id:p++,callback:L,priorityLevel:C,startTime:z,expirationTime:R,sortIndex:-1},z>G?(C.sortIndex=z,e(d,C),t(h)===null&&C===t(d)&&(v?(I(B),B=-1):v=!0,T(U,z-G))):(C.sortIndex=R,e(h,C),E||b||(E=!0,O||(O=!0,te()))),C},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(C){var L=y;return function(){var z=y;y=L;try{return C.apply(this,arguments)}finally{y=z}}}}($A)),$A}var GO;function yM(){return GO||(GO=1,LA.exports=mM()),LA.exports}var FA={exports:{}},vr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VO;function wM(){if(VO)return vr;VO=1;var n=Lb();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,d,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:h,containerInfo:d,implementation:p}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return vr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,vr.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(h,d,null,p)},vr.flushSync=function(h){var d=c.T,p=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=d,r.p=p,r.d.f()}},vr.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},vr.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},vr.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,m=u(p,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:b}):p==="script"&&r.d.X(h,{crossOrigin:m,integrity:y,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},vr.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=u(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},vr.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,m=u(p,d.crossOrigin);r.d.L(h,p,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},vr.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=u(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},vr.requestFormReset=function(h){r.d.r(h)},vr.unstable_batchedUpdates=function(h,d){return h(d)},vr.useFormState=function(h,d,p){return c.H.useFormState(h,d,p)},vr.useFormStatus=function(){return c.H.useHostTransitionStatus()},vr.version="19.1.0",vr}var KO;function bM(){if(KO)return FA.exports;KO=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),FA.exports=wM(),FA.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WO;function vM(){if(WO)return tg;WO=1;var n=yM(),e=Lb(),t=bM();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(a(i)!==i)throw Error(r(188))}function h(i){var o=i.alternate;if(!o){if(o=a(i),o===null)throw Error(r(188));return o!==i?null:i}for(var l=i,f=o;;){var g=l.return;if(g===null)break;var w=g.alternate;if(w===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===l)return u(g),i;if(w===f)return u(g),o;w=w.sibling}throw Error(r(188))}if(l.return!==f.return)l=g,f=w;else{for(var _=!1,x=g.child;x;){if(x===l){_=!0,l=g,f=w;break}if(x===f){_=!0,f=g,l=w;break}x=x.sibling}if(!_){for(x=w.child;x;){if(x===l){_=!0,l=w,f=g;break}if(x===f){_=!0,f=w,l=g;break}x=x.sibling}if(!_)throw Error(r(189))}}if(l.alternate!==f)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:o}function d(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=d(i),o!==null)return o;i=i.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),P=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function te(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var de=Symbol.for("react.client.reference");function Z(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===de?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case A:return"Profiler";case v:return"StrictMode";case U:return"Suspense";case O:return"SuspenseList";case $:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case P:return(i.displayName||"Context")+".Provider";case I:return(i._context.displayName||"Context")+".Consumer";case k:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case B:return o=i.displayName||null,o!==null?o:Z(i.type)||"Memo";case M:o=i._payload,i=i._init;try{return Z(i(o))}catch{}}return null}var T=Array.isArray,C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},G=[],R=-1;function W(i){return{current:i}}function ne(i){0>R||(i.current=G[R],G[R]=null,R--)}function ae(i,o){R++,G[R]=i.current,i.current=o}var oe=W(null),ye=W(null),me=W(null),Ke=W(null);function Be(i,o){switch(ae(me,o),ae(ye,i),ae(oe,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?fO(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=fO(o),i=pO(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(oe),ae(oe,i)}function We(){ne(oe),ne(ye),ne(me)}function Kt(i){i.memoizedState!==null&&ae(Ke,i);var o=oe.current,l=pO(o,i.type);o!==l&&(ae(ye,i),ae(oe,l))}function an(i){ye.current===i&&(ne(oe),ne(ye)),Ke.current===i&&(ne(Ke),Wp._currentValue=z)}var tn=Object.prototype.hasOwnProperty,Lt=n.unstable_scheduleCallback,fn=n.unstable_cancelCallback,hi=n.unstable_shouldYield,Zu=n.unstable_requestPaint,Bs=n.unstable_now,Ev=n.unstable_getCurrentPriorityLevel,ep=n.unstable_ImmediatePriority,tp=n.unstable_UserBlockingPriority,Do=n.unstable_NormalPriority,xy=n.unstable_LowPriority,np=n.unstable_IdlePriority,Py=n.log,Dy=n.unstable_setDisableYieldValue,Uo=null,Rr=null;function Hi(i){if(typeof Py=="function"&&Dy(i),Rr&&typeof Rr.setStrictMode=="function")try{Rr.setStrictMode(Uo,i)}catch{}}var Ir=Math.clz32?Math.clz32:Q5,Av=Math.log,Y5=Math.LN2;function Q5(i){return i>>>=0,i===0?32:31-(Av(i)/Y5|0)|0}var Uy=256,ky=4194304;function nl(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function By(i,o,l){var f=i.pendingLanes;if(f===0)return 0;var g=0,w=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var x=f&134217727;return x!==0?(f=x&~w,f!==0?g=nl(f):(_&=x,_!==0?g=nl(_):l||(l=x&~i,l!==0&&(g=nl(l))))):(x=f&~w,x!==0?g=nl(x):_!==0?g=nl(_):l||(l=f&~i,l!==0&&(g=nl(l)))),g===0?0:o!==0&&o!==g&&(o&w)===0&&(w=g&-g,l=o&-o,w>=l||w===32&&(l&4194048)!==0)?o:g}function rp(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Z5(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QS(){var i=Uy;return Uy<<=1,(Uy&4194048)===0&&(Uy=256),i}function ZS(){var i=ky;return ky<<=1,(ky&62914560)===0&&(ky=4194304),i}function _v(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function sp(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function J5(i,o,l,f,g,w){var _=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var x=i.entanglements,H=i.expirationTimes,X=i.hiddenUpdates;for(l=_&~l;0<l;){var ce=31-Ir(l),ue=1<<ce;x[ce]=0,H[ce]=-1;var re=X[ce];if(re!==null)for(X[ce]=null,ce=0;ce<re.length;ce++){var se=re[ce];se!==null&&(se.lane&=-536870913)}l&=~ue}f!==0&&JS(i,f,0),w!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=w&~(_&~o))}function JS(i,o,l){i.pendingLanes|=o,i.suspendedLanes&=~o;var f=31-Ir(o);i.entangledLanes|=o,i.entanglements[f]=i.entanglements[f]|1073741824|l&4194090}function XS(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var f=31-Ir(l),g=1<<f;g&o|i[f]&o&&(i[f]|=o),l&=~g}}function Cv(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Sv(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function eN(){var i=L.p;return i!==0?i:(i=window.event,i===void 0?32:DO(i.type))}function X5(i,o){var l=L.p;try{return L.p=i,o()}finally{L.p=l}}var ko=Math.random().toString(36).slice(2),wr="__reactFiber$"+ko,zr="__reactProps$"+ko,Ju="__reactContainer$"+ko,Nv="__reactEvents$"+ko,eB="__reactListeners$"+ko,tB="__reactHandles$"+ko,tN="__reactResources$"+ko,ip="__reactMarker$"+ko;function Tv(i){delete i[wr],delete i[zr],delete i[Nv],delete i[eB],delete i[tB]}function Xu(i){var o=i[wr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Ju]||l[wr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=wO(i);i!==null;){if(l=i[wr])return l;i=wO(i)}return o}i=l,l=i.parentNode}return null}function eh(i){if(i=i[wr]||i[Ju]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function ap(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function th(i){var o=i[tN];return o||(o=i[tN]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ln(i){i[ip]=!0}var nN=new Set,rN={};function rl(i,o){nh(i,o),nh(i+"Capture",o)}function nh(i,o){for(rN[i]=o,i=0;i<o.length;i++)nN.add(o[i])}var nB=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sN={},iN={};function rB(i){return tn.call(iN,i)?!0:tn.call(sN,i)?!1:nB.test(i)?iN[i]=!0:(sN[i]=!0,!1)}function My(i,o,l){if(rB(o))if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+l)}}function Ly(i,o,l){if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+l)}}function Ra(i,o,l,f){if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(o,l,""+f)}}var Ov,aN;function rh(i){if(Ov===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);Ov=o&&o[1]||"",aN=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ov+i+aN}var Rv=!1;function Iv(i,o){if(!i||Rv)return"";Rv=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(se){var re=se}Reflect.construct(i,[],ue)}else{try{ue.call()}catch(se){re=se}i.call(ue.prototype)}}else{try{throw Error()}catch(se){re=se}(ue=i())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(se){if(se&&re&&typeof se.stack=="string")return[se.stack,re.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=f.DetermineComponentFrameRoot(),_=w[0],x=w[1];if(_&&x){var H=_.split(`
`),X=x.split(`
`);for(g=f=0;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;for(;g<X.length&&!X[g].includes("DetermineComponentFrameRoot");)g++;if(f===H.length||g===X.length)for(f=H.length-1,g=X.length-1;1<=f&&0<=g&&H[f]!==X[g];)g--;for(;1<=f&&0<=g;f--,g--)if(H[f]!==X[g]){if(f!==1||g!==1)do if(f--,g--,0>g||H[f]!==X[g]){var ce=`
`+H[f].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=f&&0<=g);break}}}finally{Rv=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?rh(l):""}function sB(i){switch(i.tag){case 26:case 27:case 5:return rh(i.type);case 16:return rh("Lazy");case 13:return rh("Suspense");case 19:return rh("SuspenseList");case 0:case 15:return Iv(i.type,!1);case 11:return Iv(i.type.render,!1);case 1:return Iv(i.type,!0);case 31:return rh("Activity");default:return""}}function oN(i){try{var o="";do o+=sB(i),i=i.return;while(i);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Ms(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function cN(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function iB(i){var o=cN(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,w=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(_){f=""+_,w.call(this,_)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(_){f=""+_},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function $y(i){i._valueTracker||(i._valueTracker=iB(i))}function lN(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),f="";return i&&(f=cN(i)?i.checked?"true":"false":i.value),i=f,i!==l?(o.setValue(i),!0):!1}function Fy(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var aB=/[\n"\\]/g;function Ls(i){return i.replace(aB,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function xv(i,o,l,f,g,w,_,x){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),o!=null?_==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Ms(o)):i.value!==""+Ms(o)&&(i.value=""+Ms(o)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),o!=null?Pv(i,_,Ms(o)):l!=null?Pv(i,_,Ms(l)):f!=null&&i.removeAttribute("value"),g==null&&w!=null&&(i.defaultChecked=!!w),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.name=""+Ms(x):i.removeAttribute("name")}function uN(i,o,l,f,g,w,_,x){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),o!=null||l!=null){if(!(w!=="submit"&&w!=="reset"||o!=null))return;l=l!=null?""+Ms(l):"",o=o!=null?""+Ms(o):l,x||o===i.value||(i.value=o),i.defaultValue=o}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=x?i.checked:!!f,i.defaultChecked=!!f,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_)}function Pv(i,o,l){o==="number"&&Fy(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function sh(i,o,l,f){if(i=i.options,o){o={};for(var g=0;g<l.length;g++)o["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=o.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&f&&(i[l].defaultSelected=!0)}else{for(l=""+Ms(l),o=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function hN(i,o,l){if(o!=null&&(o=""+Ms(o),o!==i.value&&(i.value=o),l==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=l!=null?""+Ms(l):""}function dN(i,o,l,f){if(o==null){if(f!=null){if(l!=null)throw Error(r(92));if(T(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),o=l}l=Ms(o),i.defaultValue=l,f=i.textContent,f===l&&f!==""&&f!==null&&(i.value=f)}function ih(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var oB=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fN(i,o,l){var f=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":f?i.setProperty(o,l):typeof l!="number"||l===0||oB.has(o)?o==="float"?i.cssFloat=l:i[o]=(""+l).trim():i[o]=l+"px"}function pN(i,o,l){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var g in o)f=o[g],o.hasOwnProperty(g)&&l[g]!==f&&fN(i,g,f)}else for(var w in o)o.hasOwnProperty(w)&&fN(i,w,o[w])}function Dv(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cB=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lB=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jy(i){return lB.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Uv=null;function kv(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ah=null,oh=null;function gN(i){var o=eh(i);if(o&&(i=o.stateNode)){var l=i[zr]||null;e:switch(i=o.stateNode,o.type){case"input":if(xv(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ls(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var f=l[o];if(f!==i&&f.form===i.form){var g=f[zr]||null;if(!g)throw Error(r(90));xv(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<l.length;o++)f=l[o],f.form===i.form&&lN(f)}break e;case"textarea":hN(i,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&sh(i,!!l.multiple,o,!1)}}}var Bv=!1;function mN(i,o,l){if(Bv)return i(o,l);Bv=!0;try{var f=i(o);return f}finally{if(Bv=!1,(ah!==null||oh!==null)&&(Nw(),ah&&(o=ah,i=oh,oh=ah=null,gN(o),i)))for(o=0;o<i.length;o++)gN(i[o])}}function op(i,o){var l=i.stateNode;if(l===null)return null;var f=l[zr]||null;if(f===null)return null;l=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var Ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mv=!1;if(Ia)try{var cp={};Object.defineProperty(cp,"passive",{get:function(){Mv=!0}}),window.addEventListener("test",cp,cp),window.removeEventListener("test",cp,cp)}catch{Mv=!1}var Bo=null,Lv=null,Hy=null;function yN(){if(Hy)return Hy;var i,o=Lv,l=o.length,f,g="value"in Bo?Bo.value:Bo.textContent,w=g.length;for(i=0;i<l&&o[i]===g[i];i++);var _=l-i;for(f=1;f<=_&&o[l-f]===g[w-f];f++);return Hy=g.slice(i,1<f?1-f:void 0)}function zy(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function qy(){return!0}function wN(){return!1}function qr(i){function o(l,f,g,w,_){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=w,this.target=_,this.currentTarget=null;for(var x in i)i.hasOwnProperty(x)&&(l=i[x],this[x]=l?l(w):w[x]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?qy:wN,this.isPropagationStopped=wN,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=qy)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=qy)},persist:function(){},isPersistent:qy}),o}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gy=qr(sl),lp=p({},sl,{view:0,detail:0}),uB=qr(lp),$v,Fv,up,Vy=p({},lp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hv,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==up&&(up&&i.type==="mousemove"?($v=i.screenX-up.screenX,Fv=i.screenY-up.screenY):Fv=$v=0,up=i),$v)},movementY:function(i){return"movementY"in i?i.movementY:Fv}}),bN=qr(Vy),hB=p({},Vy,{dataTransfer:0}),dB=qr(hB),fB=p({},lp,{relatedTarget:0}),jv=qr(fB),pB=p({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),gB=qr(pB),mB=p({},sl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),yB=qr(mB),wB=p({},sl,{data:0}),vN=qr(wB),bB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AB(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=EB[i])?!!o[i]:!1}function Hv(){return AB}var _B=p({},lp,{key:function(i){if(i.key){var o=bB[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=zy(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?vB[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hv,charCode:function(i){return i.type==="keypress"?zy(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?zy(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),CB=qr(_B),SB=p({},Vy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EN=qr(SB),NB=p({},lp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hv}),TB=qr(NB),OB=p({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),RB=qr(OB),IB=p({},Vy,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),xB=qr(IB),PB=p({},sl,{newState:0,oldState:0}),DB=qr(PB),UB=[9,13,27,32],zv=Ia&&"CompositionEvent"in window,hp=null;Ia&&"documentMode"in document&&(hp=document.documentMode);var kB=Ia&&"TextEvent"in window&&!hp,AN=Ia&&(!zv||hp&&8<hp&&11>=hp),_N=" ",CN=!1;function SN(i,o){switch(i){case"keyup":return UB.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NN(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ch=!1;function BB(i,o){switch(i){case"compositionend":return NN(o);case"keypress":return o.which!==32?null:(CN=!0,_N);case"textInput":return i=o.data,i===_N&&CN?null:i;default:return null}}function MB(i,o){if(ch)return i==="compositionend"||!zv&&SN(i,o)?(i=yN(),Hy=Lv=Bo=null,ch=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return AN&&o.locale!=="ko"?null:o.data;default:return null}}var LB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TN(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!LB[i.type]:o==="textarea"}function ON(i,o,l,f){ah?oh?oh.push(f):oh=[f]:ah=f,o=Pw(o,"onChange"),0<o.length&&(l=new Gy("onChange","change",null,l,f),i.push({event:l,listeners:o}))}var dp=null,fp=null;function $B(i){cO(i,0)}function Ky(i){var o=ap(i);if(lN(o))return i}function RN(i,o){if(i==="change")return o}var IN=!1;if(Ia){var qv;if(Ia){var Gv="oninput"in document;if(!Gv){var xN=document.createElement("div");xN.setAttribute("oninput","return;"),Gv=typeof xN.oninput=="function"}qv=Gv}else qv=!1;IN=qv&&(!document.documentMode||9<document.documentMode)}function PN(){dp&&(dp.detachEvent("onpropertychange",DN),fp=dp=null)}function DN(i){if(i.propertyName==="value"&&Ky(fp)){var o=[];ON(o,fp,i,kv(i)),mN($B,o)}}function FB(i,o,l){i==="focusin"?(PN(),dp=o,fp=l,dp.attachEvent("onpropertychange",DN)):i==="focusout"&&PN()}function jB(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ky(fp)}function HB(i,o){if(i==="click")return Ky(o)}function zB(i,o){if(i==="input"||i==="change")return Ky(o)}function qB(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var fs=typeof Object.is=="function"?Object.is:qB;function pp(i,o){if(fs(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),f=Object.keys(o);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!tn.call(o,g)||!fs(i[g],o[g]))return!1}return!0}function UN(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function kN(i,o){var l=UN(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=o&&f>=o)return{node:l,offset:o-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=UN(l)}}function BN(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?BN(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function MN(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Fy(i.document);o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=Fy(i.document)}return o}function Vv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var GB=Ia&&"documentMode"in document&&11>=document.documentMode,lh=null,Kv=null,gp=null,Wv=!1;function LN(i,o,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Wv||lh==null||lh!==Fy(f)||(f=lh,"selectionStart"in f&&Vv(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),gp&&pp(gp,f)||(gp=f,f=Pw(Kv,"onSelect"),0<f.length&&(o=new Gy("onSelect","select",null,o,l),i.push({event:o,listeners:f}),o.target=lh)))}function il(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var uh={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionrun:il("Transition","TransitionRun"),transitionstart:il("Transition","TransitionStart"),transitioncancel:il("Transition","TransitionCancel"),transitionend:il("Transition","TransitionEnd")},Yv={},$N={};Ia&&($N=document.createElement("div").style,"AnimationEvent"in window||(delete uh.animationend.animation,delete uh.animationiteration.animation,delete uh.animationstart.animation),"TransitionEvent"in window||delete uh.transitionend.transition);function al(i){if(Yv[i])return Yv[i];if(!uh[i])return i;var o=uh[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in $N)return Yv[i]=o[l];return i}var FN=al("animationend"),jN=al("animationiteration"),HN=al("animationstart"),VB=al("transitionrun"),KB=al("transitionstart"),WB=al("transitioncancel"),zN=al("transitionend"),qN=new Map,Qv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qv.push("scrollEnd");function di(i,o){qN.set(i,o),rl(o,[i])}var GN=new WeakMap;function $s(i,o){if(typeof i=="object"&&i!==null){var l=GN.get(i);return l!==void 0?l:(o={value:i,source:o,stack:oN(o)},GN.set(i,o),o)}return{value:i,source:o,stack:oN(o)}}var Fs=[],hh=0,Zv=0;function Wy(){for(var i=hh,o=Zv=hh=0;o<i;){var l=Fs[o];Fs[o++]=null;var f=Fs[o];Fs[o++]=null;var g=Fs[o];Fs[o++]=null;var w=Fs[o];if(Fs[o++]=null,f!==null&&g!==null){var _=f.pending;_===null?g.next=g:(g.next=_.next,_.next=g),f.pending=g}w!==0&&VN(l,g,w)}}function Yy(i,o,l,f){Fs[hh++]=i,Fs[hh++]=o,Fs[hh++]=l,Fs[hh++]=f,Zv|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Jv(i,o,l,f){return Yy(i,o,l,f),Qy(i)}function dh(i,o){return Yy(i,null,null,o),Qy(i)}function VN(i,o,l){i.lanes|=l;var f=i.alternate;f!==null&&(f.lanes|=l);for(var g=!1,w=i.return;w!==null;)w.childLanes|=l,f=w.alternate,f!==null&&(f.childLanes|=l),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(g=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,g&&o!==null&&(g=31-Ir(l),i=w.hiddenUpdates,f=i[g],f===null?i[g]=[o]:f.push(o),o.lane=l|536870912),w):null}function Qy(i){if(50<Fp)throw Fp=0,sA=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var fh={};function YB(i,o,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(i,o,l,f){return new YB(i,o,l,f)}function Xv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function xa(i,o){var l=i.alternate;return l===null?(l=ps(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function KN(i,o){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,o=l.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Zy(i,o,l,f,g,w){var _=0;if(f=i,typeof i=="function")Xv(i)&&(_=1);else if(typeof i=="string")_=Z4(i,l,oe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case $:return i=ps(31,l,o,g),i.elementType=$,i.lanes=w,i;case E:return ol(l.children,g,w,o);case v:_=8,g|=24;break;case A:return i=ps(12,l,o,g|2),i.elementType=A,i.lanes=w,i;case U:return i=ps(13,l,o,g),i.elementType=U,i.lanes=w,i;case O:return i=ps(19,l,o,g),i.elementType=O,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:case P:_=10;break e;case I:_=9;break e;case k:_=11;break e;case B:_=14;break e;case M:_=16,f=null;break e}_=29,l=Error(r(130,i===null?"null":typeof i,"")),f=null}return o=ps(_,l,o,g),o.elementType=i,o.type=f,o.lanes=w,o}function ol(i,o,l,f){return i=ps(7,i,f,o),i.lanes=l,i}function eE(i,o,l){return i=ps(6,i,null,o),i.lanes=l,i}function tE(i,o,l){return o=ps(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var ph=[],gh=0,Jy=null,Xy=0,js=[],Hs=0,cl=null,Pa=1,Da="";function ll(i,o){ph[gh++]=Xy,ph[gh++]=Jy,Jy=i,Xy=o}function WN(i,o,l){js[Hs++]=Pa,js[Hs++]=Da,js[Hs++]=cl,cl=i;var f=Pa;i=Da;var g=32-Ir(f)-1;f&=~(1<<g),l+=1;var w=32-Ir(o)+g;if(30<w){var _=g-g%5;w=(f&(1<<_)-1).toString(32),f>>=_,g-=_,Pa=1<<32-Ir(o)+g|l<<g|f,Da=w+i}else Pa=1<<w|l<<g|f,Da=i}function nE(i){i.return!==null&&(ll(i,1),WN(i,1,0))}function rE(i){for(;i===Jy;)Jy=ph[--gh],ph[gh]=null,Xy=ph[--gh],ph[gh]=null;for(;i===cl;)cl=js[--Hs],js[Hs]=null,Da=js[--Hs],js[Hs]=null,Pa=js[--Hs],js[Hs]=null}var xr=null,yn=null,Rt=!1,ul=null,zi=!1,sE=Error(r(519));function hl(i){var o=Error(r(418,""));throw wp($s(o,i)),sE}function YN(i){var o=i.stateNode,l=i.type,f=i.memoizedProps;switch(o[wr]=i,o[zr]=f,l){case"dialog":ft("cancel",o),ft("close",o);break;case"iframe":case"object":case"embed":ft("load",o);break;case"video":case"audio":for(l=0;l<Hp.length;l++)ft(Hp[l],o);break;case"source":ft("error",o);break;case"img":case"image":case"link":ft("error",o),ft("load",o);break;case"details":ft("toggle",o);break;case"input":ft("invalid",o),uN(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),$y(o);break;case"select":ft("invalid",o);break;case"textarea":ft("invalid",o),dN(o,f.value,f.defaultValue,f.children),$y(o)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||f.suppressHydrationWarning===!0||dO(o.textContent,l)?(f.popover!=null&&(ft("beforetoggle",o),ft("toggle",o)),f.onScroll!=null&&ft("scroll",o),f.onScrollEnd!=null&&ft("scrollend",o),f.onClick!=null&&(o.onclick=Dw),o=!0):o=!1,o||hl(i)}function QN(i){for(xr=i.return;xr;)switch(xr.tag){case 5:case 13:zi=!1;return;case 27:case 3:zi=!0;return;default:xr=xr.return}}function mp(i){if(i!==xr)return!1;if(!Rt)return QN(i),Rt=!0,!1;var o=i.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||vA(i.type,i.memoizedProps)),l=!l),l&&yn&&hl(i),QN(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(o===0){yn=pi(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;i=i.nextSibling}yn=null}}else o===27?(o=yn,Jo(i.type)?(i=CA,CA=null,yn=i):yn=o):yn=xr?pi(i.stateNode.nextSibling):null;return!0}function yp(){yn=xr=null,Rt=!1}function ZN(){var i=ul;return i!==null&&(Kr===null?Kr=i:Kr.push.apply(Kr,i),ul=null),i}function wp(i){ul===null?ul=[i]:ul.push(i)}var iE=W(null),dl=null,Ua=null;function Mo(i,o,l){ae(iE,o._currentValue),o._currentValue=l}function ka(i){i._currentValue=iE.current,ne(iE)}function aE(i,o,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===l)break;i=i.return}}function oE(i,o,l,f){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var w=g.dependencies;if(w!==null){var _=g.child;w=w.firstContext;e:for(;w!==null;){var x=w;w=g;for(var H=0;H<o.length;H++)if(x.context===o[H]){w.lanes|=l,x=w.alternate,x!==null&&(x.lanes|=l),aE(w.return,l,i),f||(_=null);break e}w=x.next}}else if(g.tag===18){if(_=g.return,_===null)throw Error(r(341));_.lanes|=l,w=_.alternate,w!==null&&(w.lanes|=l),aE(_,l,i),_=null}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===i){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}}function bp(i,o,l,f){i=null;for(var g=o,w=!1;g!==null;){if(!w){if((g.flags&524288)!==0)w=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var _=g.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var x=g.type;fs(g.pendingProps.value,_.value)||(i!==null?i.push(x):i=[x])}}else if(g===Ke.current){if(_=g.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Wp):i=[Wp])}g=g.return}i!==null&&oE(o,i,l,f),o.flags|=262144}function ew(i){for(i=i.firstContext;i!==null;){if(!fs(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function fl(i){dl=i,Ua=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function br(i){return JN(dl,i)}function tw(i,o){return dl===null&&fl(i),JN(i,o)}function JN(i,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Ua===null){if(i===null)throw Error(r(308));Ua=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Ua=Ua.next=o;return l}var QB=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(l,f){i.push(f)}};this.abort=function(){o.aborted=!0,i.forEach(function(l){return l()})}},ZB=n.unstable_scheduleCallback,JB=n.unstable_NormalPriority,Dn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cE(){return{controller:new QB,data:new Map,refCount:0}}function vp(i){i.refCount--,i.refCount===0&&ZB(JB,function(){i.controller.abort()})}var Ep=null,lE=0,mh=0,yh=null;function XB(i,o){if(Ep===null){var l=Ep=[];lE=0,mh=hA(),yh={status:"pending",value:void 0,then:function(f){l.push(f)}}}return lE++,o.then(XN,XN),o}function XN(){if(--lE===0&&Ep!==null){yh!==null&&(yh.status="fulfilled");var i=Ep;Ep=null,mh=0,yh=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function e4(i,o){var l=[],f={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){f.status="fulfilled",f.value=o;for(var g=0;g<l.length;g++)(0,l[g])(o)},function(g){for(f.status="rejected",f.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),f}var eT=C.S;C.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&XB(i,o),eT!==null&&eT(i,o)};var pl=W(null);function uE(){var i=pl.current;return i!==null?i:nn.pooledCache}function nw(i,o){o===null?ae(pl,pl.current):ae(pl,o.pool)}function tT(){var i=uE();return i===null?null:{parent:Dn._currentValue,pool:i}}var Ap=Error(r(460)),nT=Error(r(474)),rw=Error(r(542)),hE={then:function(){}};function rT(i){return i=i.status,i==="fulfilled"||i==="rejected"}function sw(){}function sT(i,o,l){switch(l=i[l],l===void 0?i.push(o):l!==o&&(o.then(sw,sw),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,aT(i),i;default:if(typeof o.status=="string")o.then(sw,sw);else{if(i=nn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(f){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=f}},function(f){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,aT(i),i}throw _p=o,Ap}}var _p=null;function iT(){if(_p===null)throw Error(r(459));var i=_p;return _p=null,i}function aT(i){if(i===Ap||i===rw)throw Error(r(483))}var Lo=!1;function dE(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fE(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function $o(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Fo(i,o,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Ut&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,o=Qy(i),VN(i,null,l),o}return Yy(i,f,o,l),Qy(i)}function Cp(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var f=o.lanes;f&=i.pendingLanes,l|=f,o.lanes=l,XS(i,l)}}function pE(i,o){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};w===null?g=w=_:w=w.next=_,l=l.next}while(l!==null);w===null?g=w=o:w=w.next=o}else g=w=o;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:f.shared,callbacks:f.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}var gE=!1;function Sp(){if(gE){var i=yh;if(i!==null)throw i}}function Np(i,o,l,f){gE=!1;var g=i.updateQueue;Lo=!1;var w=g.firstBaseUpdate,_=g.lastBaseUpdate,x=g.shared.pending;if(x!==null){g.shared.pending=null;var H=x,X=H.next;H.next=null,_===null?w=X:_.next=X,_=H;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,x=ce.lastBaseUpdate,x!==_&&(x===null?ce.firstBaseUpdate=X:x.next=X,ce.lastBaseUpdate=H))}if(w!==null){var ue=g.baseState;_=0,ce=X=H=null,x=w;do{var re=x.lane&-536870913,se=re!==x.lane;if(se?(bt&re)===re:(f&re)===re){re!==0&&re===mh&&(gE=!0),ce!==null&&(ce=ce.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Qe=i,He=x;re=o;var jt=l;switch(He.tag){case 1:if(Qe=He.payload,typeof Qe=="function"){ue=Qe.call(jt,ue,re);break e}ue=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=He.payload,re=typeof Qe=="function"?Qe.call(jt,ue,re):Qe,re==null)break e;ue=p({},ue,re);break e;case 2:Lo=!0}}re=x.callback,re!==null&&(i.flags|=64,se&&(i.flags|=8192),se=g.callbacks,se===null?g.callbacks=[re]:se.push(re))}else se={lane:re,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ce===null?(X=ce=se,H=ue):ce=ce.next=se,_|=re;if(x=x.next,x===null){if(x=g.shared.pending,x===null)break;se=x,x=se.next,se.next=null,g.lastBaseUpdate=se,g.shared.pending=null}}while(!0);ce===null&&(H=ue),g.baseState=H,g.firstBaseUpdate=X,g.lastBaseUpdate=ce,w===null&&(g.shared.lanes=0),Wo|=_,i.lanes=_,i.memoizedState=ue}}function oT(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function cT(i,o){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)oT(l[i],o)}var wh=W(null),iw=W(0);function lT(i,o){i=Ha,ae(iw,i),ae(wh,o),Ha=i|o.baseLanes}function mE(){ae(iw,Ha),ae(wh,wh.current)}function yE(){Ha=iw.current,ne(wh),ne(iw)}var jo=0,lt=null,$t=null,On=null,aw=!1,bh=!1,gl=!1,ow=0,Tp=0,vh=null,t4=0;function An(){throw Error(r(321))}function wE(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!fs(i[l],o[l]))return!1;return!0}function bE(i,o,l,f,g,w){return jo=w,lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,C.H=i===null||i.memoizedState===null?VT:KT,gl=!1,w=l(f,g),gl=!1,bh&&(w=hT(o,l,f,g)),uT(i),w}function uT(i){C.H=fw;var o=$t!==null&&$t.next!==null;if(jo=0,On=$t=lt=null,aw=!1,Tp=0,vh=null,o)throw Error(r(300));i===null||$n||(i=i.dependencies,i!==null&&ew(i)&&($n=!0))}function hT(i,o,l,f){lt=i;var g=0;do{if(bh&&(vh=null),Tp=0,bh=!1,25<=g)throw Error(r(301));if(g+=1,On=$t=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}C.H=c4,w=o(l,f)}while(bh);return w}function n4(){var i=C.H,o=i.useState()[0];return o=typeof o.then=="function"?Op(o):o,i=i.useState()[0],($t!==null?$t.memoizedState:null)!==i&&(lt.flags|=1024),o}function vE(){var i=ow!==0;return ow=0,i}function EE(i,o,l){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~l}function AE(i){if(aw){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}aw=!1}jo=0,On=$t=lt=null,bh=!1,Tp=ow=0,vh=null}function Gr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?lt.memoizedState=On=i:On=On.next=i,On}function Rn(){if($t===null){var i=lt.alternate;i=i!==null?i.memoizedState:null}else i=$t.next;var o=On===null?lt.memoizedState:On.next;if(o!==null)On=o,$t=i;else{if(i===null)throw lt.alternate===null?Error(r(467)):Error(r(310));$t=i,i={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},On===null?lt.memoizedState=On=i:On=On.next=i}return On}function _E(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Op(i){var o=Tp;return Tp+=1,vh===null&&(vh=[]),i=sT(vh,i,o),o=lt,(On===null?o.memoizedState:On.next)===null&&(o=o.alternate,C.H=o===null||o.memoizedState===null?VT:KT),i}function cw(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Op(i);if(i.$$typeof===P)return br(i)}throw Error(r(438,String(i)))}function CE(i){var o=null,l=lt.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var f=lt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=_E(),lt.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(i),f=0;f<i;f++)l[f]=q;return o.index++,l}function Ba(i,o){return typeof o=="function"?o(i):o}function lw(i){var o=Rn();return SE(o,$t,i)}function SE(i,o,l){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var g=i.baseQueue,w=f.pending;if(w!==null){if(g!==null){var _=g.next;g.next=w.next,w.next=_}o.baseQueue=g=w,f.pending=null}if(w=i.baseState,g===null)i.memoizedState=w;else{o=g.next;var x=_=null,H=null,X=o,ce=!1;do{var ue=X.lane&-536870913;if(ue!==X.lane?(bt&ue)===ue:(jo&ue)===ue){var re=X.revertLane;if(re===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ue===mh&&(ce=!0);else if((jo&re)===re){X=X.next,re===mh&&(ce=!0);continue}else ue={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},H===null?(x=H=ue,_=w):H=H.next=ue,lt.lanes|=re,Wo|=re;ue=X.action,gl&&l(w,ue),w=X.hasEagerState?X.eagerState:l(w,ue)}else re={lane:ue,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},H===null?(x=H=re,_=w):H=H.next=re,lt.lanes|=ue,Wo|=ue;X=X.next}while(X!==null&&X!==o);if(H===null?_=w:H.next=x,!fs(w,i.memoizedState)&&($n=!0,ce&&(l=yh,l!==null)))throw l;i.memoizedState=w,i.baseState=_,i.baseQueue=H,f.lastRenderedState=w}return g===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function NE(i){var o=Rn(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var f=l.dispatch,g=l.pending,w=o.memoizedState;if(g!==null){l.pending=null;var _=g=g.next;do w=i(w,_.action),_=_.next;while(_!==g);fs(w,o.memoizedState)||($n=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),l.lastRenderedState=w}return[w,f]}function dT(i,o,l){var f=lt,g=Rn(),w=Rt;if(w){if(l===void 0)throw Error(r(407));l=l()}else l=o();var _=!fs(($t||g).memoizedState,l);_&&(g.memoizedState=l,$n=!0),g=g.queue;var x=gT.bind(null,f,g,i);if(Rp(2048,8,x,[i]),g.getSnapshot!==o||_||On!==null&&On.memoizedState.tag&1){if(f.flags|=2048,Eh(9,uw(),pT.bind(null,f,g,l,o),null),nn===null)throw Error(r(349));w||(jo&124)!==0||fT(f,o,l)}return l}function fT(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=lt.updateQueue,o===null?(o=_E(),lt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function pT(i,o,l,f){o.value=l,o.getSnapshot=f,mT(o)&&yT(i)}function gT(i,o,l){return l(function(){mT(o)&&yT(i)})}function mT(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!fs(i,l)}catch{return!0}}function yT(i){var o=dh(i,2);o!==null&&bs(o,i,2)}function TE(i){var o=Gr();if(typeof i=="function"){var l=i;if(i=l(),gl){Hi(!0);try{l()}finally{Hi(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:i},o}function wT(i,o,l,f){return i.baseState=l,SE(i,$t,typeof f=="function"?f:Ba)}function r4(i,o,l,f,g){if(dw(i))throw Error(r(485));if(i=o.action,i!==null){var w={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){w.listeners.push(_)}};C.T!==null?l(!0):w.isTransition=!1,f(w),l=o.pending,l===null?(w.next=o.pending=w,bT(o,w)):(w.next=l.next,o.pending=l.next=w)}}function bT(i,o){var l=o.action,f=o.payload,g=i.state;if(o.isTransition){var w=C.T,_={};C.T=_;try{var x=l(g,f),H=C.S;H!==null&&H(_,x),vT(i,o,x)}catch(X){OE(i,o,X)}finally{C.T=w}}else try{w=l(g,f),vT(i,o,w)}catch(X){OE(i,o,X)}}function vT(i,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){ET(i,o,f)},function(f){return OE(i,o,f)}):ET(i,o,l)}function ET(i,o,l){o.status="fulfilled",o.value=l,AT(o),i.state=l,o=i.pending,o!==null&&(l=o.next,l===o?i.pending=null:(l=l.next,o.next=l,bT(i,l)))}function OE(i,o,l){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=l,AT(o),o=o.next;while(o!==f)}i.action=null}function AT(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function _T(i,o){return o}function CT(i,o){if(Rt){var l=nn.formState;if(l!==null){e:{var f=lt;if(Rt){if(yn){t:{for(var g=yn,w=zi;g.nodeType!==8;){if(!w){g=null;break t}if(g=pi(g.nextSibling),g===null){g=null;break t}}w=g.data,g=w==="F!"||w==="F"?g:null}if(g){yn=pi(g.nextSibling),f=g.data==="F!";break e}}hl(f)}f=!1}f&&(o=l[0])}}return l=Gr(),l.memoizedState=l.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_T,lastRenderedState:o},l.queue=f,l=zT.bind(null,lt,f),f.dispatch=l,f=TE(!1),w=DE.bind(null,lt,!1,f.queue),f=Gr(),g={state:o,dispatch:null,action:i,pending:null},f.queue=g,l=r4.bind(null,lt,g,w,l),g.dispatch=l,f.memoizedState=i,[o,l,!1]}function ST(i){var o=Rn();return NT(o,$t,i)}function NT(i,o,l){if(o=SE(i,o,_T)[0],i=lw(Ba)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Op(o)}catch(_){throw _===Ap?rw:_}else f=o;o=Rn();var g=o.queue,w=g.dispatch;return l!==o.memoizedState&&(lt.flags|=2048,Eh(9,uw(),s4.bind(null,g,l),null)),[f,w,i]}function s4(i,o){i.action=o}function TT(i){var o=Rn(),l=$t;if(l!==null)return NT(o,l,i);Rn(),o=o.memoizedState,l=Rn();var f=l.queue.dispatch;return l.memoizedState=i,[o,f,!1]}function Eh(i,o,l,f){return i={tag:i,create:l,deps:f,inst:o,next:null},o=lt.updateQueue,o===null&&(o=_E(),lt.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,o.lastEffect=i),i}function uw(){return{destroy:void 0,resource:void 0}}function OT(){return Rn().memoizedState}function hw(i,o,l,f){var g=Gr();f=f===void 0?null:f,lt.flags|=i,g.memoizedState=Eh(1|o,uw(),l,f)}function Rp(i,o,l,f){var g=Rn();f=f===void 0?null:f;var w=g.memoizedState.inst;$t!==null&&f!==null&&wE(f,$t.memoizedState.deps)?g.memoizedState=Eh(o,w,l,f):(lt.flags|=i,g.memoizedState=Eh(1|o,w,l,f))}function RT(i,o){hw(8390656,8,i,o)}function IT(i,o){Rp(2048,8,i,o)}function xT(i,o){return Rp(4,2,i,o)}function PT(i,o){return Rp(4,4,i,o)}function DT(i,o){if(typeof o=="function"){i=i();var l=o(i);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function UT(i,o,l){l=l!=null?l.concat([i]):null,Rp(4,4,DT.bind(null,o,i),l)}function RE(){}function kT(i,o){var l=Rn();o=o===void 0?null:o;var f=l.memoizedState;return o!==null&&wE(o,f[1])?f[0]:(l.memoizedState=[i,o],i)}function BT(i,o){var l=Rn();o=o===void 0?null:o;var f=l.memoizedState;if(o!==null&&wE(o,f[1]))return f[0];if(f=i(),gl){Hi(!0);try{i()}finally{Hi(!1)}}return l.memoizedState=[f,o],f}function IE(i,o,l){return l===void 0||(jo&1073741824)!==0?i.memoizedState=o:(i.memoizedState=l,i=$2(),lt.lanes|=i,Wo|=i,l)}function MT(i,o,l,f){return fs(l,o)?l:wh.current!==null?(i=IE(i,l,f),fs(i,o)||($n=!0),i):(jo&42)===0?($n=!0,i.memoizedState=l):(i=$2(),lt.lanes|=i,Wo|=i,o)}function LT(i,o,l,f,g){var w=L.p;L.p=w!==0&&8>w?w:8;var _=C.T,x={};C.T=x,DE(i,!1,o,l);try{var H=g(),X=C.S;if(X!==null&&X(x,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ce=e4(H,f);Ip(i,o,ce,ws(i))}else Ip(i,o,f,ws(i))}catch(ue){Ip(i,o,{then:function(){},status:"rejected",reason:ue},ws())}finally{L.p=w,C.T=_}}function i4(){}function xE(i,o,l,f){if(i.tag!==5)throw Error(r(476));var g=$T(i).queue;LT(i,g,o,z,l===null?i4:function(){return FT(i),l(f)})}function $T(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:z},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:l},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function FT(i){var o=$T(i).next.queue;Ip(i,o,{},ws())}function PE(){return br(Wp)}function jT(){return Rn().memoizedState}function HT(){return Rn().memoizedState}function a4(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var l=ws();i=$o(l);var f=Fo(o,i,l);f!==null&&(bs(f,o,l),Cp(f,o,l)),o={cache:cE()},i.payload=o;return}o=o.return}}function o4(i,o,l){var f=ws();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},dw(i)?qT(o,l):(l=Jv(i,o,l,f),l!==null&&(bs(l,i,f),GT(l,o,f)))}function zT(i,o,l){var f=ws();Ip(i,o,l,f)}function Ip(i,o,l,f){var g={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(dw(i))qT(o,g);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var _=o.lastRenderedState,x=w(_,l);if(g.hasEagerState=!0,g.eagerState=x,fs(x,_))return Yy(i,o,g,0),nn===null&&Wy(),!1}catch{}finally{}if(l=Jv(i,o,g,f),l!==null)return bs(l,i,f),GT(l,o,f),!0}return!1}function DE(i,o,l,f){if(f={lane:2,revertLane:hA(),action:f,hasEagerState:!1,eagerState:null,next:null},dw(i)){if(o)throw Error(r(479))}else o=Jv(i,l,f,2),o!==null&&bs(o,i,2)}function dw(i){var o=i.alternate;return i===lt||o!==null&&o===lt}function qT(i,o){bh=aw=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function GT(i,o,l){if((l&4194048)!==0){var f=o.lanes;f&=i.pendingLanes,l|=f,o.lanes=l,XS(i,l)}}var fw={readContext:br,use:cw,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useLayoutEffect:An,useInsertionEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useSyncExternalStore:An,useId:An,useHostTransitionStatus:An,useFormState:An,useActionState:An,useOptimistic:An,useMemoCache:An,useCacheRefresh:An},VT={readContext:br,use:cw,useCallback:function(i,o){return Gr().memoizedState=[i,o===void 0?null:o],i},useContext:br,useEffect:RT,useImperativeHandle:function(i,o,l){l=l!=null?l.concat([i]):null,hw(4194308,4,DT.bind(null,o,i),l)},useLayoutEffect:function(i,o){return hw(4194308,4,i,o)},useInsertionEffect:function(i,o){hw(4,2,i,o)},useMemo:function(i,o){var l=Gr();o=o===void 0?null:o;var f=i();if(gl){Hi(!0);try{i()}finally{Hi(!1)}}return l.memoizedState=[f,o],f},useReducer:function(i,o,l){var f=Gr();if(l!==void 0){var g=l(o);if(gl){Hi(!0);try{l(o)}finally{Hi(!1)}}}else g=o;return f.memoizedState=f.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},f.queue=i,i=i.dispatch=o4.bind(null,lt,i),[f.memoizedState,i]},useRef:function(i){var o=Gr();return i={current:i},o.memoizedState=i},useState:function(i){i=TE(i);var o=i.queue,l=zT.bind(null,lt,o);return o.dispatch=l,[i.memoizedState,l]},useDebugValue:RE,useDeferredValue:function(i,o){var l=Gr();return IE(l,i,o)},useTransition:function(){var i=TE(!1);return i=LT.bind(null,lt,i.queue,!0,!1),Gr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,l){var f=lt,g=Gr();if(Rt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),nn===null)throw Error(r(349));(bt&124)!==0||fT(f,o,l)}g.memoizedState=l;var w={value:l,getSnapshot:o};return g.queue=w,RT(gT.bind(null,f,w,i),[i]),f.flags|=2048,Eh(9,uw(),pT.bind(null,f,w,l,o),null),l},useId:function(){var i=Gr(),o=nn.identifierPrefix;if(Rt){var l=Da,f=Pa;l=(f&~(1<<32-Ir(f)-1)).toString(32)+l,o="«"+o+"R"+l,l=ow++,0<l&&(o+="H"+l.toString(32)),o+="»"}else l=t4++,o="«"+o+"r"+l.toString(32)+"»";return i.memoizedState=o},useHostTransitionStatus:PE,useFormState:CT,useActionState:CT,useOptimistic:function(i){var o=Gr();o.memoizedState=o.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=DE.bind(null,lt,!0,l),l.dispatch=o,[i,o]},useMemoCache:CE,useCacheRefresh:function(){return Gr().memoizedState=a4.bind(null,lt)}},KT={readContext:br,use:cw,useCallback:kT,useContext:br,useEffect:IT,useImperativeHandle:UT,useInsertionEffect:xT,useLayoutEffect:PT,useMemo:BT,useReducer:lw,useRef:OT,useState:function(){return lw(Ba)},useDebugValue:RE,useDeferredValue:function(i,o){var l=Rn();return MT(l,$t.memoizedState,i,o)},useTransition:function(){var i=lw(Ba)[0],o=Rn().memoizedState;return[typeof i=="boolean"?i:Op(i),o]},useSyncExternalStore:dT,useId:jT,useHostTransitionStatus:PE,useFormState:ST,useActionState:ST,useOptimistic:function(i,o){var l=Rn();return wT(l,$t,i,o)},useMemoCache:CE,useCacheRefresh:HT},c4={readContext:br,use:cw,useCallback:kT,useContext:br,useEffect:IT,useImperativeHandle:UT,useInsertionEffect:xT,useLayoutEffect:PT,useMemo:BT,useReducer:NE,useRef:OT,useState:function(){return NE(Ba)},useDebugValue:RE,useDeferredValue:function(i,o){var l=Rn();return $t===null?IE(l,i,o):MT(l,$t.memoizedState,i,o)},useTransition:function(){var i=NE(Ba)[0],o=Rn().memoizedState;return[typeof i=="boolean"?i:Op(i),o]},useSyncExternalStore:dT,useId:jT,useHostTransitionStatus:PE,useFormState:TT,useActionState:TT,useOptimistic:function(i,o){var l=Rn();return $t!==null?wT(l,$t,i,o):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:CE,useCacheRefresh:HT},Ah=null,xp=0;function pw(i){var o=xp;return xp+=1,Ah===null&&(Ah=[]),sT(Ah,i,o)}function Pp(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function gw(i,o){throw o.$$typeof===m?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function WT(i){var o=i._init;return o(i._payload)}function YT(i){function o(Q,K){if(i){var J=Q.deletions;J===null?(Q.deletions=[K],Q.flags|=16):J.push(K)}}function l(Q,K){if(!i)return null;for(;K!==null;)o(Q,K),K=K.sibling;return null}function f(Q){for(var K=new Map;Q!==null;)Q.key!==null?K.set(Q.key,Q):K.set(Q.index,Q),Q=Q.sibling;return K}function g(Q,K){return Q=xa(Q,K),Q.index=0,Q.sibling=null,Q}function w(Q,K,J){return Q.index=J,i?(J=Q.alternate,J!==null?(J=J.index,J<K?(Q.flags|=67108866,K):J):(Q.flags|=67108866,K)):(Q.flags|=1048576,K)}function _(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function x(Q,K,J,le){return K===null||K.tag!==6?(K=eE(J,Q.mode,le),K.return=Q,K):(K=g(K,J),K.return=Q,K)}function H(Q,K,J,le){var Ue=J.type;return Ue===E?ce(Q,K,J.props.children,le,J.key):K!==null&&(K.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===M&&WT(Ue)===K.type)?(K=g(K,J.props),Pp(K,J),K.return=Q,K):(K=Zy(J.type,J.key,J.props,null,Q.mode,le),Pp(K,J),K.return=Q,K)}function X(Q,K,J,le){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=tE(J,Q.mode,le),K.return=Q,K):(K=g(K,J.children||[]),K.return=Q,K)}function ce(Q,K,J,le,Ue){return K===null||K.tag!==7?(K=ol(J,Q.mode,le,Ue),K.return=Q,K):(K=g(K,J),K.return=Q,K)}function ue(Q,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=eE(""+K,Q.mode,J),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case y:return J=Zy(K.type,K.key,K.props,null,Q.mode,J),Pp(J,K),J.return=Q,J;case b:return K=tE(K,Q.mode,J),K.return=Q,K;case M:var le=K._init;return K=le(K._payload),ue(Q,K,J)}if(T(K)||te(K))return K=ol(K,Q.mode,J,null),K.return=Q,K;if(typeof K.then=="function")return ue(Q,pw(K),J);if(K.$$typeof===P)return ue(Q,tw(Q,K),J);gw(Q,K)}return null}function re(Q,K,J,le){var Ue=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ue!==null?null:x(Q,K,""+J,le);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case y:return J.key===Ue?H(Q,K,J,le):null;case b:return J.key===Ue?X(Q,K,J,le):null;case M:return Ue=J._init,J=Ue(J._payload),re(Q,K,J,le)}if(T(J)||te(J))return Ue!==null?null:ce(Q,K,J,le,null);if(typeof J.then=="function")return re(Q,K,pw(J),le);if(J.$$typeof===P)return re(Q,K,tw(Q,J),le);gw(Q,J)}return null}function se(Q,K,J,le,Ue){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Q=Q.get(J)||null,x(K,Q,""+le,Ue);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case y:return Q=Q.get(le.key===null?J:le.key)||null,H(K,Q,le,Ue);case b:return Q=Q.get(le.key===null?J:le.key)||null,X(K,Q,le,Ue);case M:var ut=le._init;return le=ut(le._payload),se(Q,K,J,le,Ue)}if(T(le)||te(le))return Q=Q.get(J)||null,ce(K,Q,le,Ue,null);if(typeof le.then=="function")return se(Q,K,J,pw(le),Ue);if(le.$$typeof===P)return se(Q,K,J,tw(K,le),Ue);gw(K,le)}return null}function Qe(Q,K,J,le){for(var Ue=null,ut=null,Me=K,Ge=K=0,jn=null;Me!==null&&Ge<J.length;Ge++){Me.index>Ge?(jn=Me,Me=null):jn=Me.sibling;var At=re(Q,Me,J[Ge],le);if(At===null){Me===null&&(Me=jn);break}i&&Me&&At.alternate===null&&o(Q,Me),K=w(At,K,Ge),ut===null?Ue=At:ut.sibling=At,ut=At,Me=jn}if(Ge===J.length)return l(Q,Me),Rt&&ll(Q,Ge),Ue;if(Me===null){for(;Ge<J.length;Ge++)Me=ue(Q,J[Ge],le),Me!==null&&(K=w(Me,K,Ge),ut===null?Ue=Me:ut.sibling=Me,ut=Me);return Rt&&ll(Q,Ge),Ue}for(Me=f(Me);Ge<J.length;Ge++)jn=se(Me,Q,Ge,J[Ge],le),jn!==null&&(i&&jn.alternate!==null&&Me.delete(jn.key===null?Ge:jn.key),K=w(jn,K,Ge),ut===null?Ue=jn:ut.sibling=jn,ut=jn);return i&&Me.forEach(function(rc){return o(Q,rc)}),Rt&&ll(Q,Ge),Ue}function He(Q,K,J,le){if(J==null)throw Error(r(151));for(var Ue=null,ut=null,Me=K,Ge=K=0,jn=null,At=J.next();Me!==null&&!At.done;Ge++,At=J.next()){Me.index>Ge?(jn=Me,Me=null):jn=Me.sibling;var rc=re(Q,Me,At.value,le);if(rc===null){Me===null&&(Me=jn);break}i&&Me&&rc.alternate===null&&o(Q,Me),K=w(rc,K,Ge),ut===null?Ue=rc:ut.sibling=rc,ut=rc,Me=jn}if(At.done)return l(Q,Me),Rt&&ll(Q,Ge),Ue;if(Me===null){for(;!At.done;Ge++,At=J.next())At=ue(Q,At.value,le),At!==null&&(K=w(At,K,Ge),ut===null?Ue=At:ut.sibling=At,ut=At);return Rt&&ll(Q,Ge),Ue}for(Me=f(Me);!At.done;Ge++,At=J.next())At=se(Me,Q,Ge,At.value,le),At!==null&&(i&&At.alternate!==null&&Me.delete(At.key===null?Ge:At.key),K=w(At,K,Ge),ut===null?Ue=At:ut.sibling=At,ut=At);return i&&Me.forEach(function(lM){return o(Q,lM)}),Rt&&ll(Q,Ge),Ue}function jt(Q,K,J,le){if(typeof J=="object"&&J!==null&&J.type===E&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case y:e:{for(var Ue=J.key;K!==null;){if(K.key===Ue){if(Ue=J.type,Ue===E){if(K.tag===7){l(Q,K.sibling),le=g(K,J.props.children),le.return=Q,Q=le;break e}}else if(K.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===M&&WT(Ue)===K.type){l(Q,K.sibling),le=g(K,J.props),Pp(le,J),le.return=Q,Q=le;break e}l(Q,K);break}else o(Q,K);K=K.sibling}J.type===E?(le=ol(J.props.children,Q.mode,le,J.key),le.return=Q,Q=le):(le=Zy(J.type,J.key,J.props,null,Q.mode,le),Pp(le,J),le.return=Q,Q=le)}return _(Q);case b:e:{for(Ue=J.key;K!==null;){if(K.key===Ue)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){l(Q,K.sibling),le=g(K,J.children||[]),le.return=Q,Q=le;break e}else{l(Q,K);break}else o(Q,K);K=K.sibling}le=tE(J,Q.mode,le),le.return=Q,Q=le}return _(Q);case M:return Ue=J._init,J=Ue(J._payload),jt(Q,K,J,le)}if(T(J))return Qe(Q,K,J,le);if(te(J)){if(Ue=te(J),typeof Ue!="function")throw Error(r(150));return J=Ue.call(J),He(Q,K,J,le)}if(typeof J.then=="function")return jt(Q,K,pw(J),le);if(J.$$typeof===P)return jt(Q,K,tw(Q,J),le);gw(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(l(Q,K.sibling),le=g(K,J),le.return=Q,Q=le):(l(Q,K),le=eE(J,Q.mode,le),le.return=Q,Q=le),_(Q)):l(Q,K)}return function(Q,K,J,le){try{xp=0;var Ue=jt(Q,K,J,le);return Ah=null,Ue}catch(Me){if(Me===Ap||Me===rw)throw Me;var ut=ps(29,Me,null,Q.mode);return ut.lanes=le,ut.return=Q,ut}finally{}}}var _h=YT(!0),QT=YT(!1),zs=W(null),qi=null;function Ho(i){var o=i.alternate;ae(Un,Un.current&1),ae(zs,i),qi===null&&(o===null||wh.current!==null||o.memoizedState!==null)&&(qi=i)}function ZT(i){if(i.tag===22){if(ae(Un,Un.current),ae(zs,i),qi===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(qi=i)}}else zo()}function zo(){ae(Un,Un.current),ae(zs,zs.current)}function Ma(i){ne(zs),qi===i&&(qi=null),ne(Un)}var Un=W(0);function mw(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||_A(l)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function UE(i,o,l,f){o=i.memoizedState,l=l(f,o),l=l==null?o:p({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var kE={enqueueSetState:function(i,o,l){i=i._reactInternals;var f=ws(),g=$o(f);g.payload=o,l!=null&&(g.callback=l),o=Fo(i,g,f),o!==null&&(bs(o,i,f),Cp(o,i,f))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var f=ws(),g=$o(f);g.tag=1,g.payload=o,l!=null&&(g.callback=l),o=Fo(i,g,f),o!==null&&(bs(o,i,f),Cp(o,i,f))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=ws(),f=$o(l);f.tag=2,o!=null&&(f.callback=o),o=Fo(i,f,l),o!==null&&(bs(o,i,l),Cp(o,i,l))}};function JT(i,o,l,f,g,w,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,w,_):o.prototype&&o.prototype.isPureReactComponent?!pp(l,f)||!pp(g,w):!0}function XT(i,o,l,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,f),o.state!==i&&kE.enqueueReplaceState(o,o.state,null)}function ml(i,o){var l=o;if("ref"in o){l={};for(var f in o)f!=="ref"&&(l[f]=o[f])}if(i=i.defaultProps){l===o&&(l=p({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var yw=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function e2(i){yw(i)}function t2(i){console.error(i)}function n2(i){yw(i)}function ww(i,o){try{var l=i.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function r2(i,o,l){try{var f=i.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function BE(i,o,l){return l=$o(l),l.tag=3,l.payload={element:null},l.callback=function(){ww(i,o)},l}function s2(i){return i=$o(i),i.tag=3,i}function i2(i,o,l,f){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var w=f.value;i.payload=function(){return g(w)},i.callback=function(){r2(o,l,f)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){r2(o,l,f),typeof g!="function"&&(Yo===null?Yo=new Set([this]):Yo.add(this));var x=f.stack;this.componentDidCatch(f.value,{componentStack:x!==null?x:""})})}function l4(i,o,l,f,g){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=l.alternate,o!==null&&bp(o,l,g,!0),l=zs.current,l!==null){switch(l.tag){case 13:return qi===null?aA():l.alternate===null&&wn===0&&(wn=3),l.flags&=-257,l.flags|=65536,l.lanes=g,f===hE?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([f]):o.add(f),cA(i,f,g)),!1;case 22:return l.flags|=65536,f===hE?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([f]):l.add(f)),cA(i,f,g)),!1}throw Error(r(435,l.tag))}return cA(i,f,g),aA(),!1}if(Rt)return o=zs.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,f!==sE&&(i=Error(r(422),{cause:f}),wp($s(i,l)))):(f!==sE&&(o=Error(r(423),{cause:f}),wp($s(o,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,f=$s(f,l),g=BE(i.stateNode,f,g),pE(i,g),wn!==4&&(wn=2)),!1;var w=Error(r(520),{cause:f});if(w=$s(w,l),$p===null?$p=[w]:$p.push(w),wn!==4&&(wn=2),o===null)return!0;f=$s(f,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=BE(l.stateNode,f,i),pE(l,i),!1;case 1:if(o=l.type,w=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Yo===null||!Yo.has(w))))return l.flags|=65536,g&=-g,l.lanes|=g,g=s2(g),i2(g,i,l,f),pE(l,g),!1}l=l.return}while(l!==null);return!1}var a2=Error(r(461)),$n=!1;function er(i,o,l,f){o.child=i===null?QT(o,null,l,f):_h(o,i.child,l,f)}function o2(i,o,l,f,g){l=l.render;var w=o.ref;if("ref"in f){var _={};for(var x in f)x!=="ref"&&(_[x]=f[x])}else _=f;return fl(o),f=bE(i,o,l,_,w,g),x=vE(),i!==null&&!$n?(EE(i,o,g),La(i,o,g)):(Rt&&x&&nE(o),o.flags|=1,er(i,o,f,g),o.child)}function c2(i,o,l,f,g){if(i===null){var w=l.type;return typeof w=="function"&&!Xv(w)&&w.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=w,l2(i,o,w,f,g)):(i=Zy(l.type,null,f,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,!qE(i,g)){var _=w.memoizedProps;if(l=l.compare,l=l!==null?l:pp,l(_,f)&&i.ref===o.ref)return La(i,o,g)}return o.flags|=1,i=xa(w,f),i.ref=o.ref,i.return=o,o.child=i}function l2(i,o,l,f,g){if(i!==null){var w=i.memoizedProps;if(pp(w,f)&&i.ref===o.ref)if($n=!1,o.pendingProps=f=w,qE(i,g))(i.flags&131072)!==0&&($n=!0);else return o.lanes=i.lanes,La(i,o,g)}return ME(i,o,l,f,g)}function u2(i,o,l){var f=o.pendingProps,g=f.children,w=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=w!==null?w.baseLanes|l:l,i!==null){for(g=o.child=i.child,w=0;g!==null;)w=w|g.lanes|g.childLanes,g=g.sibling;o.childLanes=w&~f}else o.childLanes=0,o.child=null;return h2(i,o,f,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&nw(o,w!==null?w.cachePool:null),w!==null?lT(o,w):mE(),ZT(o);else return o.lanes=o.childLanes=536870912,h2(i,o,w!==null?w.baseLanes|l:l,l)}else w!==null?(nw(o,w.cachePool),lT(o,w),zo(),o.memoizedState=null):(i!==null&&nw(o,null),mE(),zo());return er(i,o,g,l),o.child}function h2(i,o,l,f){var g=uE();return g=g===null?null:{parent:Dn._currentValue,pool:g},o.memoizedState={baseLanes:l,cachePool:g},i!==null&&nw(o,null),mE(),ZT(o),i!==null&&bp(i,o,f,!0),null}function bw(i,o){var l=o.ref;if(l===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(o.flags|=4194816)}}function ME(i,o,l,f,g){return fl(o),l=bE(i,o,l,f,void 0,g),f=vE(),i!==null&&!$n?(EE(i,o,g),La(i,o,g)):(Rt&&f&&nE(o),o.flags|=1,er(i,o,l,g),o.child)}function d2(i,o,l,f,g,w){return fl(o),o.updateQueue=null,l=hT(o,f,l,g),uT(i),f=vE(),i!==null&&!$n?(EE(i,o,w),La(i,o,w)):(Rt&&f&&nE(o),o.flags|=1,er(i,o,l,w),o.child)}function f2(i,o,l,f,g){if(fl(o),o.stateNode===null){var w=fh,_=l.contextType;typeof _=="object"&&_!==null&&(w=br(_)),w=new l(f,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=kE,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=f,w.state=o.memoizedState,w.refs={},dE(o),_=l.contextType,w.context=typeof _=="object"&&_!==null?br(_):fh,w.state=o.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(UE(o,l,_,f),w.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(_=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),_!==w.state&&kE.enqueueReplaceState(w,w.state,null),Np(o,f,w,g),Sp(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(i===null){w=o.stateNode;var x=o.memoizedProps,H=ml(l,x);w.props=H;var X=w.context,ce=l.contextType;_=fh,typeof ce=="object"&&ce!==null&&(_=br(ce));var ue=l.getDerivedStateFromProps;ce=typeof ue=="function"||typeof w.getSnapshotBeforeUpdate=="function",x=o.pendingProps!==x,ce||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(x||X!==_)&&XT(o,w,f,_),Lo=!1;var re=o.memoizedState;w.state=re,Np(o,f,w,g),Sp(),X=o.memoizedState,x||re!==X||Lo?(typeof ue=="function"&&(UE(o,l,ue,f),X=o.memoizedState),(H=Lo||JT(o,l,H,f,re,X,_))?(ce||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=X),w.props=f,w.state=X,w.context=_,f=H):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{w=o.stateNode,fE(i,o),_=o.memoizedProps,ce=ml(l,_),w.props=ce,ue=o.pendingProps,re=w.context,X=l.contextType,H=fh,typeof X=="object"&&X!==null&&(H=br(X)),x=l.getDerivedStateFromProps,(X=typeof x=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(_!==ue||re!==H)&&XT(o,w,f,H),Lo=!1,re=o.memoizedState,w.state=re,Np(o,f,w,g),Sp();var se=o.memoizedState;_!==ue||re!==se||Lo||i!==null&&i.dependencies!==null&&ew(i.dependencies)?(typeof x=="function"&&(UE(o,l,x,f),se=o.memoizedState),(ce=Lo||JT(o,l,ce,f,re,se,H)||i!==null&&i.dependencies!==null&&ew(i.dependencies))?(X||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,se,H),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,se,H)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||_===i.memoizedProps&&re===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&re===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=se),w.props=f,w.state=se,w.context=H,f=ce):(typeof w.componentDidUpdate!="function"||_===i.memoizedProps&&re===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&re===i.memoizedState||(o.flags|=1024),f=!1)}return w=f,bw(i,o),f=(o.flags&128)!==0,w||f?(w=o.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,i!==null&&f?(o.child=_h(o,i.child,null,g),o.child=_h(o,null,l,g)):er(i,o,l,g),o.memoizedState=w.state,i=o.child):i=La(i,o,g),i}function p2(i,o,l,f){return yp(),o.flags|=256,er(i,o,l,f),o.child}var LE={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $E(i){return{baseLanes:i,cachePool:tT()}}function FE(i,o,l){return i=i!==null?i.childLanes&~l:0,o&&(i|=qs),i}function g2(i,o,l){var f=o.pendingProps,g=!1,w=(o.flags&128)!==0,_;if((_=w)||(_=i!==null&&i.memoizedState===null?!1:(Un.current&2)!==0),_&&(g=!0,o.flags&=-129),_=(o.flags&32)!==0,o.flags&=-33,i===null){if(Rt){if(g?Ho(o):zo(),Rt){var x=yn,H;if(H=x){e:{for(H=x,x=zi;H.nodeType!==8;){if(!x){x=null;break e}if(H=pi(H.nextSibling),H===null){x=null;break e}}x=H}x!==null?(o.memoizedState={dehydrated:x,treeContext:cl!==null?{id:Pa,overflow:Da}:null,retryLane:536870912,hydrationErrors:null},H=ps(18,null,null,0),H.stateNode=x,H.return=o,o.child=H,xr=o,yn=null,H=!0):H=!1}H||hl(o)}if(x=o.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return _A(x)?o.lanes=32:o.lanes=536870912,null;Ma(o)}return x=f.children,f=f.fallback,g?(zo(),g=o.mode,x=vw({mode:"hidden",children:x},g),f=ol(f,g,l,null),x.return=o,f.return=o,x.sibling=f,o.child=x,g=o.child,g.memoizedState=$E(l),g.childLanes=FE(i,_,l),o.memoizedState=LE,f):(Ho(o),jE(o,x))}if(H=i.memoizedState,H!==null&&(x=H.dehydrated,x!==null)){if(w)o.flags&256?(Ho(o),o.flags&=-257,o=HE(i,o,l)):o.memoizedState!==null?(zo(),o.child=i.child,o.flags|=128,o=null):(zo(),g=f.fallback,x=o.mode,f=vw({mode:"visible",children:f.children},x),g=ol(g,x,l,null),g.flags|=2,f.return=o,g.return=o,f.sibling=g,o.child=f,_h(o,i.child,null,l),f=o.child,f.memoizedState=$E(l),f.childLanes=FE(i,_,l),o.memoizedState=LE,o=g);else if(Ho(o),_A(x)){if(_=x.nextSibling&&x.nextSibling.dataset,_)var X=_.dgst;_=X,f=Error(r(419)),f.stack="",f.digest=_,wp({value:f,source:null,stack:null}),o=HE(i,o,l)}else if($n||bp(i,o,l,!1),_=(l&i.childLanes)!==0,$n||_){if(_=nn,_!==null&&(f=l&-l,f=(f&42)!==0?1:Cv(f),f=(f&(_.suspendedLanes|l))!==0?0:f,f!==0&&f!==H.retryLane))throw H.retryLane=f,dh(i,f),bs(_,i,f),a2;x.data==="$?"||aA(),o=HE(i,o,l)}else x.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=H.treeContext,yn=pi(x.nextSibling),xr=o,Rt=!0,ul=null,zi=!1,i!==null&&(js[Hs++]=Pa,js[Hs++]=Da,js[Hs++]=cl,Pa=i.id,Da=i.overflow,cl=o),o=jE(o,f.children),o.flags|=4096);return o}return g?(zo(),g=f.fallback,x=o.mode,H=i.child,X=H.sibling,f=xa(H,{mode:"hidden",children:f.children}),f.subtreeFlags=H.subtreeFlags&65011712,X!==null?g=xa(X,g):(g=ol(g,x,l,null),g.flags|=2),g.return=o,f.return=o,f.sibling=g,o.child=f,f=g,g=o.child,x=i.child.memoizedState,x===null?x=$E(l):(H=x.cachePool,H!==null?(X=Dn._currentValue,H=H.parent!==X?{parent:X,pool:X}:H):H=tT(),x={baseLanes:x.baseLanes|l,cachePool:H}),g.memoizedState=x,g.childLanes=FE(i,_,l),o.memoizedState=LE,f):(Ho(o),l=i.child,i=l.sibling,l=xa(l,{mode:"visible",children:f.children}),l.return=o,l.sibling=null,i!==null&&(_=o.deletions,_===null?(o.deletions=[i],o.flags|=16):_.push(i)),o.child=l,o.memoizedState=null,l)}function jE(i,o){return o=vw({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function vw(i,o){return i=ps(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function HE(i,o,l){return _h(o,i.child,null,l),i=jE(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function m2(i,o,l){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),aE(i.return,o,l)}function zE(i,o,l,f,g){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=l,w.tailMode=g)}function y2(i,o,l){var f=o.pendingProps,g=f.revealOrder,w=f.tail;if(er(i,o,f.children,l),f=Un.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&m2(i,l,o);else if(i.tag===19)m2(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(ae(Un,f),g){case"forwards":for(l=o.child,g=null;l!==null;)i=l.alternate,i!==null&&mw(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=o.child,o.child=null):(g=l.sibling,l.sibling=null),zE(o,!1,g,l,w);break;case"backwards":for(l=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&mw(i)===null){o.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}zE(o,!0,l,null,w);break;case"together":zE(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function La(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Wo|=o.lanes,(l&o.childLanes)===0)if(i!==null){if(bp(i,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,l=xa(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=xa(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function qE(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&ew(i)))}function u4(i,o,l){switch(o.tag){case 3:Be(o,o.stateNode.containerInfo),Mo(o,Dn,i.memoizedState.cache),yp();break;case 27:case 5:Kt(o);break;case 4:Be(o,o.stateNode.containerInfo);break;case 10:Mo(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Ho(o),o.flags|=128,null):(l&o.child.childLanes)!==0?g2(i,o,l):(Ho(o),i=La(i,o,l),i!==null?i.sibling:null);Ho(o);break;case 19:var g=(i.flags&128)!==0;if(f=(l&o.childLanes)!==0,f||(bp(i,o,l,!1),f=(l&o.childLanes)!==0),g){if(f)return y2(i,o,l);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ae(Un,Un.current),f)break;return null;case 22:case 23:return o.lanes=0,u2(i,o,l);case 24:Mo(o,Dn,i.memoizedState.cache)}return La(i,o,l)}function w2(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps)$n=!0;else{if(!qE(i,l)&&(o.flags&128)===0)return $n=!1,u4(i,o,l);$n=(i.flags&131072)!==0}else $n=!1,Rt&&(o.flags&1048576)!==0&&WN(o,Xy,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var f=o.elementType,g=f._init;if(f=g(f._payload),o.type=f,typeof f=="function")Xv(f)?(i=ml(f,i),o.tag=1,o=f2(null,o,f,i,l)):(o.tag=0,o=ME(null,o,f,i,l));else{if(f!=null){if(g=f.$$typeof,g===k){o.tag=11,o=o2(null,o,f,i,l);break e}else if(g===B){o.tag=14,o=c2(null,o,f,i,l);break e}}throw o=Z(f)||f,Error(r(306,o,""))}}return o;case 0:return ME(i,o,o.type,o.pendingProps,l);case 1:return f=o.type,g=ml(f,o.pendingProps),f2(i,o,f,g,l);case 3:e:{if(Be(o,o.stateNode.containerInfo),i===null)throw Error(r(387));f=o.pendingProps;var w=o.memoizedState;g=w.element,fE(i,o),Np(o,f,null,l);var _=o.memoizedState;if(f=_.cache,Mo(o,Dn,f),f!==w.cache&&oE(o,[Dn],l,!0),Sp(),f=_.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:_.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=p2(i,o,f,l);break e}else if(f!==g){g=$s(Error(r(424)),o),wp(g),o=p2(i,o,f,l);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(yn=pi(i.firstChild),xr=o,Rt=!0,ul=null,zi=!0,l=QT(o,null,f,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(yp(),f===g){o=La(i,o,l);break e}er(i,o,f,l)}o=o.child}return o;case 26:return bw(i,o),i===null?(l=AO(o.type,null,o.pendingProps,null))?o.memoizedState=l:Rt||(l=o.type,i=o.pendingProps,f=Uw(me.current).createElement(l),f[wr]=o,f[zr]=i,nr(f,l,i),Ln(f),o.stateNode=f):o.memoizedState=AO(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Kt(o),i===null&&Rt&&(f=o.stateNode=bO(o.type,o.pendingProps,me.current),xr=o,zi=!0,g=yn,Jo(o.type)?(CA=g,yn=pi(f.firstChild)):yn=g),er(i,o,o.pendingProps.children,l),bw(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Rt&&((g=f=yn)&&(f=L4(f,o.type,o.pendingProps,zi),f!==null?(o.stateNode=f,xr=o,yn=pi(f.firstChild),zi=!1,g=!0):g=!1),g||hl(o)),Kt(o),g=o.type,w=o.pendingProps,_=i!==null?i.memoizedProps:null,f=w.children,vA(g,w)?f=null:_!==null&&vA(g,_)&&(o.flags|=32),o.memoizedState!==null&&(g=bE(i,o,n4,null,null,l),Wp._currentValue=g),bw(i,o),er(i,o,f,l),o.child;case 6:return i===null&&Rt&&((i=l=yn)&&(l=$4(l,o.pendingProps,zi),l!==null?(o.stateNode=l,xr=o,yn=null,i=!0):i=!1),i||hl(o)),null;case 13:return g2(i,o,l);case 4:return Be(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=_h(o,null,f,l):er(i,o,f,l),o.child;case 11:return o2(i,o,o.type,o.pendingProps,l);case 7:return er(i,o,o.pendingProps,l),o.child;case 8:return er(i,o,o.pendingProps.children,l),o.child;case 12:return er(i,o,o.pendingProps.children,l),o.child;case 10:return f=o.pendingProps,Mo(o,o.type,f.value),er(i,o,f.children,l),o.child;case 9:return g=o.type._context,f=o.pendingProps.children,fl(o),g=br(g),f=f(g),o.flags|=1,er(i,o,f,l),o.child;case 14:return c2(i,o,o.type,o.pendingProps,l);case 15:return l2(i,o,o.type,o.pendingProps,l);case 19:return y2(i,o,l);case 31:return f=o.pendingProps,l=o.mode,f={mode:f.mode,children:f.children},i===null?(l=vw(f,l),l.ref=o.ref,o.child=l,l.return=o,o=l):(l=xa(i.child,f),l.ref=o.ref,o.child=l,l.return=o,o=l),o;case 22:return u2(i,o,l);case 24:return fl(o),f=br(Dn),i===null?(g=uE(),g===null&&(g=nn,w=cE(),g.pooledCache=w,w.refCount++,w!==null&&(g.pooledCacheLanes|=l),g=w),o.memoizedState={parent:f,cache:g},dE(o),Mo(o,Dn,g)):((i.lanes&l)!==0&&(fE(i,o),Np(o,null,null,l),Sp()),g=i.memoizedState,w=o.memoizedState,g.parent!==f?(g={parent:f,cache:f},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),Mo(o,Dn,f)):(f=w.cache,Mo(o,Dn,f),f!==g.cache&&oE(o,[Dn],l,!0))),er(i,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function $a(i){i.flags|=4}function b2(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!TO(o)){if(o=zs.current,o!==null&&((bt&4194048)===bt?qi!==null:(bt&62914560)!==bt&&(bt&536870912)===0||o!==qi))throw _p=hE,nT;i.flags|=8192}}function Ew(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?ZS():536870912,i.lanes|=o,Th|=o)}function Dp(i,o){if(!Rt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function pn(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(o)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=l,o}function h4(i,o,l){var f=o.pendingProps;switch(rE(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(o),null;case 1:return pn(o),null;case 3:return l=o.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),ka(Dn),We(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(mp(o)?$a(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ZN())),pn(o),null;case 26:return l=o.memoizedState,i===null?($a(o),l!==null?(pn(o),b2(o,l)):(pn(o),o.flags&=-16777217)):l?l!==i.memoizedState?($a(o),pn(o),b2(o,l)):(pn(o),o.flags&=-16777217):(i.memoizedProps!==f&&$a(o),pn(o),o.flags&=-16777217),null;case 27:an(o),l=me.current;var g=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==f&&$a(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return pn(o),null}i=oe.current,mp(o)?YN(o):(i=bO(g,f,l),o.stateNode=i,$a(o))}return pn(o),null;case 5:if(an(o),l=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==f&&$a(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return pn(o),null}if(i=oe.current,mp(o))YN(o);else{switch(g=Uw(me.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?g.createElement(l,{is:f.is}):g.createElement(l)}}i[wr]=o,i[zr]=f;e:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break e;for(;g.sibling===null;){if(g.return===null||g.return===o)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=i;e:switch(nr(i,l,f),l){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&$a(o)}}return pn(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==f&&$a(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(r(166));if(i=me.current,mp(o)){if(i=o.stateNode,l=o.memoizedProps,f=null,g=xr,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}i[wr]=o,i=!!(i.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||dO(i.nodeValue,l)),i||hl(o)}else i=Uw(i).createTextNode(f),i[wr]=o,o.stateNode=i}return pn(o),null;case 13:if(f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=mp(o),f!==null&&f.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[wr]=o}else yp(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;pn(o),g=!1}else g=ZN(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(Ma(o),o):(Ma(o),null)}if(Ma(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=f!==null,i=i!==null&&i.memoizedState!==null,l){f=o.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var w=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==g&&(f.flags|=2048)}return l!==i&&l&&(o.child.flags|=8192),Ew(o,o.updateQueue),pn(o),null;case 4:return We(),i===null&&gA(o.stateNode.containerInfo),pn(o),null;case 10:return ka(o.type),pn(o),null;case 19:if(ne(Un),g=o.memoizedState,g===null)return pn(o),null;if(f=(o.flags&128)!==0,w=g.rendering,w===null)if(f)Dp(g,!1);else{if(wn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(w=mw(i),w!==null){for(o.flags|=128,Dp(g,!1),i=w.updateQueue,o.updateQueue=i,Ew(o,i),o.subtreeFlags=0,i=l,l=o.child;l!==null;)KN(l,i),l=l.sibling;return ae(Un,Un.current&1|2),o.child}i=i.sibling}g.tail!==null&&Bs()>Cw&&(o.flags|=128,f=!0,Dp(g,!1),o.lanes=4194304)}else{if(!f)if(i=mw(w),i!==null){if(o.flags|=128,f=!0,i=i.updateQueue,o.updateQueue=i,Ew(o,i),Dp(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!Rt)return pn(o),null}else 2*Bs()-g.renderingStartTime>Cw&&l!==536870912&&(o.flags|=128,f=!0,Dp(g,!1),o.lanes=4194304);g.isBackwards?(w.sibling=o.child,o.child=w):(i=g.last,i!==null?i.sibling=w:o.child=w,g.last=w)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Bs(),o.sibling=null,i=Un.current,ae(Un,f?i&1|2:i&1),o):(pn(o),null);case 22:case 23:return Ma(o),yE(),f=o.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(l&536870912)!==0&&(o.flags&128)===0&&(pn(o),o.subtreeFlags&6&&(o.flags|=8192)):pn(o),l=o.updateQueue,l!==null&&Ew(o,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==l&&(o.flags|=2048),i!==null&&ne(pl),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),ka(Dn),pn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function d4(i,o){switch(rE(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ka(Dn),We(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return an(o),null;case 13:if(Ma(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));yp()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ne(Un),null;case 4:return We(),null;case 10:return ka(o.type),null;case 22:case 23:return Ma(o),yE(),i!==null&&ne(pl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return ka(Dn),null;case 25:return null;default:return null}}function v2(i,o){switch(rE(o),o.tag){case 3:ka(Dn),We();break;case 26:case 27:case 5:an(o);break;case 4:We();break;case 13:Ma(o);break;case 19:ne(Un);break;case 10:ka(o.type);break;case 22:case 23:Ma(o),yE(),i!==null&&ne(pl);break;case 24:ka(Dn)}}function Up(i,o){try{var l=o.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&i)===i){f=void 0;var w=l.create,_=l.inst;f=w(),_.destroy=f}l=l.next}while(l!==g)}}catch(x){Wt(o,o.return,x)}}function qo(i,o,l){try{var f=o.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var w=g.next;f=w;do{if((f.tag&i)===i){var _=f.inst,x=_.destroy;if(x!==void 0){_.destroy=void 0,g=o;var H=l,X=x;try{X()}catch(ce){Wt(g,H,ce)}}}f=f.next}while(f!==w)}}catch(ce){Wt(o,o.return,ce)}}function E2(i){var o=i.updateQueue;if(o!==null){var l=i.stateNode;try{cT(o,l)}catch(f){Wt(i,i.return,f)}}}function A2(i,o,l){l.props=ml(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(f){Wt(i,o,f)}}function kp(i,o){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof l=="function"?i.refCleanup=l(f):l.current=f}}catch(g){Wt(i,o,g)}}function Gi(i,o){var l=i.ref,f=i.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(g){Wt(i,o,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Wt(i,o,g)}else l.current=null}function _2(i){var o=i.type,l=i.memoizedProps,f=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(g){Wt(i,i.return,g)}}function GE(i,o,l){try{var f=i.stateNode;D4(f,i.type,l,o),f[zr]=o}catch(g){Wt(i,i.return,g)}}function C2(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Jo(i.type)||i.tag===4}function VE(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||C2(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Jo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function KE(i,o,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(i),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Dw));else if(f!==4&&(f===27&&Jo(i.type)&&(l=i.stateNode,o=null),i=i.child,i!==null))for(KE(i,o,l),i=i.sibling;i!==null;)KE(i,o,l),i=i.sibling}function Aw(i,o,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(f!==4&&(f===27&&Jo(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Aw(i,o,l),i=i.sibling;i!==null;)Aw(i,o,l),i=i.sibling}function S2(i){var o=i.stateNode,l=i.memoizedProps;try{for(var f=i.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);nr(o,f,l),o[wr]=i,o[zr]=l}catch(w){Wt(i,i.return,w)}}var Fa=!1,_n=!1,WE=!1,N2=typeof WeakSet=="function"?WeakSet:Set,Fn=null;function f4(i,o){if(i=i.containerInfo,wA=Fw,i=MN(i),Vv(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var _=0,x=-1,H=-1,X=0,ce=0,ue=i,re=null;t:for(;;){for(var se;ue!==l||g!==0&&ue.nodeType!==3||(x=_+g),ue!==w||f!==0&&ue.nodeType!==3||(H=_+f),ue.nodeType===3&&(_+=ue.nodeValue.length),(se=ue.firstChild)!==null;)re=ue,ue=se;for(;;){if(ue===i)break t;if(re===l&&++X===g&&(x=_),re===w&&++ce===f&&(H=_),(se=ue.nextSibling)!==null)break;ue=re,re=ue.parentNode}ue=se}l=x===-1||H===-1?null:{start:x,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(bA={focusedElem:i,selectionRange:l},Fw=!1,Fn=o;Fn!==null;)if(o=Fn,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,Fn=i;else for(;Fn!==null;){switch(o=Fn,w=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,l=o,g=w.memoizedProps,w=w.memoizedState,f=l.stateNode;try{var Qe=ml(l.type,g,l.elementType===l.type);i=f.getSnapshotBeforeUpdate(Qe,w),f.__reactInternalSnapshotBeforeUpdate=i}catch(He){Wt(l,l.return,He)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,l=i.nodeType,l===9)AA(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":AA(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Fn=i;break}Fn=o.return}}function T2(i,o,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Go(i,l),f&4&&Up(5,l);break;case 1:if(Go(i,l),f&4)if(i=l.stateNode,o===null)try{i.componentDidMount()}catch(_){Wt(l,l.return,_)}else{var g=ml(l.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(g,o,i.__reactInternalSnapshotBeforeUpdate)}catch(_){Wt(l,l.return,_)}}f&64&&E2(l),f&512&&kp(l,l.return);break;case 3:if(Go(i,l),f&64&&(i=l.updateQueue,i!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{cT(i,o)}catch(_){Wt(l,l.return,_)}}break;case 27:o===null&&f&4&&S2(l);case 26:case 5:Go(i,l),o===null&&f&4&&_2(l),f&512&&kp(l,l.return);break;case 12:Go(i,l);break;case 13:Go(i,l),f&4&&I2(i,l),f&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=A4.bind(null,l),F4(i,l))));break;case 22:if(f=l.memoizedState!==null||Fa,!f){o=o!==null&&o.memoizedState!==null||_n,g=Fa;var w=_n;Fa=f,(_n=o)&&!w?Vo(i,l,(l.subtreeFlags&8772)!==0):Go(i,l),Fa=g,_n=w}break;case 30:break;default:Go(i,l)}}function O2(i){var o=i.alternate;o!==null&&(i.alternate=null,O2(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Tv(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ln=null,Vr=!1;function ja(i,o,l){for(l=l.child;l!==null;)R2(i,o,l),l=l.sibling}function R2(i,o,l){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(Uo,l)}catch{}switch(l.tag){case 26:_n||Gi(l,o),ja(i,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:_n||Gi(l,o);var f=ln,g=Vr;Jo(l.type)&&(ln=l.stateNode,Vr=!1),ja(i,o,l),qp(l.stateNode),ln=f,Vr=g;break;case 5:_n||Gi(l,o);case 6:if(f=ln,g=Vr,ln=null,ja(i,o,l),ln=f,Vr=g,ln!==null)if(Vr)try{(ln.nodeType===9?ln.body:ln.nodeName==="HTML"?ln.ownerDocument.body:ln).removeChild(l.stateNode)}catch(w){Wt(l,o,w)}else try{ln.removeChild(l.stateNode)}catch(w){Wt(l,o,w)}break;case 18:ln!==null&&(Vr?(i=ln,yO(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Jp(i)):yO(ln,l.stateNode));break;case 4:f=ln,g=Vr,ln=l.stateNode.containerInfo,Vr=!0,ja(i,o,l),ln=f,Vr=g;break;case 0:case 11:case 14:case 15:_n||qo(2,l,o),_n||qo(4,l,o),ja(i,o,l);break;case 1:_n||(Gi(l,o),f=l.stateNode,typeof f.componentWillUnmount=="function"&&A2(l,o,f)),ja(i,o,l);break;case 21:ja(i,o,l);break;case 22:_n=(f=_n)||l.memoizedState!==null,ja(i,o,l),_n=f;break;default:ja(i,o,l)}}function I2(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Jp(i)}catch(l){Wt(o,o.return,l)}}function p4(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new N2),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new N2),o;default:throw Error(r(435,i.tag))}}function YE(i,o){var l=p4(i);o.forEach(function(f){var g=_4.bind(null,i,f);l.has(f)||(l.add(f),f.then(g,g))})}function gs(i,o){var l=o.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f],w=i,_=o,x=_;e:for(;x!==null;){switch(x.tag){case 27:if(Jo(x.type)){ln=x.stateNode,Vr=!1;break e}break;case 5:ln=x.stateNode,Vr=!1;break e;case 3:case 4:ln=x.stateNode.containerInfo,Vr=!0;break e}x=x.return}if(ln===null)throw Error(r(160));R2(w,_,g),ln=null,Vr=!1,w=g.alternate,w!==null&&(w.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)x2(o,i),o=o.sibling}var fi=null;function x2(i,o){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:gs(o,i),ms(i),f&4&&(qo(3,i,i.return),Up(3,i),qo(5,i,i.return));break;case 1:gs(o,i),ms(i),f&512&&(_n||l===null||Gi(l,l.return)),f&64&&Fa&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var g=fi;if(gs(o,i),ms(i),f&512&&(_n||l===null||Gi(l,l.return)),f&4){var w=l!==null?l.memoizedState:null;if(f=i.memoizedState,l===null)if(f===null)if(i.stateNode===null){e:{f=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":w=g.getElementsByTagName("title")[0],(!w||w[ip]||w[wr]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=g.createElement(f),g.head.insertBefore(w,g.querySelector("head > title"))),nr(w,f,l),w[wr]=i,Ln(w),f=w;break e;case"link":var _=SO("link","href",g).get(f+(l.href||""));if(_){for(var x=0;x<_.length;x++)if(w=_[x],w.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&w.getAttribute("rel")===(l.rel==null?null:l.rel)&&w.getAttribute("title")===(l.title==null?null:l.title)&&w.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(x,1);break t}}w=g.createElement(f),nr(w,f,l),g.head.appendChild(w);break;case"meta":if(_=SO("meta","content",g).get(f+(l.content||""))){for(x=0;x<_.length;x++)if(w=_[x],w.getAttribute("content")===(l.content==null?null:""+l.content)&&w.getAttribute("name")===(l.name==null?null:l.name)&&w.getAttribute("property")===(l.property==null?null:l.property)&&w.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&w.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(x,1);break t}}w=g.createElement(f),nr(w,f,l),g.head.appendChild(w);break;default:throw Error(r(468,f))}w[wr]=i,Ln(w),f=w}i.stateNode=f}else NO(g,i.type,i.stateNode);else i.stateNode=CO(g,f,i.memoizedProps);else w!==f?(w===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):w.count--,f===null?NO(g,i.type,i.stateNode):CO(g,f,i.memoizedProps)):f===null&&i.stateNode!==null&&GE(i,i.memoizedProps,l.memoizedProps)}break;case 27:gs(o,i),ms(i),f&512&&(_n||l===null||Gi(l,l.return)),l!==null&&f&4&&GE(i,i.memoizedProps,l.memoizedProps);break;case 5:if(gs(o,i),ms(i),f&512&&(_n||l===null||Gi(l,l.return)),i.flags&32){g=i.stateNode;try{ih(g,"")}catch(se){Wt(i,i.return,se)}}f&4&&i.stateNode!=null&&(g=i.memoizedProps,GE(i,g,l!==null?l.memoizedProps:g)),f&1024&&(WE=!0);break;case 6:if(gs(o,i),ms(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,l=i.stateNode;try{l.nodeValue=f}catch(se){Wt(i,i.return,se)}}break;case 3:if(Mw=null,g=fi,fi=kw(o.containerInfo),gs(o,i),fi=g,ms(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Jp(o.containerInfo)}catch(se){Wt(i,i.return,se)}WE&&(WE=!1,P2(i));break;case 4:f=fi,fi=kw(i.stateNode.containerInfo),gs(o,i),ms(i),fi=f;break;case 12:gs(o,i),ms(i);break;case 13:gs(o,i),ms(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(tA=Bs()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,YE(i,f)));break;case 22:g=i.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,X=Fa,ce=_n;if(Fa=X||g,_n=ce||H,gs(o,i),_n=ce,Fa=X,ms(i),f&8192)e:for(o=i.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(l===null||H||Fa||_n||yl(i)),l=null,o=i;;){if(o.tag===5||o.tag===26){if(l===null){H=l=o;try{if(w=H.stateNode,g)_=w.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{x=H.stateNode;var ue=H.memoizedProps.style,re=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;x.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(se){Wt(H,H.return,se)}}}else if(o.tag===6){if(l===null){H=o;try{H.stateNode.nodeValue=g?"":H.memoizedProps}catch(se){Wt(H,H.return,se)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=i.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,YE(i,l))));break;case 19:gs(o,i),ms(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,YE(i,f)));break;case 30:break;case 21:break;default:gs(o,i),ms(i)}}function ms(i){var o=i.flags;if(o&2){try{for(var l,f=i.return;f!==null;){if(C2(f)){l=f;break}f=f.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,w=VE(i);Aw(i,w,g);break;case 5:var _=l.stateNode;l.flags&32&&(ih(_,""),l.flags&=-33);var x=VE(i);Aw(i,x,_);break;case 3:case 4:var H=l.stateNode.containerInfo,X=VE(i);KE(i,X,H);break;default:throw Error(r(161))}}catch(ce){Wt(i,i.return,ce)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function P2(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;P2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Go(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)T2(i,o.alternate,o),o=o.sibling}function yl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:qo(4,o,o.return),yl(o);break;case 1:Gi(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&A2(o,o.return,l),yl(o);break;case 27:qp(o.stateNode);case 26:case 5:Gi(o,o.return),yl(o);break;case 22:o.memoizedState===null&&yl(o);break;case 30:yl(o);break;default:yl(o)}i=i.sibling}}function Vo(i,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,g=i,w=o,_=w.flags;switch(w.tag){case 0:case 11:case 15:Vo(g,w,l),Up(4,w);break;case 1:if(Vo(g,w,l),f=w,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(X){Wt(f,f.return,X)}if(f=w,g=f.updateQueue,g!==null){var x=f.stateNode;try{var H=g.shared.hiddenCallbacks;if(H!==null)for(g.shared.hiddenCallbacks=null,g=0;g<H.length;g++)oT(H[g],x)}catch(X){Wt(f,f.return,X)}}l&&_&64&&E2(w),kp(w,w.return);break;case 27:S2(w);case 26:case 5:Vo(g,w,l),l&&f===null&&_&4&&_2(w),kp(w,w.return);break;case 12:Vo(g,w,l);break;case 13:Vo(g,w,l),l&&_&4&&I2(g,w);break;case 22:w.memoizedState===null&&Vo(g,w,l),kp(w,w.return);break;case 30:break;default:Vo(g,w,l)}o=o.sibling}}function QE(i,o){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&vp(l))}function ZE(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&vp(i))}function Vi(i,o,l,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)D2(i,o,l,f),o=o.sibling}function D2(i,o,l,f){var g=o.flags;switch(o.tag){case 0:case 11:case 15:Vi(i,o,l,f),g&2048&&Up(9,o);break;case 1:Vi(i,o,l,f);break;case 3:Vi(i,o,l,f),g&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&vp(i)));break;case 12:if(g&2048){Vi(i,o,l,f),i=o.stateNode;try{var w=o.memoizedProps,_=w.id,x=w.onPostCommit;typeof x=="function"&&x(_,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){Wt(o,o.return,H)}}else Vi(i,o,l,f);break;case 13:Vi(i,o,l,f);break;case 23:break;case 22:w=o.stateNode,_=o.alternate,o.memoizedState!==null?w._visibility&2?Vi(i,o,l,f):Bp(i,o):w._visibility&2?Vi(i,o,l,f):(w._visibility|=2,Ch(i,o,l,f,(o.subtreeFlags&10256)!==0)),g&2048&&QE(_,o);break;case 24:Vi(i,o,l,f),g&2048&&ZE(o.alternate,o);break;default:Vi(i,o,l,f)}}function Ch(i,o,l,f,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var w=i,_=o,x=l,H=f,X=_.flags;switch(_.tag){case 0:case 11:case 15:Ch(w,_,x,H,g),Up(8,_);break;case 23:break;case 22:var ce=_.stateNode;_.memoizedState!==null?ce._visibility&2?Ch(w,_,x,H,g):Bp(w,_):(ce._visibility|=2,Ch(w,_,x,H,g)),g&&X&2048&&QE(_.alternate,_);break;case 24:Ch(w,_,x,H,g),g&&X&2048&&ZE(_.alternate,_);break;default:Ch(w,_,x,H,g)}o=o.sibling}}function Bp(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=i,f=o,g=f.flags;switch(f.tag){case 22:Bp(l,f),g&2048&&QE(f.alternate,f);break;case 24:Bp(l,f),g&2048&&ZE(f.alternate,f);break;default:Bp(l,f)}o=o.sibling}}var Mp=8192;function Sh(i){if(i.subtreeFlags&Mp)for(i=i.child;i!==null;)U2(i),i=i.sibling}function U2(i){switch(i.tag){case 26:Sh(i),i.flags&Mp&&i.memoizedState!==null&&X4(fi,i.memoizedState,i.memoizedProps);break;case 5:Sh(i);break;case 3:case 4:var o=fi;fi=kw(i.stateNode.containerInfo),Sh(i),fi=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=Mp,Mp=16777216,Sh(i),Mp=o):Sh(i));break;default:Sh(i)}}function k2(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Lp(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];Fn=f,M2(f,i)}k2(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)B2(i),i=i.sibling}function B2(i){switch(i.tag){case 0:case 11:case 15:Lp(i),i.flags&2048&&qo(9,i,i.return);break;case 3:Lp(i);break;case 12:Lp(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,_w(i)):Lp(i);break;default:Lp(i)}}function _w(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];Fn=f,M2(f,i)}k2(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:qo(8,o,o.return),_w(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,_w(o));break;default:_w(o)}i=i.sibling}}function M2(i,o){for(;Fn!==null;){var l=Fn;switch(l.tag){case 0:case 11:case 15:qo(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:vp(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,Fn=f;else e:for(l=i;Fn!==null;){f=Fn;var g=f.sibling,w=f.return;if(O2(f),f===l){Fn=null;break e}if(g!==null){g.return=w,Fn=g;break e}Fn=w}}}var g4={getCacheForType:function(i){var o=br(Dn),l=o.data.get(i);return l===void 0&&(l=i(),o.data.set(i,l)),l}},m4=typeof WeakMap=="function"?WeakMap:Map,Ut=0,nn=null,dt=null,bt=0,kt=0,ys=null,Ko=!1,Nh=!1,JE=!1,Ha=0,wn=0,Wo=0,wl=0,XE=0,qs=0,Th=0,$p=null,Kr=null,eA=!1,tA=0,Cw=1/0,Sw=null,Yo=null,tr=0,Qo=null,Oh=null,Rh=0,nA=0,rA=null,L2=null,Fp=0,sA=null;function ws(){if((Ut&2)!==0&&bt!==0)return bt&-bt;if(C.T!==null){var i=mh;return i!==0?i:hA()}return eN()}function $2(){qs===0&&(qs=(bt&536870912)===0||Rt?QS():536870912);var i=zs.current;return i!==null&&(i.flags|=32),qs}function bs(i,o,l){(i===nn&&(kt===2||kt===9)||i.cancelPendingCommit!==null)&&(Ih(i,0),Zo(i,bt,qs,!1)),sp(i,l),((Ut&2)===0||i!==nn)&&(i===nn&&((Ut&2)===0&&(wl|=l),wn===4&&Zo(i,bt,qs,!1)),Ki(i))}function F2(i,o,l){if((Ut&6)!==0)throw Error(r(327));var f=!l&&(o&124)===0&&(o&i.expiredLanes)===0||rp(i,o),g=f?b4(i,o):oA(i,o,!0),w=f;do{if(g===0){Nh&&!f&&Zo(i,o,0,!1);break}else{if(l=i.current.alternate,w&&!y4(l)){g=oA(i,o,!1),w=!1;continue}if(g===2){if(w=o,i.errorRecoveryDisabledLanes&w)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){o=_;e:{var x=i;g=$p;var H=x.current.memoizedState.isDehydrated;if(H&&(Ih(x,_).flags|=256),_=oA(x,_,!1),_!==2){if(JE&&!H){x.errorRecoveryDisabledLanes|=w,wl|=w,g=4;break e}w=Kr,Kr=g,w!==null&&(Kr===null?Kr=w:Kr.push.apply(Kr,w))}g=_}if(w=!1,g!==2)continue}}if(g===1){Ih(i,0),Zo(i,o,0,!0);break}e:{switch(f=i,w=g,w){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Zo(f,o,qs,!Ko);break e;case 2:Kr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(g=tA+300-Bs(),10<g)){if(Zo(f,o,qs,!Ko),By(f,0,!0)!==0)break e;f.timeoutHandle=gO(j2.bind(null,f,l,Kr,Sw,eA,o,qs,wl,Th,Ko,w,2,-0,0),g);break e}j2(f,l,Kr,Sw,eA,o,qs,wl,Th,Ko,w,0,-0,0)}}break}while(!0);Ki(i)}function j2(i,o,l,f,g,w,_,x,H,X,ce,ue,re,se){if(i.timeoutHandle=-1,ue=o.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Kp={stylesheets:null,count:0,unsuspend:J4},U2(o),ue=eM(),ue!==null)){i.cancelPendingCommit=ue(W2.bind(null,i,o,w,l,f,g,_,x,H,ce,1,re,se)),Zo(i,w,_,!X);return}W2(i,o,w,l,f,g,_,x,H)}function y4(i){for(var o=i;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var g=l[f],w=g.getSnapshot;g=g.value;try{if(!fs(w(),g))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Zo(i,o,l,f){o&=~XE,o&=~wl,i.suspendedLanes|=o,i.pingedLanes&=~o,f&&(i.warmLanes|=o),f=i.expirationTimes;for(var g=o;0<g;){var w=31-Ir(g),_=1<<w;f[w]=-1,g&=~_}l!==0&&JS(i,l,o)}function Nw(){return(Ut&6)===0?(jp(0),!1):!0}function iA(){if(dt!==null){if(kt===0)var i=dt.return;else i=dt,Ua=dl=null,AE(i),Ah=null,xp=0,i=dt;for(;i!==null;)v2(i.alternate,i),i=i.return;dt=null}}function Ih(i,o){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,k4(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),iA(),nn=i,dt=l=xa(i.current,null),bt=o,kt=0,ys=null,Ko=!1,Nh=rp(i,o),JE=!1,Th=qs=XE=wl=Wo=wn=0,Kr=$p=null,eA=!1,(o&8)!==0&&(o|=o&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=o;0<f;){var g=31-Ir(f),w=1<<g;o|=i[g],f&=~w}return Ha=o,Wy(),l}function H2(i,o){lt=null,C.H=fw,o===Ap||o===rw?(o=iT(),kt=3):o===nT?(o=iT(),kt=4):kt=o===a2?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ys=o,dt===null&&(wn=1,ww(i,$s(o,i.current)))}function z2(){var i=C.H;return C.H=fw,i===null?fw:i}function q2(){var i=C.A;return C.A=g4,i}function aA(){wn=4,Ko||(bt&4194048)!==bt&&zs.current!==null||(Nh=!0),(Wo&134217727)===0&&(wl&134217727)===0||nn===null||Zo(nn,bt,qs,!1)}function oA(i,o,l){var f=Ut;Ut|=2;var g=z2(),w=q2();(nn!==i||bt!==o)&&(Sw=null,Ih(i,o)),o=!1;var _=wn;e:do try{if(kt!==0&&dt!==null){var x=dt,H=ys;switch(kt){case 8:iA(),_=6;break e;case 3:case 2:case 9:case 6:zs.current===null&&(o=!0);var X=kt;if(kt=0,ys=null,xh(i,x,H,X),l&&Nh){_=0;break e}break;default:X=kt,kt=0,ys=null,xh(i,x,H,X)}}w4(),_=wn;break}catch(ce){H2(i,ce)}while(!0);return o&&i.shellSuspendCounter++,Ua=dl=null,Ut=f,C.H=g,C.A=w,dt===null&&(nn=null,bt=0,Wy()),_}function w4(){for(;dt!==null;)G2(dt)}function b4(i,o){var l=Ut;Ut|=2;var f=z2(),g=q2();nn!==i||bt!==o?(Sw=null,Cw=Bs()+500,Ih(i,o)):Nh=rp(i,o);e:do try{if(kt!==0&&dt!==null){o=dt;var w=ys;t:switch(kt){case 1:kt=0,ys=null,xh(i,o,w,1);break;case 2:case 9:if(rT(w)){kt=0,ys=null,V2(o);break}o=function(){kt!==2&&kt!==9||nn!==i||(kt=7),Ki(i)},w.then(o,o);break e;case 3:kt=7;break e;case 4:kt=5;break e;case 7:rT(w)?(kt=0,ys=null,V2(o)):(kt=0,ys=null,xh(i,o,w,7));break;case 5:var _=null;switch(dt.tag){case 26:_=dt.memoizedState;case 5:case 27:var x=dt;if(!_||TO(_)){kt=0,ys=null;var H=x.sibling;if(H!==null)dt=H;else{var X=x.return;X!==null?(dt=X,Tw(X)):dt=null}break t}}kt=0,ys=null,xh(i,o,w,5);break;case 6:kt=0,ys=null,xh(i,o,w,6);break;case 8:iA(),wn=6;break e;default:throw Error(r(462))}}v4();break}catch(ce){H2(i,ce)}while(!0);return Ua=dl=null,C.H=f,C.A=g,Ut=l,dt!==null?0:(nn=null,bt=0,Wy(),wn)}function v4(){for(;dt!==null&&!hi();)G2(dt)}function G2(i){var o=w2(i.alternate,i,Ha);i.memoizedProps=i.pendingProps,o===null?Tw(i):dt=o}function V2(i){var o=i,l=o.alternate;switch(o.tag){case 15:case 0:o=d2(l,o,o.pendingProps,o.type,void 0,bt);break;case 11:o=d2(l,o,o.pendingProps,o.type.render,o.ref,bt);break;case 5:AE(o);default:v2(l,o),o=dt=KN(o,Ha),o=w2(l,o,Ha)}i.memoizedProps=i.pendingProps,o===null?Tw(i):dt=o}function xh(i,o,l,f){Ua=dl=null,AE(o),Ah=null,xp=0;var g=o.return;try{if(l4(i,g,o,l,bt)){wn=1,ww(i,$s(l,i.current)),dt=null;return}}catch(w){if(g!==null)throw dt=g,w;wn=1,ww(i,$s(l,i.current)),dt=null;return}o.flags&32768?(Rt||f===1?i=!0:Nh||(bt&536870912)!==0?i=!1:(Ko=i=!0,(f===2||f===9||f===3||f===6)&&(f=zs.current,f!==null&&f.tag===13&&(f.flags|=16384))),K2(o,i)):Tw(o)}function Tw(i){var o=i;do{if((o.flags&32768)!==0){K2(o,Ko);return}i=o.return;var l=h4(o.alternate,o,Ha);if(l!==null){dt=l;return}if(o=o.sibling,o!==null){dt=o;return}dt=o=i}while(o!==null);wn===0&&(wn=5)}function K2(i,o){do{var l=d4(i.alternate,i);if(l!==null){l.flags&=32767,dt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(i=i.sibling,i!==null)){dt=i;return}dt=i=l}while(i!==null);wn=6,dt=null}function W2(i,o,l,f,g,w,_,x,H){i.cancelPendingCommit=null;do Ow();while(tr!==0);if((Ut&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(w=o.lanes|o.childLanes,w|=Zv,J5(i,l,w,_,x,H),i===nn&&(dt=nn=null,bt=0),Oh=o,Qo=i,Rh=l,nA=w,rA=g,L2=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,C4(Do,function(){return X2(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=C.T,C.T=null,g=L.p,L.p=2,_=Ut,Ut|=4;try{f4(i,o,l)}finally{Ut=_,L.p=g,C.T=f}}tr=1,Y2(),Q2(),Z2()}}function Y2(){if(tr===1){tr=0;var i=Qo,o=Oh,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=C.T,C.T=null;var f=L.p;L.p=2;var g=Ut;Ut|=4;try{x2(o,i);var w=bA,_=MN(i.containerInfo),x=w.focusedElem,H=w.selectionRange;if(_!==x&&x&&x.ownerDocument&&BN(x.ownerDocument.documentElement,x)){if(H!==null&&Vv(x)){var X=H.start,ce=H.end;if(ce===void 0&&(ce=X),"selectionStart"in x)x.selectionStart=X,x.selectionEnd=Math.min(ce,x.value.length);else{var ue=x.ownerDocument||document,re=ue&&ue.defaultView||window;if(re.getSelection){var se=re.getSelection(),Qe=x.textContent.length,He=Math.min(H.start,Qe),jt=H.end===void 0?He:Math.min(H.end,Qe);!se.extend&&He>jt&&(_=jt,jt=He,He=_);var Q=kN(x,He),K=kN(x,jt);if(Q&&K&&(se.rangeCount!==1||se.anchorNode!==Q.node||se.anchorOffset!==Q.offset||se.focusNode!==K.node||se.focusOffset!==K.offset)){var J=ue.createRange();J.setStart(Q.node,Q.offset),se.removeAllRanges(),He>jt?(se.addRange(J),se.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),se.addRange(J))}}}}for(ue=[],se=x;se=se.parentNode;)se.nodeType===1&&ue.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ue.length;x++){var le=ue[x];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Fw=!!wA,bA=wA=null}finally{Ut=g,L.p=f,C.T=l}}i.current=o,tr=2}}function Q2(){if(tr===2){tr=0;var i=Qo,o=Oh,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=C.T,C.T=null;var f=L.p;L.p=2;var g=Ut;Ut|=4;try{T2(i,o.alternate,o)}finally{Ut=g,L.p=f,C.T=l}}tr=3}}function Z2(){if(tr===4||tr===3){tr=0,Zu();var i=Qo,o=Oh,l=Rh,f=L2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?tr=5:(tr=0,Oh=Qo=null,J2(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Yo=null),Sv(l),o=o.stateNode,Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(Uo,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=C.T,g=L.p,L.p=2,C.T=null;try{for(var w=i.onRecoverableError,_=0;_<f.length;_++){var x=f[_];w(x.value,{componentStack:x.stack})}}finally{C.T=o,L.p=g}}(Rh&3)!==0&&Ow(),Ki(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===sA?Fp++:(Fp=0,sA=i):Fp=0,jp(0)}}function J2(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,vp(o)))}function Ow(i){return Y2(),Q2(),Z2(),X2()}function X2(){if(tr!==5)return!1;var i=Qo,o=nA;nA=0;var l=Sv(Rh),f=C.T,g=L.p;try{L.p=32>l?32:l,C.T=null,l=rA,rA=null;var w=Qo,_=Rh;if(tr=0,Oh=Qo=null,Rh=0,(Ut&6)!==0)throw Error(r(331));var x=Ut;if(Ut|=4,B2(w.current),D2(w,w.current,_,l),Ut=x,jp(0,!1),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(Uo,w)}catch{}return!0}finally{L.p=g,C.T=f,J2(i,o)}}function eO(i,o,l){o=$s(l,o),o=BE(i.stateNode,o,2),i=Fo(i,o,2),i!==null&&(sp(i,2),Ki(i))}function Wt(i,o,l){if(i.tag===3)eO(i,i,l);else for(;o!==null;){if(o.tag===3){eO(o,i,l);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Yo===null||!Yo.has(f))){i=$s(l,i),l=s2(2),f=Fo(o,l,2),f!==null&&(i2(l,f,o,i),sp(f,2),Ki(f));break}}o=o.return}}function cA(i,o,l){var f=i.pingCache;if(f===null){f=i.pingCache=new m4;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(l)||(JE=!0,g.add(l),i=E4.bind(null,i,o,l),o.then(i,i))}function E4(i,o,l){var f=i.pingCache;f!==null&&f.delete(o),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,nn===i&&(bt&l)===l&&(wn===4||wn===3&&(bt&62914560)===bt&&300>Bs()-tA?(Ut&2)===0&&Ih(i,0):XE|=l,Th===bt&&(Th=0)),Ki(i)}function tO(i,o){o===0&&(o=ZS()),i=dh(i,o),i!==null&&(sp(i,o),Ki(i))}function A4(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),tO(i,l)}function _4(i,o){var l=0;switch(i.tag){case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(o),tO(i,l)}function C4(i,o){return Lt(i,o)}var Rw=null,Ph=null,lA=!1,Iw=!1,uA=!1,bl=0;function Ki(i){i!==Ph&&i.next===null&&(Ph===null?Rw=Ph=i:Ph=Ph.next=i),Iw=!0,lA||(lA=!0,N4())}function jp(i,o){if(!uA&&Iw){uA=!0;do for(var l=!1,f=Rw;f!==null;){if(i!==0){var g=f.pendingLanes;if(g===0)var w=0;else{var _=f.suspendedLanes,x=f.pingedLanes;w=(1<<31-Ir(42|i)+1)-1,w&=g&~(_&~x),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(l=!0,iO(f,w))}else w=bt,w=By(f,f===nn?w:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(w&3)===0||rp(f,w)||(l=!0,iO(f,w));f=f.next}while(l);uA=!1}}function S4(){nO()}function nO(){Iw=lA=!1;var i=0;bl!==0&&(U4()&&(i=bl),bl=0);for(var o=Bs(),l=null,f=Rw;f!==null;){var g=f.next,w=rO(f,o);w===0?(f.next=null,l===null?Rw=g:l.next=g,g===null&&(Ph=l)):(l=f,(i!==0||(w&3)!==0)&&(Iw=!0)),f=g}jp(i)}function rO(i,o){for(var l=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var _=31-Ir(w),x=1<<_,H=g[_];H===-1?((x&l)===0||(x&f)!==0)&&(g[_]=Z5(x,o)):H<=o&&(i.expiredLanes|=x),w&=~x}if(o=nn,l=bt,l=By(i,i===o?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,l===0||i===o&&(kt===2||kt===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&fn(f),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||rp(i,l)){if(o=l&-l,o===i.callbackPriority)return o;switch(f!==null&&fn(f),Sv(l)){case 2:case 8:l=tp;break;case 32:l=Do;break;case 268435456:l=np;break;default:l=Do}return f=sO.bind(null,i),l=Lt(l,f),i.callbackPriority=o,i.callbackNode=l,o}return f!==null&&f!==null&&fn(f),i.callbackPriority=2,i.callbackNode=null,2}function sO(i,o){if(tr!==0&&tr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Ow()&&i.callbackNode!==l)return null;var f=bt;return f=By(i,i===nn?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(F2(i,f,o),rO(i,Bs()),i.callbackNode!=null&&i.callbackNode===l?sO.bind(null,i):null)}function iO(i,o){if(Ow())return null;F2(i,o,!0)}function N4(){B4(function(){(Ut&6)!==0?Lt(ep,S4):nO()})}function hA(){return bl===0&&(bl=QS()),bl}function aO(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:jy(""+i)}function oO(i,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,i.id&&l.setAttribute("form",i.id),o.parentNode.insertBefore(l,o),i=new FormData(i),l.parentNode.removeChild(l),i}function T4(i,o,l,f,g){if(o==="submit"&&l&&l.stateNode===g){var w=aO((g[zr]||null).action),_=f.submitter;_&&(o=(o=_[zr]||null)?aO(o.formAction):_.getAttribute("formAction"),o!==null&&(w=o,_=null));var x=new Gy("action","action",null,f,g);i.push({event:x,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(bl!==0){var H=_?oO(g,_):new FormData(g);xE(l,{pending:!0,data:H,method:g.method,action:w},null,H)}}else typeof w=="function"&&(x.preventDefault(),H=_?oO(g,_):new FormData(g),xE(l,{pending:!0,data:H,method:g.method,action:w},w,H))},currentTarget:g}]})}}for(var dA=0;dA<Qv.length;dA++){var fA=Qv[dA],O4=fA.toLowerCase(),R4=fA[0].toUpperCase()+fA.slice(1);di(O4,"on"+R4)}di(FN,"onAnimationEnd"),di(jN,"onAnimationIteration"),di(HN,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(VB,"onTransitionRun"),di(KB,"onTransitionStart"),di(WB,"onTransitionCancel"),di(zN,"onTransitionEnd"),nh("onMouseEnter",["mouseout","mouseover"]),nh("onMouseLeave",["mouseout","mouseover"]),nh("onPointerEnter",["pointerout","pointerover"]),nh("onPointerLeave",["pointerout","pointerover"]),rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rl("onBeforeInput",["compositionend","keypress","textInput","paste"]),rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hp));function cO(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],g=f.event;f=f.listeners;e:{var w=void 0;if(o)for(var _=f.length-1;0<=_;_--){var x=f[_],H=x.instance,X=x.currentTarget;if(x=x.listener,H!==w&&g.isPropagationStopped())break e;w=x,g.currentTarget=X;try{w(g)}catch(ce){yw(ce)}g.currentTarget=null,w=H}else for(_=0;_<f.length;_++){if(x=f[_],H=x.instance,X=x.currentTarget,x=x.listener,H!==w&&g.isPropagationStopped())break e;w=x,g.currentTarget=X;try{w(g)}catch(ce){yw(ce)}g.currentTarget=null,w=H}}}}function ft(i,o){var l=o[Nv];l===void 0&&(l=o[Nv]=new Set);var f=i+"__bubble";l.has(f)||(lO(o,i,2,!1),l.add(f))}function pA(i,o,l){var f=0;o&&(f|=4),lO(l,i,f,o)}var xw="_reactListening"+Math.random().toString(36).slice(2);function gA(i){if(!i[xw]){i[xw]=!0,nN.forEach(function(l){l!=="selectionchange"&&(I4.has(l)||pA(l,!1,i),pA(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[xw]||(o[xw]=!0,pA("selectionchange",!1,o))}}function lO(i,o,l,f){switch(DO(o)){case 2:var g=rM;break;case 8:g=sM;break;default:g=RA}l=g.bind(null,o,l,i),g=void 0,!Mv||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(o,l,{capture:!0,passive:g}):i.addEventListener(o,l,!0):g!==void 0?i.addEventListener(o,l,{passive:g}):i.addEventListener(o,l,!1)}function mA(i,o,l,f,g){var w=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var _=f.tag;if(_===3||_===4){var x=f.stateNode.containerInfo;if(x===g)break;if(_===4)for(_=f.return;_!==null;){var H=_.tag;if((H===3||H===4)&&_.stateNode.containerInfo===g)return;_=_.return}for(;x!==null;){if(_=Xu(x),_===null)return;if(H=_.tag,H===5||H===6||H===26||H===27){f=w=_;continue e}x=x.parentNode}}f=f.return}mN(function(){var X=w,ce=kv(l),ue=[];e:{var re=qN.get(i);if(re!==void 0){var se=Gy,Qe=i;switch(i){case"keypress":if(zy(l)===0)break e;case"keydown":case"keyup":se=CB;break;case"focusin":Qe="focus",se=jv;break;case"focusout":Qe="blur",se=jv;break;case"beforeblur":case"afterblur":se=jv;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=bN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=dB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=TB;break;case FN:case jN:case HN:se=gB;break;case zN:se=RB;break;case"scroll":case"scrollend":se=uB;break;case"wheel":se=xB;break;case"copy":case"cut":case"paste":se=yB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=EN;break;case"toggle":case"beforetoggle":se=DB}var He=(o&4)!==0,jt=!He&&(i==="scroll"||i==="scrollend"),Q=He?re!==null?re+"Capture":null:re;He=[];for(var K=X,J;K!==null;){var le=K;if(J=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||J===null||Q===null||(le=op(K,Q),le!=null&&He.push(zp(K,le,J))),jt)break;K=K.return}0<He.length&&(re=new se(re,Qe,null,l,ce),ue.push({event:re,listeners:He}))}}if((o&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",se=i==="mouseout"||i==="pointerout",re&&l!==Uv&&(Qe=l.relatedTarget||l.fromElement)&&(Xu(Qe)||Qe[Ju]))break e;if((se||re)&&(re=ce.window===ce?ce:(re=ce.ownerDocument)?re.defaultView||re.parentWindow:window,se?(Qe=l.relatedTarget||l.toElement,se=X,Qe=Qe?Xu(Qe):null,Qe!==null&&(jt=a(Qe),He=Qe.tag,Qe!==jt||He!==5&&He!==27&&He!==6)&&(Qe=null)):(se=null,Qe=X),se!==Qe)){if(He=bN,le="onMouseLeave",Q="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(He=EN,le="onPointerLeave",Q="onPointerEnter",K="pointer"),jt=se==null?re:ap(se),J=Qe==null?re:ap(Qe),re=new He(le,K+"leave",se,l,ce),re.target=jt,re.relatedTarget=J,le=null,Xu(ce)===X&&(He=new He(Q,K+"enter",Qe,l,ce),He.target=J,He.relatedTarget=jt,le=He),jt=le,se&&Qe)t:{for(He=se,Q=Qe,K=0,J=He;J;J=Dh(J))K++;for(J=0,le=Q;le;le=Dh(le))J++;for(;0<K-J;)He=Dh(He),K--;for(;0<J-K;)Q=Dh(Q),J--;for(;K--;){if(He===Q||Q!==null&&He===Q.alternate)break t;He=Dh(He),Q=Dh(Q)}He=null}else He=null;se!==null&&uO(ue,re,se,He,!1),Qe!==null&&jt!==null&&uO(ue,jt,Qe,He,!0)}}e:{if(re=X?ap(X):window,se=re.nodeName&&re.nodeName.toLowerCase(),se==="select"||se==="input"&&re.type==="file")var Ue=RN;else if(TN(re))if(IN)Ue=zB;else{Ue=jB;var ut=FB}else se=re.nodeName,!se||se.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?X&&Dv(X.elementType)&&(Ue=RN):Ue=HB;if(Ue&&(Ue=Ue(i,X))){ON(ue,Ue,l,ce);break e}ut&&ut(i,re,X),i==="focusout"&&X&&re.type==="number"&&X.memoizedProps.value!=null&&Pv(re,"number",re.value)}switch(ut=X?ap(X):window,i){case"focusin":(TN(ut)||ut.contentEditable==="true")&&(lh=ut,Kv=X,gp=null);break;case"focusout":gp=Kv=lh=null;break;case"mousedown":Wv=!0;break;case"contextmenu":case"mouseup":case"dragend":Wv=!1,LN(ue,l,ce);break;case"selectionchange":if(GB)break;case"keydown":case"keyup":LN(ue,l,ce)}var Me;if(zv)e:{switch(i){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else ch?SN(i,l)&&(Ge="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ge="onCompositionStart");Ge&&(AN&&l.locale!=="ko"&&(ch||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&ch&&(Me=yN()):(Bo=ce,Lv="value"in Bo?Bo.value:Bo.textContent,ch=!0)),ut=Pw(X,Ge),0<ut.length&&(Ge=new vN(Ge,i,null,l,ce),ue.push({event:Ge,listeners:ut}),Me?Ge.data=Me:(Me=NN(l),Me!==null&&(Ge.data=Me)))),(Me=kB?BB(i,l):MB(i,l))&&(Ge=Pw(X,"onBeforeInput"),0<Ge.length&&(ut=new vN("onBeforeInput","beforeinput",null,l,ce),ue.push({event:ut,listeners:Ge}),ut.data=Me)),T4(ue,i,X,l,ce)}cO(ue,o)})}function zp(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Pw(i,o){for(var l=o+"Capture",f=[];i!==null;){var g=i,w=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||w===null||(g=op(i,l),g!=null&&f.unshift(zp(i,g,w)),g=op(i,o),g!=null&&f.push(zp(i,g,w))),i.tag===3)return f;i=i.return}return[]}function Dh(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function uO(i,o,l,f,g){for(var w=o._reactName,_=[];l!==null&&l!==f;){var x=l,H=x.alternate,X=x.stateNode;if(x=x.tag,H!==null&&H===f)break;x!==5&&x!==26&&x!==27||X===null||(H=X,g?(X=op(l,w),X!=null&&_.unshift(zp(l,X,H))):g||(X=op(l,w),X!=null&&_.push(zp(l,X,H)))),l=l.return}_.length!==0&&i.push({event:o,listeners:_})}var x4=/\r\n?/g,P4=/\u0000|\uFFFD/g;function hO(i){return(typeof i=="string"?i:""+i).replace(x4,`
`).replace(P4,"")}function dO(i,o){return o=hO(o),hO(i)===o}function Dw(){}function Ft(i,o,l,f,g,w){switch(l){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||ih(i,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&ih(i,""+f);break;case"className":Ly(i,"class",f);break;case"tabIndex":Ly(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ly(i,l,f);break;case"style":pN(i,f,w);break;case"data":if(o!=="object"){Ly(i,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||l!=="href")){i.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=jy(""+f),i.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(l==="formAction"?(o!=="input"&&Ft(i,o,"name",g.name,g,null),Ft(i,o,"formEncType",g.formEncType,g,null),Ft(i,o,"formMethod",g.formMethod,g,null),Ft(i,o,"formTarget",g.formTarget,g,null)):(Ft(i,o,"encType",g.encType,g,null),Ft(i,o,"method",g.method,g,null),Ft(i,o,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=jy(""+f),i.setAttribute(l,f);break;case"onClick":f!=null&&(i.onclick=Dw);break;case"onScroll":f!=null&&ft("scroll",i);break;case"onScrollEnd":f!=null&&ft("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}l=jy(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""+f):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":f===!0?i.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,f):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(l,f):i.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(l):i.setAttribute(l,f);break;case"popover":ft("beforetoggle",i),ft("toggle",i),My(i,"popover",f);break;case"xlinkActuate":Ra(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Ra(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Ra(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Ra(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Ra(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Ra(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Ra(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Ra(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Ra(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":My(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=cB.get(l)||l,My(i,l,f))}}function yA(i,o,l,f,g,w){switch(l){case"style":pN(i,f,w);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof f=="string"?ih(i,f):(typeof f=="number"||typeof f=="bigint")&&ih(i,""+f);break;case"onScroll":f!=null&&ft("scroll",i);break;case"onScrollEnd":f!=null&&ft("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Dw);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rN.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),o=l.slice(2,g?l.length-7:void 0),w=i[zr]||null,w=w!=null?w[l]:null,typeof w=="function"&&i.removeEventListener(o,w,g),typeof f=="function")){typeof w!="function"&&w!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(o,f,g);break e}l in i?i[l]=f:f===!0?i.setAttribute(l,""):My(i,l,f)}}}function nr(i,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",i),ft("load",i);var f=!1,g=!1,w;for(w in l)if(l.hasOwnProperty(w)){var _=l[w];if(_!=null)switch(w){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ft(i,o,w,_,l,null)}}g&&Ft(i,o,"srcSet",l.srcSet,l,null),f&&Ft(i,o,"src",l.src,l,null);return;case"input":ft("invalid",i);var x=w=_=g=null,H=null,X=null;for(f in l)if(l.hasOwnProperty(f)){var ce=l[f];if(ce!=null)switch(f){case"name":g=ce;break;case"type":_=ce;break;case"checked":H=ce;break;case"defaultChecked":X=ce;break;case"value":w=ce;break;case"defaultValue":x=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,o));break;default:Ft(i,o,f,ce,l,null)}}uN(i,w,x,H,X,_,g,!1),$y(i);return;case"select":ft("invalid",i),f=_=w=null;for(g in l)if(l.hasOwnProperty(g)&&(x=l[g],x!=null))switch(g){case"value":w=x;break;case"defaultValue":_=x;break;case"multiple":f=x;default:Ft(i,o,g,x,l,null)}o=w,l=_,i.multiple=!!f,o!=null?sh(i,!!f,o,!1):l!=null&&sh(i,!!f,l,!0);return;case"textarea":ft("invalid",i),w=g=f=null;for(_ in l)if(l.hasOwnProperty(_)&&(x=l[_],x!=null))switch(_){case"value":f=x;break;case"defaultValue":g=x;break;case"children":w=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:Ft(i,o,_,x,l,null)}dN(i,f,g,w),$y(i);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(f=l[H],f!=null))switch(H){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ft(i,o,H,f,l,null)}return;case"dialog":ft("beforetoggle",i),ft("toggle",i),ft("cancel",i),ft("close",i);break;case"iframe":case"object":ft("load",i);break;case"video":case"audio":for(f=0;f<Hp.length;f++)ft(Hp[f],i);break;case"image":ft("error",i),ft("load",i);break;case"details":ft("toggle",i);break;case"embed":case"source":case"link":ft("error",i),ft("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(f=l[X],f!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ft(i,o,X,f,l,null)}return;default:if(Dv(o)){for(ce in l)l.hasOwnProperty(ce)&&(f=l[ce],f!==void 0&&yA(i,o,ce,f,l,void 0));return}}for(x in l)l.hasOwnProperty(x)&&(f=l[x],f!=null&&Ft(i,o,x,f,l,null))}function D4(i,o,l,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,w=null,_=null,x=null,H=null,X=null,ce=null;for(se in l){var ue=l[se];if(l.hasOwnProperty(se)&&ue!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":H=ue;default:f.hasOwnProperty(se)||Ft(i,o,se,null,f,ue)}}for(var re in f){var se=f[re];if(ue=l[re],f.hasOwnProperty(re)&&(se!=null||ue!=null))switch(re){case"type":w=se;break;case"name":g=se;break;case"checked":X=se;break;case"defaultChecked":ce=se;break;case"value":_=se;break;case"defaultValue":x=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:se!==ue&&Ft(i,o,re,se,f,ue)}}xv(i,_,x,H,X,ce,w,g);return;case"select":se=_=x=re=null;for(w in l)if(H=l[w],l.hasOwnProperty(w)&&H!=null)switch(w){case"value":break;case"multiple":se=H;default:f.hasOwnProperty(w)||Ft(i,o,w,null,f,H)}for(g in f)if(w=f[g],H=l[g],f.hasOwnProperty(g)&&(w!=null||H!=null))switch(g){case"value":re=w;break;case"defaultValue":x=w;break;case"multiple":_=w;default:w!==H&&Ft(i,o,g,w,f,H)}o=x,l=_,f=se,re!=null?sh(i,!!l,re,!1):!!f!=!!l&&(o!=null?sh(i,!!l,o,!0):sh(i,!!l,l?[]:"",!1));return;case"textarea":se=re=null;for(x in l)if(g=l[x],l.hasOwnProperty(x)&&g!=null&&!f.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ft(i,o,x,null,f,g)}for(_ in f)if(g=f[_],w=l[_],f.hasOwnProperty(_)&&(g!=null||w!=null))switch(_){case"value":re=g;break;case"defaultValue":se=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==w&&Ft(i,o,_,g,f,w)}hN(i,re,se);return;case"option":for(var Qe in l)if(re=l[Qe],l.hasOwnProperty(Qe)&&re!=null&&!f.hasOwnProperty(Qe))switch(Qe){case"selected":i.selected=!1;break;default:Ft(i,o,Qe,null,f,re)}for(H in f)if(re=f[H],se=l[H],f.hasOwnProperty(H)&&re!==se&&(re!=null||se!=null))switch(H){case"selected":i.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Ft(i,o,H,re,f,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in l)re=l[He],l.hasOwnProperty(He)&&re!=null&&!f.hasOwnProperty(He)&&Ft(i,o,He,null,f,re);for(X in f)if(re=f[X],se=l[X],f.hasOwnProperty(X)&&re!==se&&(re!=null||se!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,o));break;default:Ft(i,o,X,re,f,se)}return;default:if(Dv(o)){for(var jt in l)re=l[jt],l.hasOwnProperty(jt)&&re!==void 0&&!f.hasOwnProperty(jt)&&yA(i,o,jt,void 0,f,re);for(ce in f)re=f[ce],se=l[ce],!f.hasOwnProperty(ce)||re===se||re===void 0&&se===void 0||yA(i,o,ce,re,f,se);return}}for(var Q in l)re=l[Q],l.hasOwnProperty(Q)&&re!=null&&!f.hasOwnProperty(Q)&&Ft(i,o,Q,null,f,re);for(ue in f)re=f[ue],se=l[ue],!f.hasOwnProperty(ue)||re===se||re==null&&se==null||Ft(i,o,ue,re,f,se)}var wA=null,bA=null;function Uw(i){return i.nodeType===9?i:i.ownerDocument}function fO(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pO(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function vA(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var EA=null;function U4(){var i=window.event;return i&&i.type==="popstate"?i===EA?!1:(EA=i,!0):(EA=null,!1)}var gO=typeof setTimeout=="function"?setTimeout:void 0,k4=typeof clearTimeout=="function"?clearTimeout:void 0,mO=typeof Promise=="function"?Promise:void 0,B4=typeof queueMicrotask=="function"?queueMicrotask:typeof mO<"u"?function(i){return mO.resolve(null).then(i).catch(M4)}:gO;function M4(i){setTimeout(function(){throw i})}function Jo(i){return i==="head"}function yO(i,o){var l=o,f=0,g=0;do{var w=l.nextSibling;if(i.removeChild(l),w&&w.nodeType===8)if(l=w.data,l==="/$"){if(0<f&&8>f){l=f;var _=i.ownerDocument;if(l&1&&qp(_.documentElement),l&2&&qp(_.body),l&4)for(l=_.head,qp(l),_=l.firstChild;_;){var x=_.nextSibling,H=_.nodeName;_[ip]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=x}}if(g===0){i.removeChild(w),Jp(o);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:f=l.charCodeAt(0)-48;else f=0;l=w}while(l);Jp(o)}function AA(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":AA(l),Tv(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function L4(i,o,l,f){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[ip])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var w=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=pi(i.nextSibling),i===null)break}return null}function $4(i,o,l){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=pi(i.nextSibling),i===null))return null;return i}function _A(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function F4(i,o){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")o();else{var f=function(){o(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function pi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var CA=null;function wO(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}function bO(i,o,l){switch(o=Uw(l),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function qp(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Tv(i)}var Gs=new Map,vO=new Set;function kw(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var za=L.d;L.d={f:j4,r:H4,D:z4,C:q4,L:G4,m:V4,X:W4,S:K4,M:Y4};function j4(){var i=za.f(),o=Nw();return i||o}function H4(i){var o=eh(i);o!==null&&o.tag===5&&o.type==="form"?FT(o):za.r(i)}var Uh=typeof document>"u"?null:document;function EO(i,o,l){var f=Uh;if(f&&typeof o=="string"&&o){var g=Ls(o);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),vO.has(g)||(vO.add(g),i={rel:i,crossOrigin:l,href:o},f.querySelector(g)===null&&(o=f.createElement("link"),nr(o,"link",i),Ln(o),f.head.appendChild(o)))}}function z4(i){za.D(i),EO("dns-prefetch",i,null)}function q4(i,o){za.C(i,o),EO("preconnect",i,o)}function G4(i,o,l){za.L(i,o,l);var f=Uh;if(f&&i&&o){var g='link[rel="preload"][as="'+Ls(o)+'"]';o==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Ls(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Ls(l.imageSizes)+'"]')):g+='[href="'+Ls(i)+'"]';var w=g;switch(o){case"style":w=kh(i);break;case"script":w=Bh(i)}Gs.has(w)||(i=p({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:i,as:o},l),Gs.set(w,i),f.querySelector(g)!==null||o==="style"&&f.querySelector(Gp(w))||o==="script"&&f.querySelector(Vp(w))||(o=f.createElement("link"),nr(o,"link",i),Ln(o),f.head.appendChild(o)))}}function V4(i,o){za.m(i,o);var l=Uh;if(l&&i){var f=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+Ls(f)+'"][href="'+Ls(i)+'"]',w=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Bh(i)}if(!Gs.has(w)&&(i=p({rel:"modulepreload",href:i},o),Gs.set(w,i),l.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Vp(w)))return}f=l.createElement("link"),nr(f,"link",i),Ln(f),l.head.appendChild(f)}}}function K4(i,o,l){za.S(i,o,l);var f=Uh;if(f&&i){var g=th(f).hoistableStyles,w=kh(i);o=o||"default";var _=g.get(w);if(!_){var x={loading:0,preload:null};if(_=f.querySelector(Gp(w)))x.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":o},l),(l=Gs.get(w))&&SA(i,l);var H=_=f.createElement("link");Ln(H),nr(H,"link",i),H._p=new Promise(function(X,ce){H.onload=X,H.onerror=ce}),H.addEventListener("load",function(){x.loading|=1}),H.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Bw(_,o,f)}_={type:"stylesheet",instance:_,count:1,state:x},g.set(w,_)}}}function W4(i,o){za.X(i,o);var l=Uh;if(l&&i){var f=th(l).hoistableScripts,g=Bh(i),w=f.get(g);w||(w=l.querySelector(Vp(g)),w||(i=p({src:i,async:!0},o),(o=Gs.get(g))&&NA(i,o),w=l.createElement("script"),Ln(w),nr(w,"link",i),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(g,w))}}function Y4(i,o){za.M(i,o);var l=Uh;if(l&&i){var f=th(l).hoistableScripts,g=Bh(i),w=f.get(g);w||(w=l.querySelector(Vp(g)),w||(i=p({src:i,async:!0,type:"module"},o),(o=Gs.get(g))&&NA(i,o),w=l.createElement("script"),Ln(w),nr(w,"link",i),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(g,w))}}function AO(i,o,l,f){var g=(g=me.current)?kw(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=kh(l.href),l=th(g).hoistableStyles,f=l.get(o),f||(f={type:"style",instance:null,count:0,state:null},l.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=kh(l.href);var w=th(g).hoistableStyles,_=w.get(i);if(_||(g=g.ownerDocument||g,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,_),(w=g.querySelector(Gp(i)))&&!w._p&&(_.instance=w,_.state.loading=5),Gs.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Gs.set(i,l),w||Q4(g,i,l,_.state))),o&&f===null)throw Error(r(528,""));return _}if(o&&f!==null)throw Error(r(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Bh(l),l=th(g).hoistableScripts,f=l.get(o),f||(f={type:"script",instance:null,count:0,state:null},l.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function kh(i){return'href="'+Ls(i)+'"'}function Gp(i){return'link[rel="stylesheet"]['+i+"]"}function _O(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function Q4(i,o,l,f){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=i.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),nr(o,"link",l),Ln(o),i.head.appendChild(o))}function Bh(i){return'[src="'+Ls(i)+'"]'}function Vp(i){return"script[async]"+i}function CO(i,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var f=i.querySelector('style[data-href~="'+Ls(l.href)+'"]');if(f)return o.instance=f,Ln(f),f;var g=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),Ln(f),nr(f,"style",g),Bw(f,l.precedence,i),o.instance=f;case"stylesheet":g=kh(l.href);var w=i.querySelector(Gp(g));if(w)return o.state.loading|=4,o.instance=w,Ln(w),w;f=_O(l),(g=Gs.get(g))&&SA(f,g),w=(i.ownerDocument||i).createElement("link"),Ln(w);var _=w;return _._p=new Promise(function(x,H){_.onload=x,_.onerror=H}),nr(w,"link",f),o.state.loading|=4,Bw(w,l.precedence,i),o.instance=w;case"script":return w=Bh(l.src),(g=i.querySelector(Vp(w)))?(o.instance=g,Ln(g),g):(f=l,(g=Gs.get(w))&&(f=p({},l),NA(f,g)),i=i.ownerDocument||i,g=i.createElement("script"),Ln(g),nr(g,"link",f),i.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,Bw(f,l.precedence,i));return o.instance}function Bw(i,o,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,w=g,_=0;_<f.length;_++){var x=f[_];if(x.dataset.precedence===o)w=x;else if(w!==g)break}w?w.parentNode.insertBefore(i,w.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(i,o.firstChild))}function SA(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function NA(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Mw=null;function SO(i,o,l){if(Mw===null){var f=new Map,g=Mw=new Map;g.set(l,f)}else g=Mw,f=g.get(l),f||(f=new Map,g.set(l,f));if(f.has(i))return f;for(f.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var w=l[g];if(!(w[ip]||w[wr]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var _=w.getAttribute(o)||"";_=i+_;var x=f.get(_);x?x.push(w):f.set(_,[w])}}return f}function NO(i,o,l){i=i.ownerDocument||i,i.head.insertBefore(l,o==="title"?i.querySelector("head > title"):null)}function Z4(i,o,l){if(l===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function TO(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Kp=null;function J4(){}function X4(i,o,l){if(Kp===null)throw Error(r(475));var f=Kp;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=kh(l.href),w=i.querySelector(Gp(g));if(w){i=w._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Lw.bind(f),i.then(f,f)),o.state.loading|=4,o.instance=w,Ln(w);return}w=i.ownerDocument||i,l=_O(l),(g=Gs.get(g))&&SA(l,g),w=w.createElement("link"),Ln(w);var _=w;_._p=new Promise(function(x,H){_.onload=x,_.onerror=H}),nr(w,"link",l),o.instance=w}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=Lw.bind(f),i.addEventListener("load",o),i.addEventListener("error",o))}}function eM(){if(Kp===null)throw Error(r(475));var i=Kp;return i.stylesheets&&i.count===0&&TA(i,i.stylesheets),0<i.count?function(o){var l=setTimeout(function(){if(i.stylesheets&&TA(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Lw(){if(this.count--,this.count===0){if(this.stylesheets)TA(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var $w=null;function TA(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,$w=new Map,o.forEach(tM,i),$w=null,Lw.call(i))}function tM(i,o){if(!(o.state.loading&4)){var l=$w.get(i);if(l)var f=l.get(null);else{l=new Map,$w.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<g.length;w++){var _=g[w];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),f=_)}f&&l.set(null,f)}g=o.instance,_=g.getAttribute("data-precedence"),w=l.get(_)||f,w===f&&l.set(null,g),l.set(_,g),this.count++,f=Lw.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),w?w.parentNode.insertBefore(g,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),o.state.loading|=4}}var Wp={$$typeof:P,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function nM(i,o,l,f,g,w,_,x){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_v(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_v(0),this.hiddenUpdates=_v(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=w,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function OO(i,o,l,f,g,w,_,x,H,X,ce,ue){return i=new nM(i,o,l,_,x,H,X,ue),o=1,w===!0&&(o|=24),w=ps(3,null,null,o),i.current=w,w.stateNode=i,o=cE(),o.refCount++,i.pooledCache=o,o.refCount++,w.memoizedState={element:f,isDehydrated:l,cache:o},dE(w),i}function RO(i){return i?(i=fh,i):fh}function IO(i,o,l,f,g,w){g=RO(g),f.context===null?f.context=g:f.pendingContext=g,f=$o(o),f.payload={element:l},w=w===void 0?null:w,w!==null&&(f.callback=w),l=Fo(i,f,o),l!==null&&(bs(l,i,o),Cp(l,i,o))}function xO(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function OA(i,o){xO(i,o),(i=i.alternate)&&xO(i,o)}function PO(i){if(i.tag===13){var o=dh(i,67108864);o!==null&&bs(o,i,67108864),OA(i,67108864)}}var Fw=!0;function rM(i,o,l,f){var g=C.T;C.T=null;var w=L.p;try{L.p=2,RA(i,o,l,f)}finally{L.p=w,C.T=g}}function sM(i,o,l,f){var g=C.T;C.T=null;var w=L.p;try{L.p=8,RA(i,o,l,f)}finally{L.p=w,C.T=g}}function RA(i,o,l,f){if(Fw){var g=IA(f);if(g===null)mA(i,o,f,jw,l),UO(i,f);else if(aM(g,i,o,l,f))f.stopPropagation();else if(UO(i,f),o&4&&-1<iM.indexOf(i)){for(;g!==null;){var w=eh(g);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var _=nl(w.pendingLanes);if(_!==0){var x=w;for(x.pendingLanes|=2,x.entangledLanes|=2;_;){var H=1<<31-Ir(_);x.entanglements[1]|=H,_&=~H}Ki(w),(Ut&6)===0&&(Cw=Bs()+500,jp(0))}}break;case 13:x=dh(w,2),x!==null&&bs(x,w,2),Nw(),OA(w,2)}if(w=IA(f),w===null&&mA(i,o,f,jw,l),w===g)break;g=w}g!==null&&f.stopPropagation()}else mA(i,o,f,null,l)}}function IA(i){return i=kv(i),xA(i)}var jw=null;function xA(i){if(jw=null,i=Xu(i),i!==null){var o=a(i);if(o===null)i=null;else{var l=o.tag;if(l===13){if(i=c(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return jw=i,null}function DO(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ev()){case ep:return 2;case tp:return 8;case Do:case xy:return 32;case np:return 268435456;default:return 32}default:return 32}}var PA=!1,Xo=null,ec=null,tc=null,Yp=new Map,Qp=new Map,nc=[],iM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function UO(i,o){switch(i){case"focusin":case"focusout":Xo=null;break;case"dragenter":case"dragleave":ec=null;break;case"mouseover":case"mouseout":tc=null;break;case"pointerover":case"pointerout":Yp.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qp.delete(o.pointerId)}}function Zp(i,o,l,f,g,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:l,eventSystemFlags:f,nativeEvent:w,targetContainers:[g]},o!==null&&(o=eh(o),o!==null&&PO(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function aM(i,o,l,f,g){switch(o){case"focusin":return Xo=Zp(Xo,i,o,l,f,g),!0;case"dragenter":return ec=Zp(ec,i,o,l,f,g),!0;case"mouseover":return tc=Zp(tc,i,o,l,f,g),!0;case"pointerover":var w=g.pointerId;return Yp.set(w,Zp(Yp.get(w)||null,i,o,l,f,g)),!0;case"gotpointercapture":return w=g.pointerId,Qp.set(w,Zp(Qp.get(w)||null,i,o,l,f,g)),!0}return!1}function kO(i){var o=Xu(i.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=c(l),o!==null){i.blockedOn=o,X5(i.priority,function(){if(l.tag===13){var f=ws();f=Cv(f);var g=dh(l,f);g!==null&&bs(g,l,f),OA(l,f)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Hw(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=IA(i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);Uv=f,l.target.dispatchEvent(f),Uv=null}else return o=eh(l),o!==null&&PO(o),i.blockedOn=l,!1;o.shift()}return!0}function BO(i,o,l){Hw(i)&&l.delete(o)}function oM(){PA=!1,Xo!==null&&Hw(Xo)&&(Xo=null),ec!==null&&Hw(ec)&&(ec=null),tc!==null&&Hw(tc)&&(tc=null),Yp.forEach(BO),Qp.forEach(BO)}function zw(i,o){i.blockedOn===o&&(i.blockedOn=null,PA||(PA=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,oM)))}var qw=null;function MO(i){qw!==i&&(qw=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){qw===i&&(qw=null);for(var o=0;o<i.length;o+=3){var l=i[o],f=i[o+1],g=i[o+2];if(typeof f!="function"){if(xA(f||l)===null)continue;break}var w=eh(l);w!==null&&(i.splice(o,3),o-=3,xE(w,{pending:!0,data:g,method:l.method,action:f},f,g))}}))}function Jp(i){function o(H){return zw(H,i)}Xo!==null&&zw(Xo,i),ec!==null&&zw(ec,i),tc!==null&&zw(tc,i),Yp.forEach(o),Qp.forEach(o);for(var l=0;l<nc.length;l++){var f=nc[l];f.blockedOn===i&&(f.blockedOn=null)}for(;0<nc.length&&(l=nc[0],l.blockedOn===null);)kO(l),l.blockedOn===null&&nc.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var g=l[f],w=l[f+1],_=g[zr]||null;if(typeof w=="function")_||MO(l);else if(_){var x=null;if(w&&w.hasAttribute("formAction")){if(g=w,_=w[zr]||null)x=_.formAction;else if(xA(g)!==null)continue}else x=_.action;typeof x=="function"?l[f+1]=x:(l.splice(f,3),f-=3),MO(l)}}}function DA(i){this._internalRoot=i}Gw.prototype.render=DA.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var l=o.current,f=ws();IO(l,f,i,o,null,null)},Gw.prototype.unmount=DA.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;IO(i.current,2,null,i,null,null),Nw(),o[Ju]=null}};function Gw(i){this._internalRoot=i}Gw.prototype.unstable_scheduleHydration=function(i){if(i){var o=eN();i={blockedOn:null,target:i,priority:o};for(var l=0;l<nc.length&&o!==0&&o<nc[l].priority;l++);nc.splice(l,0,i),l===0&&kO(i)}};var LO=e.version;if(LO!=="19.1.0")throw Error(r(527,LO,"19.1.0"));L.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(o),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var cM={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vw.isDisabled&&Vw.supportsFiber)try{Uo=Vw.inject(cM),Rr=Vw}catch{}}return tg.createRoot=function(i,o){if(!s(i))throw Error(r(299));var l=!1,f="",g=e2,w=t2,_=n2,x=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(x=o.unstable_transitionCallbacks)),o=OO(i,1,!1,null,null,l,f,g,w,_,x,null),i[Ju]=o.current,gA(i),new DA(o)},tg.hydrateRoot=function(i,o,l){if(!s(i))throw Error(r(299));var f=!1,g="",w=e2,_=t2,x=n2,H=null,X=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(H=l.unstable_transitionCallbacks),l.formState!==void 0&&(X=l.formState)),o=OO(i,1,!0,o,l??null,f,g,w,_,x,H,X),o.context=RO(null),l=o.current,f=ws(),f=Cv(f),g=$o(f),g.callback=null,Fo(l,g,f),l=f,o.current.lanes=l,sp(o,l),Ki(o),i[Ju]=o.current,gA(i),new Gw(o)},tg.version="19.1.0",tg}var YO;function EM(){if(YO)return MA.exports;YO=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),MA.exports=vM(),MA.exports}var AM=EM();const _M=Symbol(),VC=Symbol(),ng="a",Dg="w";let CM=(n,e)=>new Proxy(n,e);const c_=Object.getPrototypeOf,l_=new WeakMap,VP=n=>n&&(l_.has(n)?l_.get(n):c_(n)===Object.prototype||c_(n)===Array.prototype),Y0=n=>typeof n=="object"&&n!==null,SM=n=>{if(Array.isArray(n))return Array.from(n);const e=Object.getOwnPropertyDescriptors(n);return Object.values(e).forEach(t=>{t.configurable=!0}),Object.create(c_(n),e)},KC=n=>n[VC]||n,KP=(n,e,t,r)=>{if(!VP(n))return n;let s=r&&r.get(n);if(!s){const h=KC(n);s=(d=>Object.values(Object.getOwnPropertyDescriptors(d)).some(p=>!p.configurable&&!p.writable))(h)?[h,SM(h)]:[h],r==null||r.set(n,s)}const[a,c]=s;let u=t&&t.get(a);return u&&u[1].f===!!c||(u=((h,d)=>{const p={f:d};let m=!1;const y=(E,v)=>{if(!m){let A=p[ng].get(h);if(A||(A={},p[ng].set(h,A)),E===Dg)A[Dg]=!0;else{let N=A[E];N||(N=new Set,A[E]=N),N.add(v)}}},b={get:(E,v)=>v===VC?h:(y("k",v),KP(Reflect.get(E,v),p[ng],p.c,p.t)),has:(E,v)=>v===_M?(m=!0,p[ng].delete(h),!0):(y("h",v),Reflect.has(E,v)),getOwnPropertyDescriptor:(E,v)=>(y("o",v),Reflect.getOwnPropertyDescriptor(E,v)),ownKeys:E=>(y(Dg),Reflect.ownKeys(E))};return d&&(b.set=b.deleteProperty=()=>!1),[b,p]})(a,!!c),u[1].p=CM(c||a,u[0]),t&&t.set(a,u)),u[1][ng]=e,u[1].c=t,u[1].t=r,u[1].p},WP=(n,e,t,r,s=Object.is)=>{if(s(n,e))return!1;if(!Y0(n)||!Y0(e))return!0;const a=t.get(KC(n));if(!a)return!0;if(r){const u=r.get(n);if(u&&u.n===e)return u.g;r.set(n,{n:e,g:!1})}let c=null;try{for(const u of a.h||[])if(c=Reflect.has(n,u)!==Reflect.has(e,u),c)return c;if(a[Dg]===!0){if(c=((u,h)=>{const d=Reflect.ownKeys(u),p=Reflect.ownKeys(h);return d.length!==p.length||d.some((m,y)=>m!==p[y])})(n,e),c)return c}else for(const u of a.o||[])if(c=!!Reflect.getOwnPropertyDescriptor(n,u)!=!!Reflect.getOwnPropertyDescriptor(e,u),c)return c;for(const u of a.k||[])if(c=WP(n[u],e[u],t,r,s),c)return c;return c===null&&(c=!0),c}finally{r&&r.set(n,{n:e,g:c})}},NM=n=>VP(n)&&n[VC]||null,QO=(n,e=!0)=>{l_.set(n,e)},TM=(n,e,t)=>{const r=[],s=new WeakSet,a=(c,u)=>{if(s.has(c))return;Y0(c)&&s.add(c);const h=Y0(c)&&e.get(KC(c));if(h){var d,p;if((d=h.h)==null||d.forEach(y=>{const b=`:has(${String(y)})`;r.push(u?[...u,b]:[b])}),h[Dg]===!0){const y=":ownKeys";r.push(u?[...u,y]:[y])}else{var m;(m=h.o)==null||m.forEach(y=>{const b=`:hasOwn(${String(y)})`;r.push(u?[...u,b]:[b])})}(p=h.k)==null||p.forEach(y=>{!("value"in(Object.getOwnPropertyDescriptor(c,y)||{}))||a(c[y],u?[...u,y]:[y])})}else u&&r.push(u)};return a(n),r},Q0={},jA=n=>typeof n=="object"&&n!==null,gc=new WeakMap,_g=new WeakSet,OM=(n=Object.is,e=(d,p)=>new Proxy(d,p),t=d=>jA(d)&&!_g.has(d)&&(Array.isArray(d)||!(Symbol.iterator in d))&&!(d instanceof WeakMap)&&!(d instanceof WeakSet)&&!(d instanceof Error)&&!(d instanceof Number)&&!(d instanceof Date)&&!(d instanceof String)&&!(d instanceof RegExp)&&!(d instanceof ArrayBuffer),r=d=>{switch(d.status){case"fulfilled":return d.value;case"rejected":throw d.reason;default:throw d}},s=new WeakMap,a=(d,p,m=r)=>{const y=s.get(d);if((y==null?void 0:y[0])===p)return y[1];const b=Array.isArray(d)?[]:Object.create(Object.getPrototypeOf(d));return QO(b,!0),s.set(d,[p,b]),Reflect.ownKeys(d).forEach(E=>{if(Object.getOwnPropertyDescriptor(b,E))return;const v=Reflect.get(d,E),{enumerable:A}=Reflect.getOwnPropertyDescriptor(d,E),N={value:v,enumerable:A,configurable:!0};if(_g.has(v))QO(v,!1);else if(v instanceof Promise)delete N.value,N.get=()=>m(v);else if(gc.has(v)){const[I,P]=gc.get(v);N.value=a(I,P(),m)}Object.defineProperty(b,E,N)}),Object.preventExtensions(b)},c=new WeakMap,u=[1,1],h=d=>{if(!jA(d))throw new Error("object required");const p=c.get(d);if(p)return p;let m=u[0];const y=new Set,b=($,q=++u[0])=>{m!==q&&(m=q,y.forEach(V=>V($,q)))};let E=u[1];const v=($=++u[1])=>(E!==$&&!y.size&&(E=$,N.forEach(([q])=>{const V=q[1]($);V>m&&(m=V)})),m),A=$=>(q,V)=>{const te=[...q];te[1]=[$,...te[1]],b(te,V)},N=new Map,I=($,q)=>{if((Q0?"production":void 0)!=="production"&&N.has($))throw new Error("prop listener already exists");if(y.size){const V=q[3](A($));N.set($,[q,V])}else N.set($,[q])},P=$=>{var q;const V=N.get($);V&&(N.delete($),(q=V[1])==null||q.call(V))},k=$=>(y.add($),y.size===1&&N.forEach(([V,te],de)=>{if((Q0?"production":void 0)!=="production"&&te)throw new Error("remove already exists");const Z=V[3](A(de));N.set(de,[V,Z])}),()=>{y.delete($),y.size===0&&N.forEach(([V,te],de)=>{te&&(te(),N.set(de,[V]))})}),U=Array.isArray(d)?[]:Object.create(Object.getPrototypeOf(d)),B=e(U,{deleteProperty($,q){const V=Reflect.get($,q);P(q);const te=Reflect.deleteProperty($,q);return te&&b(["delete",[q],V]),te},set($,q,V,te){const de=Reflect.has($,q),Z=Reflect.get($,q,te);if(de&&(n(Z,V)||c.has(V)&&n(Z,c.get(V))))return!0;P(q),jA(V)&&(V=NM(V)||V);let T=V;if(V instanceof Promise)V.then(C=>{V.status="fulfilled",V.value=C,b(["resolve",[q],C])}).catch(C=>{V.status="rejected",V.reason=C,b(["reject",[q],C])});else{!gc.has(V)&&t(V)&&(T=h(V));const C=!_g.has(T)&&gc.get(T);C&&I(q,C)}return Reflect.set($,q,T,te),b(["set",[q],V,Z]),!0}});c.set(d,B);const M=[U,v,a,k];return gc.set(B,M),Reflect.ownKeys(d).forEach($=>{const q=Object.getOwnPropertyDescriptor(d,$);"value"in q&&(B[$]=d[$],delete q.value,delete q.writable),Object.defineProperty(U,$,q)}),B})=>[h,gc,_g,n,e,t,r,s,a,c,u],[RM]=OM();function cn(n={}){return RM(n)}function pr(n,e,t){const r=gc.get(n);(Q0?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const a=[],c=r[3];let u=!1;const d=c(p=>{a.push(p),s||(s=Promise.resolve().then(()=>{s=void 0,u&&e(a.splice(0))}))});return u=!0,()=>{u=!1,d()}}function Su(n,e){const t=gc.get(n);(Q0?"production":void 0)!=="production"&&!t&&console.warn("Please use proxy object");const[r,s,a]=t;return a(r,s(),e)}function Nu(n){return _g.add(n),n}function Tr(n,e,t,r){let s=n[e];return pr(n,()=>{const a=n[e];Object.is(s,a)||t(s=a)})}function IM(n){const e=cn({data:Array.from([]),has(t){return this.data.some(r=>r[0]===t)},set(t,r){const s=this.data.find(a=>a[0]===t);return s?s[1]=r:this.data.push([t,r]),this},get(t){var r;return(r=this.data.find(s=>s[0]===t))==null?void 0:r[1]},delete(t){const r=this.data.findIndex(s=>s[0]===t);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(t){this.data.forEach(r=>{t(r[1],r[0],this)})},keys(){return this.data.map(t=>t[0]).values()},values(){return this.data.map(t=>t[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}var ZO={};const we={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof ZO<"u"?ZO.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},YP={caipNetworkIdToNumber(n){return n?Number(n.split(":")[1]):void 0},parseEvmChainId(n){return typeof n=="string"?this.caipNetworkIdToNumber(n):n},getNetworksByNamespace(n,e){return(n==null?void 0:n.filter(t=>t.chainNamespace===e))||[]},getFirstNetworkByNamespace(n,e){return this.getNetworksByNamespace(n,e)[0]},getNetworkNameByCaipNetworkId(n,e){var s;if(!e)return;const t=n.find(a=>a.caipNetworkId===e);if(t)return t.name;const[r]=e.split(":");return((s=we.CHAIN_NAME_MAP)==null?void 0:s[r])||void 0}};var xM=20,PM=1,zf=1e6,DM=1e6,UM=-7,kM=21,BM=!1,cy="[big.js] ",ju=cy+"Invalid ",$b=ju+"decimal places",MM=ju+"rounding mode",QP=cy+"Division by zero",Mt={},va=void 0,LM=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function ZP(){function n(e){var t=this;if(!(t instanceof n))return e===va?ZP():new n(e);if(e instanceof n)t.s=e.s,t.e=e.e,t.c=e.c.slice();else{if(typeof e!="string"){if(n.strict===!0&&typeof e!="bigint")throw TypeError(ju+"value");e=e===0&&1/e<0?"-0":String(e)}$M(t,e)}t.constructor=n}return n.prototype=Mt,n.DP=xM,n.RM=PM,n.NE=UM,n.PE=kM,n.strict=BM,n.roundDown=0,n.roundHalfUp=1,n.roundHalfEven=2,n.roundUp=3,n}function $M(n,e){var t,r,s;if(!LM.test(e))throw Error(ju+"number");for(n.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),s=e.length,r=0;r<s&&e.charAt(r)=="0";)++r;if(r==s)n.c=[n.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(n.e=t-r-1,n.c=[],t=0;r<=s;)n.c[t++]=+e.charAt(r++)}return n}function Hu(n,e,t,r){var s=n.c;if(t===va&&(t=n.constructor.RM),t!==0&&t!==1&&t!==2&&t!==3)throw Error(MM);if(e<1)r=t===3&&(r||!!s[0])||e===0&&(t===1&&s[0]>=5||t===2&&(s[0]>5||s[0]===5&&(r||s[1]!==va))),s.length=1,r?(n.e=n.e-e+1,s[0]=1):s[0]=n.e=0;else if(e<s.length){if(r=t===1&&s[e]>=5||t===2&&(s[e]>5||s[e]===5&&(r||s[e+1]!==va||s[e-1]&1))||t===3&&(r||!!s[0]),s.length=e,r){for(;++s[--e]>9;)if(s[e]=0,e===0){++n.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return n}function zu(n,e,t){var r=n.e,s=n.c.join(""),a=s.length;if(e)s=s.charAt(0)+(a>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>a)for(r-=a;r--;)s+="0";else r<a&&(s=s.slice(0,r)+"."+s.slice(r));else a>1&&(s=s.charAt(0)+"."+s.slice(1));return n.s<0&&t?"-"+s:s}Mt.abs=function(){var n=new this.constructor(this);return n.s=1,n};Mt.cmp=function(n){var e,t=this,r=t.c,s=(n=new t.constructor(n)).c,a=t.s,c=n.s,u=t.e,h=n.e;if(!r[0]||!s[0])return r[0]?a:s[0]?-c:0;if(a!=c)return a;if(e=a<0,u!=h)return u>h^e?1:-1;for(c=(u=r.length)<(h=s.length)?u:h,a=-1;++a<c;)if(r[a]!=s[a])return r[a]>s[a]^e?1:-1;return u==h?0:u>h^e?1:-1};Mt.div=function(n){var e=this,t=e.constructor,r=e.c,s=(n=new t(n)).c,a=e.s==n.s?1:-1,c=t.DP;if(c!==~~c||c<0||c>zf)throw Error($b);if(!s[0])throw Error(QP);if(!r[0])return n.s=a,n.c=[n.e=0],n;var u,h,d,p,m,y=s.slice(),b=u=s.length,E=r.length,v=r.slice(0,u),A=v.length,N=n,I=N.c=[],P=0,k=c+(N.e=e.e-n.e)+1;for(N.s=a,a=k<0?0:k,y.unshift(0);A++<u;)v.push(0);do{for(d=0;d<10;d++){if(u!=(A=v.length))p=u>A?1:-1;else for(m=-1,p=0;++m<u;)if(s[m]!=v[m]){p=s[m]>v[m]?1:-1;break}if(p<0){for(h=A==u?s:y;A;){if(v[--A]<h[A]){for(m=A;m&&!v[--m];)v[m]=9;--v[m],v[A]+=10}v[A]-=h[A]}for(;!v[0];)v.shift()}else break}I[P++]=p?d:++d,v[0]&&p?v[A]=r[b]||0:v=[r[b]]}while((b++<E||v[0]!==va)&&a--);return!I[0]&&P!=1&&(I.shift(),N.e--,k--),P>k&&Hu(N,k,t.RM,v[0]!==va),N};Mt.eq=function(n){return this.cmp(n)===0};Mt.gt=function(n){return this.cmp(n)>0};Mt.gte=function(n){return this.cmp(n)>-1};Mt.lt=function(n){return this.cmp(n)<0};Mt.lte=function(n){return this.cmp(n)<1};Mt.minus=Mt.sub=function(n){var e,t,r,s,a=this,c=a.constructor,u=a.s,h=(n=new c(n)).s;if(u!=h)return n.s=-h,a.plus(n);var d=a.c.slice(),p=a.e,m=n.c,y=n.e;if(!d[0]||!m[0])return m[0]?n.s=-h:d[0]?n=new c(a):n.s=1,n;if(u=p-y){for((s=u<0)?(u=-u,r=d):(y=p,r=m),r.reverse(),h=u;h--;)r.push(0);r.reverse()}else for(t=((s=d.length<m.length)?d:m).length,u=h=0;h<t;h++)if(d[h]!=m[h]){s=d[h]<m[h];break}if(s&&(r=d,d=m,m=r,n.s=-n.s),(h=(t=m.length)-(e=d.length))>0)for(;h--;)d[e++]=0;for(h=e;t>u;){if(d[--t]<m[t]){for(e=t;e&&!d[--e];)d[e]=9;--d[e],d[t]+=10}d[t]-=m[t]}for(;d[--h]===0;)d.pop();for(;d[0]===0;)d.shift(),--y;return d[0]||(n.s=1,d=[y=0]),n.c=d,n.e=y,n};Mt.mod=function(n){var e,t=this,r=t.constructor,s=t.s,a=(n=new r(n)).s;if(!n.c[0])throw Error(QP);return t.s=n.s=1,e=n.cmp(t)==1,t.s=s,n.s=a,e?new r(t):(s=r.DP,a=r.RM,r.DP=r.RM=0,t=t.div(n),r.DP=s,r.RM=a,this.minus(t.times(n)))};Mt.neg=function(){var n=new this.constructor(this);return n.s=-n.s,n};Mt.plus=Mt.add=function(n){var e,t,r,s=this,a=s.constructor;if(n=new a(n),s.s!=n.s)return n.s=-n.s,s.minus(n);var c=s.e,u=s.c,h=n.e,d=n.c;if(!u[0]||!d[0])return d[0]||(u[0]?n=new a(s):n.s=s.s),n;if(u=u.slice(),e=c-h){for(e>0?(h=c,r=d):(e=-e,r=u),r.reverse();e--;)r.push(0);r.reverse()}for(u.length-d.length<0&&(r=d,d=u,u=r),e=d.length,t=0;e;u[e]%=10)t=(u[--e]=u[e]+d[e]+t)/10|0;for(t&&(u.unshift(t),++h),e=u.length;u[--e]===0;)u.pop();return n.c=u,n.e=h,n};Mt.pow=function(n){var e=this,t=new e.constructor("1"),r=t,s=n<0;if(n!==~~n||n<-1e6||n>DM)throw Error(ju+"exponent");for(s&&(n=-n);n&1&&(r=r.times(e)),n>>=1,!!n;)e=e.times(e);return s?t.div(r):r};Mt.prec=function(n,e){if(n!==~~n||n<1||n>zf)throw Error(ju+"precision");return Hu(new this.constructor(this),n,e)};Mt.round=function(n,e){if(n===va)n=0;else if(n!==~~n||n<-1e6||n>zf)throw Error($b);return Hu(new this.constructor(this),n+this.e+1,e)};Mt.sqrt=function(){var n,e,t,r=this,s=r.constructor,a=r.s,c=r.e,u=new s("0.5");if(!r.c[0])return new s(r);if(a<0)throw Error(cy+"No square root");a=Math.sqrt(+zu(r,!0,!0)),a===0||a===1/0?(e=r.c.join(""),e.length+c&1||(e+="0"),a=Math.sqrt(e),c=((c+1)/2|0)-(c<0||c&1),n=new s((a==1/0?"5e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+c)):n=new s(a+""),c=n.e+(s.DP+=4);do t=n,n=u.times(t.plus(r.div(t)));while(t.c.slice(0,c).join("")!==n.c.slice(0,c).join(""));return Hu(n,(s.DP-=4)+n.e+1,s.RM)};Mt.times=Mt.mul=function(n){var e,t=this,r=t.constructor,s=t.c,a=(n=new r(n)).c,c=s.length,u=a.length,h=t.e,d=n.e;if(n.s=t.s==n.s?1:-1,!s[0]||!a[0])return n.c=[n.e=0],n;for(n.e=h+d,c<u&&(e=s,s=a,a=e,d=c,c=u,u=d),e=new Array(d=c+u);d--;)e[d]=0;for(h=u;h--;){for(u=0,d=c+h;d>h;)u=e[d]+a[h]*s[d-h-1]+u,e[d--]=u%10,u=u/10|0;e[d]=u}for(u?++n.e:e.shift(),h=e.length;!e[--h];)e.pop();return n.c=e,n};Mt.toExponential=function(n,e){var t=this,r=t.c[0];if(n!==va){if(n!==~~n||n<0||n>zf)throw Error($b);for(t=Hu(new t.constructor(t),++n,e);t.c.length<n;)t.c.push(0)}return zu(t,!0,!!r)};Mt.toFixed=function(n,e){var t=this,r=t.c[0];if(n!==va){if(n!==~~n||n<0||n>zf)throw Error($b);for(t=Hu(new t.constructor(t),n+t.e+1,e),n=n+t.e+1;t.c.length<n;)t.c.push(0)}return zu(t,!1,!!r)};Mt[Symbol.for("nodejs.util.inspect.custom")]=Mt.toJSON=Mt.toString=function(){var n=this,e=n.constructor;return zu(n,n.e<=e.NE||n.e>=e.PE,!!n.c[0])};Mt.toNumber=function(){var n=+zu(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(n.toString()))throw Error(cy+"Imprecise conversion");return n};Mt.toPrecision=function(n,e){var t=this,r=t.constructor,s=t.c[0];if(n!==va){if(n!==~~n||n<1||n>zf)throw Error(ju+"precision");for(t=Hu(new r(t),n,e);t.c.length<n;)t.c.push(0)}return zu(t,n<=t.e||t.e<=r.NE||t.e>=r.PE,!!s)};Mt.valueOf=function(){var n=this,e=n.constructor;if(e.strict===!0)throw Error(cy+"valueOf disallowed");return zu(n,n.e<=e.NE||n.e>=e.PE,!0)};var rg=ZP();const FM={bigNumber(n){return n?new rg(n):new rg(0)},multiply(n,e){if(n===void 0||e===void 0)return new rg(0);const t=new rg(n),r=new rg(e);return t.times(r)},formatNumberToLocalString(n,e=2){return n===void 0?"0.00":typeof n=="number"?n.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(n).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(n){return n===void 0?0:parseFloat(n.replace(/,/gu,""))}},jM=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],HM=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],zM=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],qM={getERC20Abi:n=>we.USDT_CONTRACT_ADDRESSES.includes(n)?zM:jM,getSwapAbi:()=>HM},Ja={validateCaipAddress(n){var e;if(((e=n.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return n},parseCaipAddress(n){const e=n.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${n}`);const[t,r,s]=e;if(!t||!r||!s)throw new Error(`Invalid CAIP-10 address: ${n}`);return{chainNamespace:t,chainId:r,address:s}},parseCaipNetworkId(n){const e=n.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${n}`);const[t,r]=e;if(!t||!r)throw new Error(`Invalid CAIP-2 network id: ${n}`);return{chainNamespace:t,chainId:r}}},Xe={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections"};function HA(n){if(!n)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${n}:connected_connector_id`}const Ze={setItem(n,e){Cg()&&e!==void 0&&localStorage.setItem(n,e)},getItem(n){if(Cg())return localStorage.getItem(n)||void 0},removeItem(n){Cg()&&localStorage.removeItem(n)},clear(){Cg()&&localStorage.clear()}};function Cg(){return typeof window<"u"&&typeof localStorage<"u"}function bo(n,e){return e==="light"?{"--w3m-accent":(n==null?void 0:n["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(n==null?void 0:n["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var JO={};const zA=(typeof process<"u"&&typeof JO<"u"?JO.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",JP=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],GM="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Gt={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:zA,SECURE_SITE_DASHBOARD:`${zA}/dashboard`,SECURE_SITE_FAVICON:`${zA}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["coinbase","meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},Se={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(n,e){return Date.now()-n>e},getActiveNetworkProps(){const n=Se.getActiveNamespace(),e=Se.getActiveCaipNetworkId(),t=e?e.split(":")[1]:void 0,r=t?isNaN(Number(t))?t:Number(t):void 0;return{namespace:n,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:n,href:e}){try{Ze.setItem(Xe.DEEPLINK_CHOICE,JSON.stringify({href:e,name:n}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const n=Ze.getItem(Xe.DEEPLINK_CHOICE);if(n)return JSON.parse(n)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Ze.removeItem(Xe.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(n){try{Ze.setItem(Xe.ACTIVE_NAMESPACE,n)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(n){try{Ze.setItem(Xe.ACTIVE_CAIP_NETWORK_ID,n),Se.setActiveNamespace(n.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Ze.getItem(Xe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Ze.removeItem(Xe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(n){try{const e=HA(n);Ze.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(n){try{const e=Se.getRecentWallets();e.find(r=>r.id===n.id)||(e.unshift(n),e.length>2&&e.pop(),Ze.setItem(Xe.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const n=Ze.getItem(Xe.RECENT_WALLETS);return n?JSON.parse(n):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(n,e){try{const t=HA(n);Ze.setItem(t,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Ze.getItem(Xe.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(n){if(n)try{const e=HA(n);return Ze.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",n)}},setConnectedSocialProvider(n){try{Ze.setItem(Xe.CONNECTED_SOCIAL,n)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Ze.getItem(Xe.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Ze.removeItem(Xe.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Ze.getItem(Xe.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var t;const n=Ze.getItem(Xe.ACTIVE_CAIP_NETWORK_ID);return(t=n==null?void 0:n.split(":"))==null?void 0:t[1]},setConnectionStatus(n){try{Ze.setItem(Xe.CONNECTION_STATUS,n)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Ze.getItem(Xe.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const n=Ze.getItem(Xe.CONNECTED_NAMESPACES);return n!=null&&n.length?n.split(","):[]}catch{return[]}},setConnectedNamespaces(n){try{const e=Array.from(new Set(n));Ze.setItem(Xe.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(n){try{const e=Se.getConnectedNamespaces();e.includes(n)||(e.push(n),Se.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(n){try{const e=Se.getConnectedNamespaces(),t=e.indexOf(n);t>-1&&(e.splice(t,1),Se.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Ze.getItem(Xe.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(n){try{Ze.setItem(Xe.TELEGRAM_SOCIAL_PROVIDER,n)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Ze.removeItem(Xe.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let n={};try{const e=Ze.getItem(Xe.PORTFOLIO_CACHE);n=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return n},removeAddressFromBalanceCache(n){try{const e=Se.getBalanceCache();Ze.setItem(Xe.PORTFOLIO_CACHE,JSON.stringify({...e,[n]:void 0}))}catch{console.info("Unable to remove address from balance cache",n)}},getBalanceCacheForCaipAddress(n){try{const t=Se.getBalanceCache()[n];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.portfolio))return t.balance;Se.removeAddressFromBalanceCache(n)}catch{console.info("Unable to get balance cache for address",n)}},updateBalanceCache(n){try{const e=Se.getBalanceCache();e[n.caipAddress]=n,Ze.setItem(Xe.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",n)}},getNativeBalanceCache(){let n={};try{const e=Ze.getItem(Xe.NATIVE_BALANCE_CACHE);n=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return n},removeAddressFromNativeBalanceCache(n){try{const e=Se.getBalanceCache();Ze.setItem(Xe.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[n]:void 0}))}catch{console.info("Unable to remove address from balance cache",n)}},getNativeBalanceCacheForCaipAddress(n){try{const t=Se.getNativeBalanceCache()[n];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.nativeBalance))return t;console.info("Discarding cache for address",n),Se.removeAddressFromBalanceCache(n)}catch{console.info("Unable to get balance cache for address",n)}},updateNativeBalanceCache(n){try{const e=Se.getNativeBalanceCache();e[n.caipAddress]=n,Ze.setItem(Xe.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",n)}},getEnsCache(){let n={};try{const e=Ze.getItem(Xe.ENS_CACHE);n=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return n},getEnsFromCacheForAddress(n){try{const t=Se.getEnsCache()[n];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.ens))return t.ens;Se.removeEnsFromCache(n)}catch{console.info("Unable to get ens name from cache",n)}},updateEnsCache(n){try{const e=Se.getEnsCache();e[n.address]=n,Ze.setItem(Xe.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",n)}},removeEnsFromCache(n){try{const e=Se.getEnsCache();Ze.setItem(Xe.ENS_CACHE,JSON.stringify({...e,[n]:void 0}))}catch{console.info("Unable to remove ens name from cache",n)}},getIdentityCache(){let n={};try{const e=Ze.getItem(Xe.IDENTITY_CACHE);n=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return n},getIdentityFromCacheForAddress(n){try{const t=Se.getIdentityCache()[n];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.identity))return t.identity;Se.removeIdentityFromCache(n)}catch{console.info("Unable to get identity from cache",n)}},updateIdentityCache(n){try{const e=Se.getIdentityCache();e[n.address]={identity:n.identity,timestamp:n.timestamp},Ze.setItem(Xe.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",n)}},removeIdentityFromCache(n){try{const e=Se.getIdentityCache();Ze.setItem(Xe.IDENTITY_CACHE,JSON.stringify({...e,[n]:void 0}))}catch{console.info("Unable to remove identity from cache",n)}},clearAddressCache(){try{Ze.removeItem(Xe.PORTFOLIO_CACHE),Ze.removeItem(Xe.NATIVE_BALANCE_CACHE),Ze.removeItem(Xe.ENS_CACHE),Ze.removeItem(Xe.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(n){try{Ze.setItem(Xe.PREFERRED_ACCOUNT_TYPES,JSON.stringify(n))}catch{console.info("Unable to set preferred account types",n)}},getPreferredAccountTypes(){try{const n=Ze.getItem(Xe.PREFERRED_ACCOUNT_TYPES);return n?JSON.parse(n):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(n,e){try{const t={...Se.getConnections(),[e]:n};Ze.setItem(Xe.CONNECTIONS,JSON.stringify(t))}catch(t){console.error("Unable to sync connections to storage",t)}},getConnections(){try{const n=Ze.getItem(Xe.CONNECTIONS);return n?JSON.parse(n):{}}catch(n){return console.error("Unable to get connections from storage",n),{}}}},ke={isMobile(){var n;return this.isClient()?!!(typeof(window==null?void 0:window.matchMedia)=="function"&&((n=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&n.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(n,e=""){return n==null?void 0:n.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const n=window==null?void 0:window.navigator.userAgent.toLowerCase();return ke.isMobile()&&n.includes("android")},isIos(){if(!this.isMobile())return!1;const n=window==null?void 0:window.navigator.userAgent.toLowerCase();return n.includes("iphone")||n.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(n){return n?n-Date.now()<=Gt.TEN_SEC_MS:!0},isAllowedRetry(n,e=Gt.ONE_SEC_MS){return Date.now()-n>=e},copyToClopboard(n){navigator.clipboard.writeText(n)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var n,e;if(ke.isClient()&&window.self!==window.top)try{const t=(e=(n=window==null?void 0:window.location)==null?void 0:n.ancestorOrigins)==null?void 0:e[0],r="https://app.safe.global";if(t){const s=new URL(t),a=new URL(r);return s.hostname===a.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+Gt.FOUR_MINUTES_MS},getNetworkId(n){return n==null?void 0:n.split(":")[1]},getPlainAddress(n){return n==null?void 0:n.split(":")[2]},async wait(n){return new Promise(e=>{setTimeout(e,n)})},debounce(n,e=500){let t;return(...r)=>{function s(){n(...r)}t&&clearTimeout(t),t=setTimeout(s,e)}},isHttpUrl(n){return n.startsWith("http://")||n.startsWith("https://")},formatNativeUrl(n,e,t=null){if(ke.isHttpUrl(n))return this.formatUniversalUrl(n,e);let r=n,s=t;r.includes("://")||(r=n.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!(s!=null&&s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const a=encodeURIComponent(e);return{redirect:`${r}wc?uri=${a}`,redirectUniversalLink:s?`${s}wc?uri=${a}`:void 0,href:r}},formatUniversalUrl(n,e){if(!ke.isHttpUrl(n))return this.formatNativeUrl(n,e);let t=n;t.endsWith("/")||(t=`${t}/`);const r=encodeURIComponent(e);return{redirect:`${t}wc?uri=${r}`,href:t}},getOpenTargetForPlatform(n){return n==="popupWindow"?n:this.isTelegram()?Se.getTelegramSocialProvider()?"_top":"_blank":n},openHref(n,e,t){window==null||window.open(n,this.getOpenTargetForPlatform(e),t||"noreferrer noopener")},returnOpenHref(n,e,t){return window==null?void 0:window.open(n,this.getOpenTargetForPlatform(e),t||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var t,r,s;if(typeof window>"u")return!1;const n=(r=(t=window.matchMedia)==null?void 0:t.call(window,"(display-mode: standalone)"))==null?void 0:r.matches,e=(s=window==null?void 0:window.navigator)==null?void 0:s.standalone;return!!(n||e)},async preloadImage(n){const e=new Promise((t,r)=>{const s=new Image;s.onload=t,s.onerror=r,s.crossOrigin="anonymous",s.src=n});return Promise.race([e,ke.wait(2e3)])},formatBalance(n,e){let t="0.000";if(typeof n=="string"){const r=Number(n);if(r){const s=Math.floor(r*1e3)/1e3;s&&(t=s.toString())}}return`${t}${e?` ${e}`:""}`},formatBalance2(n,e){var r;let t;if(n==="0")t="0";else if(typeof n=="string"){const s=Number(n);s&&(t=(r=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:t??"0",rest:t==="0"?"000":"",symbol:e}},getApiUrl(){return we.W3M_API_URL},getBlockchainApiUrl(){return we.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return we.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,n=>{const e=Math.random()*16|0;return(n==="x"?e:e&3|8).toString(16)})},parseError(n){var e,t;return typeof n=="string"?n:typeof((t=(e=n==null?void 0:n.issues)==null?void 0:e[0])==null?void 0:t.message)=="string"?n.issues[0].message:n instanceof Error?n.message:"Unknown error"},sortRequestedNetworks(n,e=[]){const t={};return e&&n&&(n.forEach((r,s)=>{t[r]=s}),e.sort((r,s)=>{const a=t[r.id],c=t[s.id];return a!==void 0&&c!==void 0?a-c:a!==void 0?-1:c!==void 0?1:0})),e},calculateBalance(n){let e=0;for(const t of n)e+=t.value??0;return e},formatTokenBalance(n){const e=n.toFixed(2),[t,r]=e.split(".");return{dollars:t,pennies:r}},isAddress(n,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(n)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(n)||/^(?:0x)?[0-9A-F]{40}$/iu.test(n))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(n);default:return!1}},uniqueBy(n,e){const t=new Set;return n.filter(r=>{const s=r[e];return t.has(s)?!1:(t.add(s),!0)})},generateSdkVersion(n,e,t){const s=n.length===0?Gt.ADAPTER_TYPES.UNIVERSAL:n.map(a=>a.adapterType).join(",");return`${e}-${s}-${t}`},createAccount(n,e,t,r,s){return{namespace:n,address:e,type:t,publicKey:r,path:s}},isCaipAddress(n){if(typeof n!="string")return!1;const e=n.split(":"),t=e[0];return e.filter(Boolean).length===3&&t in we.CHAIN_NAME_MAP},isMac(){const n=window==null?void 0:window.navigator.userAgent.toLowerCase();return n.includes("macintosh")&&!n.includes("safari")},formatTelegramSocialLoginUrl(n){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,t="state=";if(new URL(n).host==="auth.magic.link"){const s="provider_authorization_url=",a=n.substring(n.indexOf(s)+s.length),c=this.injectIntoUrl(decodeURIComponent(a),t,e);return n.replace(a,encodeURIComponent(c))}return this.injectIntoUrl(n,t,e)},injectIntoUrl(n,e,t){const r=n.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${n}`);const s=n.indexOf("&",r),a=e.length,c=s!==-1?s:n.length,u=n.substring(0,r+a),h=n.substring(r+a,c),d=n.substring(s),p=h+t;return u+p+d}};async function sg(...n){const e=await fetch(...n);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class ly{constructor({baseUrl:e,clientId:t}){this.baseUrl=e,this.clientId=t}async get({headers:e,signal:t,cache:r,...s}){const a=this.createUrl(s);return(await sg(a,{method:"GET",headers:e,signal:t,cache:r})).json()}async getBlob({headers:e,signal:t,...r}){const s=this.createUrl(r);return(await sg(s,{method:"GET",headers:e,signal:t})).blob()}async post({body:e,headers:t,signal:r,...s}){const a=this.createUrl(s);return(await sg(a,{method:"POST",headers:t,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:t,signal:r,...s}){const a=this.createUrl(s);return(await sg(a,{method:"PUT",headers:t,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:t,signal:r,...s}){const a=this.createUrl(s);return(await sg(a,{method:"DELETE",headers:t,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:t}){const r=new URL(e,this.baseUrl);return t&&Object.entries(t).forEach(([s,a])=>{a&&r.searchParams.append(s,a)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const VM={getFeatureValue(n,e){const t=e==null?void 0:e[n];return t===void 0?Gt.DEFAULT_FEATURES[n]:t},filterSocialsByPlatform(n){if(!n||!n.length)return n;if(ke.isTelegram()){if(ke.isIos())return n.filter(e=>e!=="google");if(ke.isMac())return n.filter(e=>e!=="x");if(ke.isAndroid())return n.filter(e=>!["facebook","x"].includes(e))}return n}},je=cn({features:Gt.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Gt.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),ge={state:je,subscribeKey(n,e){return Tr(je,n,e)},setOptions(n){Object.assign(je,n)},setRemoteFeatures(n){var t;if(!n)return;const e={...je.remoteFeatures,...n};je.remoteFeatures=e,(t=je.remoteFeatures)!=null&&t.socials&&(je.remoteFeatures.socials=VM.filterSocialsByPlatform(je.remoteFeatures.socials))},setFeatures(n){if(!n)return;je.features||(je.features=Gt.DEFAULT_FEATURES);const e={...je.features,...n};je.features=e},setProjectId(n){je.projectId=n},setCustomRpcUrls(n){je.customRpcUrls=n},setAllWallets(n){je.allWallets=n},setIncludeWalletIds(n){je.includeWalletIds=n},setExcludeWalletIds(n){je.excludeWalletIds=n},setFeaturedWalletIds(n){je.featuredWalletIds=n},setTokens(n){je.tokens=n},setTermsConditionsUrl(n){je.termsConditionsUrl=n},setPrivacyPolicyUrl(n){je.privacyPolicyUrl=n},setCustomWallets(n){je.customWallets=n},setIsSiweEnabled(n){je.isSiweEnabled=n},setIsUniversalProvider(n){je.isUniversalProvider=n},setSdkVersion(n){je.sdkVersion=n},setMetadata(n){je.metadata=n},setDisableAppend(n){je.disableAppend=n},setEIP6963Enabled(n){je.enableEIP6963=n},setDebug(n){je.debug=n},setEnableWalletConnect(n){je.enableWalletConnect=n},setEnableWalletGuide(n){je.enableWalletGuide=n},setEnableAuthLogger(n){je.enableAuthLogger=n},setEnableWallets(n){je.enableWallets=n},setPreferUniversalLinks(n){je.experimental_preferUniversalLinks=n},setHasMultipleAddresses(n){je.hasMultipleAddresses=n},setSIWX(n){je.siwx=n},setConnectMethodsOrder(n){je.features={...je.features,connectMethodsOrder:n}},setWalletFeaturesOrder(n){je.features={...je.features,walletFeaturesOrder:n}},setSocialsOrder(n){je.remoteFeatures={...je.remoteFeatures,socials:n}},setCollapseWallets(n){je.features={...je.features,collapseWallets:n}},setEnableEmbedded(n){je.enableEmbedded=n},setAllowUnsupportedChain(n){je.allowUnsupportedChain=n},setManualWCControl(n){je.manualWCControl=n},setEnableNetworkSwitch(n){je.enableNetworkSwitch=n},setDefaultAccountTypes(n={}){Object.entries(n).forEach(([e,t])=>{t&&(je.defaultAccountTypes[e]=t)})},setUniversalProviderConfigOverride(n){je.universalProviderConfigOverride=n},getUniversalProviderConfigOverride(){return je.universalProviderConfigOverride},getSnapshot(){return Su(je)}},KM=Object.freeze({enabled:!0,events:[]}),WM=new ly({baseUrl:ke.getAnalyticsUrl(),clientId:null}),YM=5,QM=60*1e3,sc=cn({...KM}),ZM={state:sc,subscribeKey(n,e){return Tr(sc,n,e)},async sendError(n,e){if(!sc.enabled)return;const t=Date.now();if(sc.events.filter(a=>{const c=new Date(a.properties.timestamp||"").getTime();return t-c<QM}).length>=YM)return;const s={type:"error",event:e,properties:{errorType:n.name,errorMessage:n.message,stackTrace:n.stack,timestamp:new Date().toISOString()}};sc.events.push(s);try{if(typeof window>"u")return;const{projectId:a,sdkType:c,sdkVersion:u}=ge.state;await WM.post({path:"/e",params:{projectId:a,st:c,sv:u||"html-wagmi-4.2.2"},body:{eventId:ke.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:n.name,errorMessage:n.message,stackTrace:n.stack}}})}catch{}},enable(){sc.enabled=!0},disable(){sc.enabled=!1},clearEvents(){sc.events=[]}};class bf extends Error{constructor(e,t,r){super(e),this.name="AppKitError",this.category=t,this.originalError=r,Object.setPrototypeOf(this,bf.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const a=r.stack,c=a.indexOf(`
`);if(c>-1){const u=a.substring(c+1);this.stack=`${this.name}: ${this.message}
${u}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,bf):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function XO(n,e){const t=n instanceof bf?n:new bf(n instanceof Error?n.message:String(n),e,n);throw ZM.sendError(t,t.category),t}function Us(n,e="INTERNAL_SDK_ERROR"){const t={};return Object.keys(n).forEach(r=>{const s=n[r];if(typeof s=="function"){let a=s;s.constructor.name==="AsyncFunction"?a=async(...c)=>{try{return await s(...c)}catch(u){return XO(u,e)}}:a=(...c)=>{try{return s(...c)}catch(u){return XO(u,e)}},t[r]=a}else t[r]=s}),t}const da={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},JM={handleMobileDeeplinkRedirect(n,e){const t=window.location.href,r=encodeURIComponent(t);if(n===da.PHANTOM.id&&!("phantom"in window)){const s=t.startsWith("https")?"https":"http",a=t.split("/")[2],c=encodeURIComponent(`${s}://${a}`);window.location.href=`${da.PHANTOM.url}/ul/browse/${r}?ref=${c}`}n===da.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${da.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===we.CHAIN.SOLANA&&n===da.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${da.COINBASE.url}/dapp?cb_url=${r}`)}},vs=cn({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),XM={state:vs,subscribeNetworkImages(n){return pr(vs.networkImages,()=>n(vs.networkImages))},subscribeKey(n,e){return Tr(vs,n,e)},subscribe(n){return pr(vs,()=>n(vs))},setWalletImage(n,e){vs.walletImages[n]=e},setNetworkImage(n,e){vs.networkImages[n]=e},setChainImage(n,e){vs.chainImages[n]=e},setConnectorImage(n,e){vs.connectorImages={...vs.connectorImages,[n]:e}},setTokenImage(n,e){vs.tokenImages[n]=e},setCurrencyImage(n,e){vs.currencyImages[n]=e}},Ri=Us(XM),eL={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},qA=cn({networkImagePromises:{}}),XP={async fetchWalletImage(n){if(n)return await $e._fetchWalletImage(n),this.getWalletImageById(n)},async fetchNetworkImage(n){if(!n)return;const e=this.getNetworkImageById(n);return e||(qA.networkImagePromises[n]||(qA.networkImagePromises[n]=$e._fetchNetworkImage(n)),await qA.networkImagePromises[n],this.getNetworkImageById(n))},getWalletImageById(n){if(n)return Ri.state.walletImages[n]},getWalletImage(n){if(n!=null&&n.image_url)return n==null?void 0:n.image_url;if(n!=null&&n.image_id)return Ri.state.walletImages[n.image_id]},getNetworkImage(n){var e,t,r;if((e=n==null?void 0:n.assets)!=null&&e.imageUrl)return(t=n==null?void 0:n.assets)==null?void 0:t.imageUrl;if((r=n==null?void 0:n.assets)!=null&&r.imageId)return Ri.state.networkImages[n.assets.imageId]},getNetworkImageById(n){if(n)return Ri.state.networkImages[n]},getConnectorImage(n){if(n!=null&&n.imageUrl)return n.imageUrl;if(n!=null&&n.imageId)return Ri.state.connectorImages[n.imageId]},getChainImage(n){return Ri.state.networkImages[eL[n]]}},ic=cn({message:"",variant:"info",open:!1}),tL={state:ic,subscribeKey(n,e){return Tr(ic,n,e)},open(n,e){const{debug:t}=ge.state,{shortMessage:r,longMessage:s}=n;t&&(ic.message=r,ic.variant=e,ic.open=!0),s&&console.error(typeof s=="function"?s():s)},close(){ic.open=!1,ic.message="",ic.variant="info"}},ga=Us(tL),nL=ke.getAnalyticsUrl(),rL=new ly({baseUrl:nL,clientId:null}),sL=["MODAL_CREATED"],qa=cn({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),hn={state:qa,subscribe(n){return pr(qa,()=>n(qa))},getSdkProperties(){const{projectId:n,sdkType:e,sdkVersion:t}=ge.state;return{projectId:n,st:e,sv:t||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(n){try{const e=Ce.state.address;if(sL.includes(n.data.event)||typeof window>"u")return;await rL.post({path:"/e",params:hn.getSdkProperties(),body:{eventId:ke.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:n.timestamp,props:{...n.data,address:e}}}),qa.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===we.HTTP_STATUS_CODES.FORBIDDEN&&!qa.reportedErrors.FORBIDDEN&&(ga.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Cg()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),qa.reportedErrors.FORBIDDEN=!0)}},sendEvent(n){var e;qa.timestamp=Date.now(),qa.data=n,(e=ge.state.features)!=null&&e.analytics&&hn._sendAnalyticsEvent(qa)}},iL=ke.getApiUrl(),Wr=new ly({baseUrl:iL,clientId:null}),aL=40,eR=4,oL=20,et=cn({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),$e={state:et,subscribeKey(n,e){return Tr(et,n,e)},_getSdkProperties(){const{projectId:n,sdkType:e,sdkVersion:t}=ge.state;return{projectId:n,st:e||"appkit",sv:t||"html-wagmi-4.2.2"}},_filterOutExtensions(n){return ge.state.isUniversalProvider?n.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):n},async _fetchWalletImage(n){const e=`${Wr.baseUrl}/getWalletImage/${n}`,t=await Wr.getBlob({path:e,params:$e._getSdkProperties()});Ri.setWalletImage(n,URL.createObjectURL(t))},async _fetchNetworkImage(n){const e=`${Wr.baseUrl}/public/getAssetImage/${n}`,t=await Wr.getBlob({path:e,params:$e._getSdkProperties()});Ri.setNetworkImage(n,URL.createObjectURL(t))},async _fetchConnectorImage(n){const e=`${Wr.baseUrl}/public/getAssetImage/${n}`,t=await Wr.getBlob({path:e,params:$e._getSdkProperties()});Ri.setConnectorImage(n,URL.createObjectURL(t))},async _fetchCurrencyImage(n){const e=`${Wr.baseUrl}/public/getCurrencyImage/${n}`,t=await Wr.getBlob({path:e,params:$e._getSdkProperties()});Ri.setCurrencyImage(n,URL.createObjectURL(t))},async _fetchTokenImage(n){const e=`${Wr.baseUrl}/public/getTokenImage/${n}`,t=await Wr.getBlob({path:e,params:$e._getSdkProperties()});Ri.setTokenImage(n,URL.createObjectURL(t))},_filterWalletsByPlatform(n){return ke.isMobile()?n==null?void 0:n.filter(t=>t.mobile_link||t.id===da.COINBASE.id?!0:j.state.activeChain==="solana"&&(t.id===da.SOLFLARE.id||t.id===da.PHANTOM.id)):n},async fetchProjectConfig(){return(await Wr.get({path:"/appkit/v1/config",params:$e._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:n}=await Wr.get({path:"/projects/v1/origins",params:$e._getSdkProperties()});return n}catch{return[]}},async fetchNetworkImages(){const n=j.getAllRequestedCaipNetworks(),e=n==null?void 0:n.map(({assets:t})=>t==null?void 0:t.imageId).filter(Boolean).filter(t=>!XP.getNetworkImageById(t));e&&await Promise.allSettled(e.map(t=>$e._fetchNetworkImage(t)))},async fetchConnectorImages(){const{connectors:n}=Ne.state,e=n.map(({imageId:t})=>t).filter(Boolean);await Promise.allSettled(e.map(t=>$e._fetchConnectorImage(t)))},async fetchCurrencyImages(n=[]){await Promise.allSettled(n.map(e=>$e._fetchCurrencyImage(e)))},async fetchTokenImages(n=[]){await Promise.allSettled(n.map(e=>$e._fetchTokenImage(e)))},async fetchWallets(n){var a;const e=n.exclude??[];$e._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(da).map(c=>c.id));const r=await Wr.get({path:"/getWallets",params:{...$e._getSdkProperties(),...n,page:String(n.page),entries:String(n.entries),include:(a=n.include)==null?void 0:a.join(","),exclude:e.join(",")}});return{data:$e._filterWalletsByPlatform(r==null?void 0:r.data)||[],count:r==null?void 0:r.count}},async fetchFeaturedWallets(){const{featuredWalletIds:n}=ge.state;if(n!=null&&n.length){const e={...$e._getSdkProperties(),page:1,entries:(n==null?void 0:n.length)??eR,include:n},{data:t}=await $e.fetchWallets(e),r=[...t].sort((a,c)=>n.indexOf(a.id)-n.indexOf(c.id)),s=r.map(a=>a.image_id).filter(Boolean);await Promise.allSettled(s.map(a=>$e._fetchWalletImage(a))),et.featured=r,et.allFeatured=r}},async fetchRecommendedWallets(){try{et.isFetchingRecommendedWallets=!0;const{includeWalletIds:n,excludeWalletIds:e,featuredWalletIds:t}=ge.state,r=[...e??[],...t??[]].filter(Boolean),s=j.getRequestedCaipNetworkIds().join(","),a={page:1,entries:eR,include:n,exclude:r,chains:s},{data:c,count:u}=await $e.fetchWallets(a),h=Se.getRecentWallets(),d=c.map(m=>m.image_id).filter(Boolean),p=h.map(m=>m.image_id).filter(Boolean);await Promise.allSettled([...d,...p].map(m=>$e._fetchWalletImage(m))),et.recommended=c,et.allRecommended=c,et.count=u??0}catch{}finally{et.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:n}){const{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:r}=ge.state,s=j.getRequestedCaipNetworkIds().join(","),a=[...et.recommended.map(({id:p})=>p),...t??[],...r??[]].filter(Boolean),c={page:n,entries:aL,include:e,exclude:a,chains:s},{data:u,count:h}=await $e.fetchWallets(c),d=u.slice(0,oL).map(p=>p.image_id).filter(Boolean);await Promise.allSettled(d.map(p=>$e._fetchWalletImage(p))),et.wallets=ke.uniqueBy([...et.wallets,...$e._filterOutExtensions(u)],"id").filter(p=>{var m;return(m=p.chains)==null?void 0:m.some(y=>s.includes(y))}),et.count=h>et.count?h:et.count,et.page=n},async initializeExcludedWallets({ids:n}){const e={page:1,entries:n.length,include:n},{data:t}=await $e.fetchWallets(e);t&&t.forEach(r=>{et.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:n,badge:e}){const{includeWalletIds:t,excludeWalletIds:r}=ge.state,s=j.getRequestedCaipNetworkIds().join(",");et.search=[];const a={page:1,entries:100,search:n==null?void 0:n.trim(),badge_type:e,include:t,exclude:r,chains:s},{data:c}=await $e.fetchWallets(a);hn.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:n??""}});const u=c.map(h=>h.image_id).filter(Boolean);await Promise.allSettled([...u.map(h=>$e._fetchWalletImage(h)),ke.wait(300)]),et.search=$e._filterOutExtensions(c)},initPromise(n,e){const t=et.promises[n];return t||(et.promises[n]=e())},prefetch({fetchConnectorImages:n=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:t=!0,fetchNetworkImages:r=!0}={}){const s=[n&&$e.initPromise("connectorImages",$e.fetchConnectorImages),e&&$e.initPromise("featuredWallets",$e.fetchFeaturedWallets),t&&$e.initPromise("recommendedWallets",$e.fetchRecommendedWallets),r&&$e.initPromise("networkImages",$e.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){var n;(n=ge.state.features)!=null&&n.analytics&&$e.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:n}=await Wr.get({path:"/getAnalyticsConfig",params:$e._getSdkProperties()});ge.setFeatures({analytics:n})}catch{ge.setFeatures({analytics:!1})}},filterByNamespaces(n){if(!(n!=null&&n.length)){et.featured=et.allFeatured,et.recommended=et.allRecommended;return}const e=j.getRequestedCaipNetworkIds().join(",");et.featured=et.allFeatured.filter(t=>{var r;return(r=t.chains)==null?void 0:r.some(s=>e.includes(s))}),et.recommended=et.allRecommended.filter(t=>{var r;return(r=t.chains)==null?void 0:r.some(s=>e.includes(s))}),et.filteredWallets=et.wallets.filter(t=>{var r;return(r=t.chains)==null?void 0:r.some(s=>e.includes(s))})},clearFilterByNamespaces(){et.filteredWallets=[]},setFilterByNamespace(n){if(!n){et.featured=et.allFeatured,et.recommended=et.allRecommended;return}const e=j.getRequestedCaipNetworkIds().join(",");et.featured=et.allFeatured.filter(t=>{var r;return(r=t.chains)==null?void 0:r.some(s=>e.includes(s))}),et.recommended=et.allRecommended.filter(t=>{var r;return(r=t.chains)==null?void 0:r.some(s=>e.includes(s))}),et.filteredWallets=et.wallets.filter(t=>{var r;return(r=t.chains)==null?void 0:r.some(s=>e.includes(s))})}},Ht=cn({view:"Connect",history:["Connect"],transactionStack:[]}),cL={state:Ht,subscribeKey(n,e){return Tr(Ht,n,e)},pushTransactionStack(n){Ht.transactionStack.push(n)},popTransactionStack(n){const e=Ht.transactionStack.pop();if(!e)return;const{onSuccess:t,onError:r,onCancel:s}=e;switch(n){case"success":t==null||t();break;case"error":r==null||r(),at.goBack();break;case"cancel":s==null||s(),at.goBack();break}},push(n,e){n!==Ht.view&&(Ht.view=n,Ht.history.push(n),Ht.data=e)},reset(n,e){Ht.view=n,Ht.history=[n],Ht.data=e},replace(n,e){Ht.history.at(-1)===n||(Ht.view=n,Ht.history[Ht.history.length-1]=n,Ht.data=e)},goBack(){var r;const n=j.state.activeCaipAddress,e=at.state.view==="ConnectingFarcaster",t=!n&&e;if(Ht.history.length>1){Ht.history.pop();const[s]=Ht.history.slice(-1);s&&(n&&s==="Connect"?Ht.view="Account":Ht.view=s)}else Qn.close();(r=Ht.data)!=null&&r.wallet&&(Ht.data.wallet=void 0),setTimeout(()=>{var s,a,c;if(t){Ce.setFarcasterUrl(void 0,j.state.activeChain);const u=Ne.getAuthConnector();(s=u==null?void 0:u.provider)==null||s.reload();const h=Su(ge.state);(c=(a=u==null?void 0:u.provider)==null?void 0:a.syncDappData)==null||c.call(a,{metadata:h.metadata,sdkVersion:h.sdkVersion,projectId:h.projectId,sdkType:h.sdkType})}},100)},goBackToIndex(n){if(Ht.history.length>1){Ht.history=Ht.history.slice(0,n+1);const[e]=Ht.history.slice(-1);e&&(Ht.view=e)}},goBackOrCloseModal(){at.state.history.length>1?at.goBack():Qn.close()}},at=Us(cL),Ga=cn({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),u_={state:Ga,subscribe(n){return pr(Ga,()=>n(Ga))},setThemeMode(n){Ga.themeMode=n;try{const e=Ne.getAuthConnector();if(e){const t=u_.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:n,themeVariables:t,w3mThemeVariables:bo(t,n)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(n){Ga.themeVariables={...Ga.themeVariables,...n};try{const e=Ne.getAuthConnector();if(e){const t=u_.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:t,w3mThemeVariables:bo(Ga.themeVariables,Ga.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Su(Ga)}},ss=Us(u_),eD={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},_t=cn({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...eD},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),lL={state:_t,subscribe(n){return pr(_t,()=>{n(_t)})},subscribeKey(n,e){return Tr(_t,n,e)},initialize(n){n.forEach(e=>{const t=Se.getConnectedConnectorId(e);t&&Ne.setConnectorId(t,e)})},setActiveConnector(n){n&&(_t.activeConnector=Nu(n))},setConnectors(n){n.filter(s=>!_t.allConnectors.some(a=>a.id===s.id&&Ne.getConnectorName(a.name)===Ne.getConnectorName(s.name)&&a.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&_t.allConnectors.push(Nu(s))});const t=Ne.getEnabledNamespaces(),r=Ne.getEnabledConnectors(t);_t.connectors=Ne.mergeMultiChainConnectors(r)},filterByNamespaces(n){Object.keys(_t.filterByNamespaceMap).forEach(e=>{_t.filterByNamespaceMap[e]=!1}),n.forEach(e=>{_t.filterByNamespaceMap[e]=!0}),Ne.updateConnectorsForEnabledNamespaces()},filterByNamespace(n,e){_t.filterByNamespaceMap[n]=e,Ne.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const n=Ne.getEnabledNamespaces(),e=Ne.getEnabledConnectors(n),t=Ne.areAllNamespacesEnabled();_t.connectors=Ne.mergeMultiChainConnectors(e),t?$e.clearFilterByNamespaces():$e.filterByNamespaces(n)},getEnabledNamespaces(){return Object.entries(_t.filterByNamespaceMap).filter(([n,e])=>e).map(([n])=>n)},getEnabledConnectors(n){return _t.allConnectors.filter(e=>n.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(_t.filterByNamespaceMap).every(n=>n)},mergeMultiChainConnectors(n){const e=Ne.generateConnectorMapByName(n),t=[];return e.forEach(r=>{const s=r[0],a=(s==null?void 0:s.id)===we.CONNECTOR_ID.AUTH;r.length>1&&s?t.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:a?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&t.push(s)}),t},generateConnectorMapByName(n){const e=new Map;return n.forEach(t=>{const{name:r}=t,s=Ne.getConnectorName(r);if(!s)return;const a=e.get(s)||[];a.find(u=>u.chain===t.chain)||a.push(t),e.set(s,a)}),e},getConnectorName(n){return n&&({"Trust Wallet":"Trust"}[n]||n)},getUniqueConnectorsByName(n){const e=[];return n.forEach(t=>{e.find(r=>r.chain===t.chain)||e.push(t)}),e},addConnector(n){var e,t,r;if(n.id===we.CONNECTOR_ID.AUTH){const s=n,a=Su(ge.state),c=ss.getSnapshot().themeMode,u=ss.getSnapshot().themeVariables;(t=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||t.call(e,{metadata:a.metadata,sdkVersion:a.sdkVersion,projectId:a.projectId,sdkType:a.sdkType}),(r=s==null?void 0:s.provider)==null||r.syncTheme({themeMode:c,themeVariables:u,w3mThemeVariables:bo(u,c)}),Ne.setConnectors([n])}else Ne.setConnectors([n])},getAuthConnector(n){var r;const e=n||j.state.activeChain,t=_t.connectors.find(s=>s.id===we.CONNECTOR_ID.AUTH);if(t)return(r=t==null?void 0:t.connectors)!=null&&r.length?t.connectors.find(a=>a.chain===e):t},getAnnouncedConnectorRdns(){return _t.connectors.filter(n=>n.type==="ANNOUNCED").map(n=>{var e;return(e=n.info)==null?void 0:e.rdns})},getConnectorById(n){return _t.allConnectors.find(e=>e.id===n)},getConnector(n,e){return _t.allConnectors.filter(r=>r.chain===j.state.activeChain).find(r=>{var s;return r.explorerId===n||((s=r.info)==null?void 0:s.rdns)===e})},syncIfAuthConnector(n){var a,c;if(n.id!=="ID_AUTH")return;const e=n,t=Su(ge.state),r=ss.getSnapshot().themeMode,s=ss.getSnapshot().themeVariables;(c=(a=e==null?void 0:e.provider)==null?void 0:a.syncDappData)==null||c.call(a,{metadata:t.metadata,sdkVersion:t.sdkVersion,sdkType:t.sdkType,projectId:t.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:bo(s,r)})},getConnectorsByNamespace(n){const e=_t.allConnectors.filter(t=>t.chain===n);return Ne.mergeMultiChainConnectors(e)},selectWalletConnector(n){const e=Ne.getConnector(n.id,n.rdns),t=j.state.activeChain;JM.handleMobileDeeplinkRedirect((e==null?void 0:e.explorerId)||n.id,t),e?at.push("ConnectingExternal",{connector:e}):at.push("ConnectingWalletConnect",{wallet:n})},getConnectors(n){return n?Ne.getConnectorsByNamespace(n):Ne.mergeMultiChainConnectors(_t.allConnectors)},setFilterByNamespace(n){_t.filterByNamespace=n,_t.connectors=Ne.getConnectors(n),$e.setFilterByNamespace(n)},setConnectorId(n,e){n&&(_t.activeConnectorIds={..._t.activeConnectorIds,[e]:n},Se.setConnectedConnectorId(e,n))},removeConnectorId(n){_t.activeConnectorIds={..._t.activeConnectorIds,[n]:void 0},Se.deleteConnectedConnectorId(n)},getConnectorId(n){if(n)return _t.activeConnectorIds[n]},isConnected(n){return n?!!_t.activeConnectorIds[n]:Object.values(_t.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){_t.activeConnectorIds={...eD}}},Ne=Us(lL);var vf={};const uL="https://secure.walletconnect.org/sdk",hL=(typeof process<"u"&&typeof vf<"u"?vf.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||uL,dL=(typeof process<"u"&&typeof vf<"u"?vf.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",fL=(typeof process<"u"&&typeof vf<"u"?vf.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Pe={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},dr={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},Rl=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),kn=cn({...Rl}),pL={state:kn,subscribeKey(n,e){return Tr(kn,n,e)},showLoading(n,e={}){this._showMessage({message:n,variant:"loading",...e})},showSuccess(n){this._showMessage({message:n,variant:"success"})},showSvg(n,e){this._showMessage({message:n,svg:e})},showError(n){const e=ke.parseError(n);this._showMessage({message:e,variant:"error"})},hide(){kn.message=Rl.message,kn.variant=Rl.variant,kn.svg=Rl.svg,kn.open=Rl.open,kn.autoClose=Rl.autoClose},_showMessage({message:n,svg:e,variant:t="success",autoClose:r=Rl.autoClose}){kn.open?(kn.open=!1,setTimeout(()=>{kn.message=n,kn.variant=t,kn.svg=e,kn.open=!0,kn.autoClose=r},150)):(kn.message=n,kn.variant=t,kn.svg=e,kn.open=!0,kn.autoClose=r)}},xi=pL,rn=cn({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),gL={state:rn,subscribe(n){return pr(rn,()=>n(rn))},setLastNetworkInView(n){rn.lastNetworkInView=n},async fetchTransactions(n,e){var t,r;if(!n)throw new Error("Transactions can't be fetched without an accountAddress");rn.loading=!0;try{const s=await Ve.fetchTransactions({account:n,cursor:rn.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(t=j.state.activeCaipNetwork)==null?void 0:t.caipNetworkId}),a=Sg.filterSpamTransactions(s.data),c=Sg.filterByConnectedChain(a),u=[...rn.transactions,...c];rn.loading=!1,e==="coinbase"?rn.coinbaseTransactions=Sg.groupTransactionsByYearAndMonth(rn.coinbaseTransactions,s.data):(rn.transactions=u,rn.transactionsByYear=Sg.groupTransactionsByYearAndMonth(rn.transactionsByYear,c)),rn.empty=u.length===0,rn.next=s.next?s.next:void 0}catch{const a=j.state.activeChain;hn.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:n,projectId:ge.state.projectId,cursor:rn.next,isSmartAccount:((r=Ce.state.preferredAccountTypes)==null?void 0:r[a])===dr.ACCOUNT_TYPES.SMART_ACCOUNT}}),xi.showError("Failed to fetch transactions"),rn.loading=!1,rn.empty=!0,rn.next=void 0}},groupTransactionsByYearAndMonth(n={},e=[]){const t=n;return e.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),a=new Date(r.metadata.minedAt).getMonth(),c=t[s]??{},h=(c[a]??[]).filter(d=>d.id!==r.id);t[s]={...c,[a]:[...h,r].sort((d,p)=>new Date(p.metadata.minedAt).getTime()-new Date(d.metadata.minedAt).getTime())}}),t},filterSpamTransactions(n){return n.filter(e=>!e.transfers.every(r=>{var s;return((s=r.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(n){var r;const e=(r=j.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return n.filter(s=>s.metadata.chain===e)},clearCursor(){rn.next=void 0},resetTransactions(){rn.transactions=[],rn.transactionsByYear={},rn.lastNetworkInView=void 0,rn.loading=!1,rn.empty=!1,rn.next=void 0}},Sg=Us(gL,"API_ERROR"),Yt=cn({connections:new Map,wcError:!1,buffering:!1,status:"disconnected"});let vl;const mL={state:Yt,subscribeKey(n,e){return Tr(Yt,n,e)},_getClient(){return Yt._client},setClient(n){Yt._client=Nu(n)},async connectWalletConnect(){var n,e,t,r;if(ke.isTelegram()||ke.isSafari()&&ke.isIos()){if(vl){await vl,vl=void 0;return}if(!ke.isPairingExpired(Yt==null?void 0:Yt.wcPairingExpiry)){const s=Yt.wcUri;Yt.wcUri=s;return}vl=(e=(n=ze._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:e.call(n).catch(()=>{}),ze.state.status="connecting",await vl,vl=void 0,Yt.wcPairingExpiry=void 0,ze.state.status="connected"}else await((r=(t=ze._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:r.call(t))},async connectExternal(n,e,t=!0){var r,s;await((s=(r=ze._getClient())==null?void 0:r.connectExternal)==null?void 0:s.call(r,n)),t&&j.setActiveNamespace(e)},async reconnectExternal(n){var t,r;await((r=(t=ze._getClient())==null?void 0:t.reconnectExternal)==null?void 0:r.call(t,n));const e=n.chain||j.state.activeChain;e&&Ne.setConnectorId(n.id,e)},async setPreferredAccountType(n,e){var r;Qn.setLoading(!0,j.state.activeChain);const t=Ne.getAuthConnector();t&&(Ce.setPreferredAccountType(n,e),await t.provider.setPreferredAccount(n),Se.setPreferredAccountTypes(Ce.state.preferredAccountTypes??{[e]:n}),await ze.reconnectExternal(t),Qn.setLoading(!1,j.state.activeChain),hn.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:n,network:((r=j.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(n){var e;return(e=ze._getClient())==null?void 0:e.signMessage(n)},parseUnits(n,e){var t;return(t=ze._getClient())==null?void 0:t.parseUnits(n,e)},formatUnits(n,e){var t;return(t=ze._getClient())==null?void 0:t.formatUnits(n,e)},async sendTransaction(n){var e;return(e=ze._getClient())==null?void 0:e.sendTransaction(n)},async getCapabilities(n){var e;return(e=ze._getClient())==null?void 0:e.getCapabilities(n)},async grantPermissions(n){var e;return(e=ze._getClient())==null?void 0:e.grantPermissions(n)},async walletGetAssets(n){var e;return((e=ze._getClient())==null?void 0:e.walletGetAssets(n))??{}},async estimateGas(n){var e;return(e=ze._getClient())==null?void 0:e.estimateGas(n)},async writeContract(n){var e;return(e=ze._getClient())==null?void 0:e.writeContract(n)},async getEnsAddress(n){var e;return(e=ze._getClient())==null?void 0:e.getEnsAddress(n)},async getEnsAvatar(n){var e;return(e=ze._getClient())==null?void 0:e.getEnsAvatar(n)},checkInstalled(n){var e,t;return((t=(e=ze._getClient())==null?void 0:e.checkInstalled)==null?void 0:t.call(e,n))||!1},resetWcConnection(){Yt.wcUri=void 0,Yt.wcPairingExpiry=void 0,Yt.wcLinking=void 0,Yt.recentWallet=void 0,Yt.status="disconnected",Sg.resetTransactions(),Se.deleteWalletConnectDeepLink()},resetUri(){Yt.wcUri=void 0,Yt.wcPairingExpiry=void 0,vl=void 0},finalizeWcConnection(){var t,r;const{wcLinking:n,recentWallet:e}=ze.state;n&&Se.setWalletConnectDeepLink(n),e&&Se.setAppKitRecent(e),hn.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:n?"mobile":"qrcode",name:((r=(t=at.state.data)==null?void 0:t.wallet)==null?void 0:r.name)||"Unknown"}})},setWcBasic(n){Yt.wcBasic=n},setUri(n){Yt.wcUri=n,Yt.wcPairingExpiry=ke.getPairingExpiry()},setWcLinking(n){Yt.wcLinking=n},setWcError(n){Yt.wcError=n,Yt.buffering=!1},setRecentWallet(n){Yt.recentWallet=n},setBuffering(n){Yt.buffering=n},setStatus(n){Yt.status=n},async disconnect(n){var e;try{await((e=ze._getClient())==null?void 0:e.disconnect(n))}catch(t){throw new bf("Failed to disconnect","INTERNAL_SDK_ERROR",t)}},setConnections(n,e){Yt.connections.set(e,n)},switchAccount({connection:n,address:e,namespace:t}){if(Ne.state.activeConnectorIds[t]===n.connectorId){const a=j.state.activeCaipNetwork;if(a){const c=`${t}:${a.id}:${e}`;Ce.setCaipAddress(c,t)}else console.warn(`No current network found for namespace "${t}"`)}else{const a=Ne.getConnector(n.connectorId);a?ze.connectExternal(a,t):console.warn(`No connector found for namespace "${t}"`)}}},ze=Us(mL),Mh=cn({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Ea={state:Mh,subscribe(n){return pr(Mh,()=>n(Mh))},subscribeOpen(n){return Tr(Mh,"open",n)},set(n){Object.assign(Mh,{...Mh,...n})}};function yL(n,{strict:e=!0}={}){return!n||typeof n!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(n):n.startsWith("0x")}function tR(n){return yL(n,{strict:!1})?Math.ceil((n.length-2)/2):n.length}const tD="2.30.6";let ig={getDocsUrl:({docsBaseUrl:n,docsPath:e="",docsSlug:t})=>e?`${n??"https://viem.sh"}${e}${t?`#${t}`:""}`:void 0,version:`viem@${tD}`},$i=class h_ extends Error{constructor(e,t={}){var u;const r=(()=>{var h;return t.cause instanceof h_?t.cause.details:(h=t.cause)!=null&&h.message?t.cause.message:t.details})(),s=t.cause instanceof h_&&t.cause.docsPath||t.docsPath,a=(u=ig.getDocsUrl)==null?void 0:u.call(ig,{...t,docsPath:s}),c=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...ig.version?[`Version: ${ig.version}`]:[]].join(`
`);super(c,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=tD}walk(e){return nD(this,e)}};function nD(n,e){return e!=null&&e(n)?n:n&&typeof n=="object"&&"cause"in n&&n.cause!==void 0?nD(n.cause,e):e?null:n}class _oe extends $i{constructor({offset:e,position:t,size:r}){super(`Slice ${t==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}let rD=class extends $i{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}};function WC(n,{dir:e,size:t=32}={}){return typeof n=="string"?wL(n,{dir:e,size:t}):bL(n,{dir:e,size:t})}function wL(n,{dir:e,size:t=32}={}){if(t===null)return n;const r=n.replace("0x","");if(r.length>t*2)throw new rD({size:Math.ceil(r.length/2),targetSize:t,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](t*2,"0")}`}function bL(n,{dir:e,size:t=32}={}){if(t===null)return n;if(n.length>t)throw new rD({size:n.length,targetSize:t,type:"bytes"});const r=new Uint8Array(t);for(let s=0;s<t;s++){const a=e==="right";r[a?s:t-s-1]=n[a?s:n.length-s-1]}return r}let vL=class extends $i{constructor({max:e,min:t,signed:r,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}},EL=class extends $i{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function sD(n,{size:e}){if(tR(n)>e)throw new EL({givenSize:tR(n),maxSize:e})}const AL=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function nR(n,e={}){return typeof n=="number"||typeof n=="bigint"?CL(n,e):typeof n=="string"?aD(n,e):typeof n=="boolean"?_L(n,e):iD(n,e)}function _L(n,e={}){const t=`0x${Number(n)}`;return typeof e.size=="number"?(sD(t,{size:e.size}),WC(t,{size:e.size})):t}function iD(n,e={}){let t="";for(let s=0;s<n.length;s++)t+=AL[n[s]];const r=`0x${t}`;return typeof e.size=="number"?(sD(r,{size:e.size}),WC(r,{dir:"right",size:e.size})):r}function CL(n,e={}){const{signed:t,size:r}=e,s=BigInt(n);let a;r?t?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof n=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof a=="bigint"&&t?-a-1n:0;if(a&&s>a||s<c){const h=typeof n=="bigint"?"n":"";throw new vL({max:a?`${a}${h}`:void 0,min:`${c}${h}`,signed:t,size:r,value:`${n}${h}`})}const u=`0x${(t&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?WC(u,{size:r}):u}const SL=new TextEncoder;function aD(n,e={}){const t=SL.encode(n);return iD(t,e)}let NL=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&t!==void 0&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const yu=(n,e,t)=>JSON.stringify(n,(r,s)=>typeof s=="bigint"?s.toString():s,t);function TL(n,e){let t=n.toString();const r=t.startsWith("-");r&&(t=t.slice(1)),t=t.padStart(e,"0");let[s,a]=[t.slice(0,t.length-e),t.slice(t.length-e)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}const YC=n=>n;class Ug extends $i{constructor({body:e,cause:t,details:r,headers:s,status:a,url:c}){super("HTTP request failed.",{cause:t,details:r,metaMessages:[a&&`Status: ${a}`,`URL: ${YC(c)}`,e&&`Request body: ${yu(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=a,this.url=c}}class oD extends $i{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${YC(r)}`,`Request body: ${yu(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data}}class rR extends $i{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${YC(t)}`,`Request body: ${yu(e)}`],name:"TimeoutError"})}}const OL=-1;class hs extends $i{constructor(e,{code:t,docsPath:r,metaMessages:s,name:a,shortMessage:c}){super(c,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:a||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a||e.name,this.code=e instanceof oD?e.code:t??OL}}class ks extends hs{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class Yg extends hs{constructor(e){super(e,{code:Yg.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Yg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Qg extends hs{constructor(e){super(e,{code:Qg.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Qg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Zg extends hs{constructor(e,{method:t}={}){super(e,{code:Zg.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(Zg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Jg extends hs{constructor(e){super(e,{code:Jg.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Jg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Ef extends hs{constructor(e){super(e,{code:Ef.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Ef,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Xg extends hs{constructor(e){super(e,{code:Xg.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Xg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class em extends hs{constructor(e){super(e,{code:em.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(em,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class tm extends hs{constructor(e){super(e,{code:tm.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(tm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Af extends hs{constructor(e){super(e,{code:Af.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Af,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Hl extends hs{constructor(e,{method:t}={}){super(e,{code:Hl.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(Hl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class _f extends hs{constructor(e){super(e,{code:_f.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(_f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class nm extends hs{constructor(e){super(e,{code:nm.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(nm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class wu extends ks{constructor(e){super(e,{code:wu.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(wu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class rm extends ks{constructor(e){super(e,{code:rm.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(rm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class sm extends ks{constructor(e,{method:t}={}){super(e,{code:sm.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(sm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class im extends ks{constructor(e){super(e,{code:im.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(im,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class am extends ks{constructor(e){super(e,{code:am.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(am,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class om extends ks{constructor(e){super(e,{code:om.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(om,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class cm extends ks{constructor(e){super(e,{code:cm.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(cm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class lm extends ks{constructor(e){super(e,{code:lm.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(lm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class um extends ks{constructor(e){super(e,{code:um.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(um,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class hm extends ks{constructor(e){super(e,{code:hm.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(hm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class dm extends ks{constructor(e){super(e,{code:dm.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(dm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class fm extends ks{constructor(e){super(e,{code:fm.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(fm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class pm extends ks{constructor(e){super(e,{code:pm.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(pm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class RL extends hs{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const IL="modulepreload",xL=function(n){return"/"+n},sR={},kr=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let c=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=c(t.map(d=>{if(d=xL(d),d in sR)return;sR[d]=!0;const p=d.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":IL,p||(y.as="script"),y.crossOrigin="",y.href=d,h&&y.setAttribute("nonce",h),document.head.appendChild(y),p)return new Promise((b,E)=>{y.addEventListener("load",b),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return s.then(c=>{for(const u of c||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})};class QC extends $i{constructor({cause:e,message:t}={}){var s;const r=(s=t==null?void 0:t.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(QC,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(QC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});function PL(){let n=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{n=r,e=s}),resolve:n,reject:e}}const GA=new Map;function DL({fn:n,id:e,shouldSplitBatch:t,wait:r=0,sort:s}){const a=async()=>{const p=h();c();const m=p.map(({args:y})=>y);m.length!==0&&n(m).then(y=>{s&&Array.isArray(y)&&y.sort(s);for(let b=0;b<p.length;b++){const{resolve:E}=p[b];E==null||E([y[b],y])}}).catch(y=>{for(let b=0;b<p.length;b++){const{reject:E}=p[b];E==null||E(y)}})},c=()=>GA.delete(e),u=()=>h().map(({args:p})=>p),h=()=>GA.get(e)||[],d=p=>GA.set(e,[...h(),p]);return{flush:c,async schedule(p){const{promise:m,resolve:y,reject:b}=PL();return(t==null?void 0:t([...u(),p]))&&a(),h().length>0?(d({args:p,resolve:y,reject:b}),m):(d({args:p,resolve:y,reject:b}),setTimeout(a,r),m)}}}async function cD(n){return new Promise(e=>setTimeout(e,n))}const d_=256;let Kw=d_,Ww;function UL(n=11){if(!Ww||Kw+n>d_*2){Ww="",Kw=0;for(let e=0;e<d_;e++)Ww+=(256+Math.random()*256|0).toString(16).substring(1)}return Ww.substring(Kw,Kw+++n)}const Yw=new NL(8192);function kL(n,{enabled:e=!0,id:t}){if(!e||!t)return n();if(Yw.get(t))return Yw.get(t);const r=n().finally(()=>Yw.delete(t));return Yw.set(t,r),r}function BL(n,{delay:e=100,retryCount:t=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const c=async({count:u=0}={})=>{const h=async({error:d})=>{const p=typeof e=="function"?e({count:u,error:d}):e;p&&await cD(p),c({count:u+1})};try{const d=await n();s(d)}catch(d){if(u<t&&await r({count:u,error:d}))return h({error:d});a(d)}};c()})}function ML(n,e={}){return async(t,r={})=>{var m;const{dedupe:s=!1,methods:a,retryDelay:c=150,retryCount:u=3,uid:h}={...e,...r},{method:d}=t;if((m=a==null?void 0:a.exclude)!=null&&m.includes(d))throw new Hl(new Error("method not supported"),{method:d});if(a!=null&&a.include&&!a.include.includes(d))throw new Hl(new Error("method not supported"),{method:d});const p=s?aD(`${h}.${yu(t)}`):void 0;return kL(()=>BL(async()=>{try{return await n(t)}catch(y){const b=y;switch(b.code){case Yg.code:throw new Yg(b);case Qg.code:throw new Qg(b);case Zg.code:throw new Zg(b,{method:t.method});case Jg.code:throw new Jg(b);case Ef.code:throw new Ef(b);case Xg.code:throw new Xg(b);case em.code:throw new em(b);case tm.code:throw new tm(b);case Af.code:throw new Af(b);case Hl.code:throw new Hl(b,{method:t.method});case _f.code:throw new _f(b);case nm.code:throw new nm(b);case wu.code:throw new wu(b);case rm.code:throw new rm(b);case sm.code:throw new sm(b);case im.code:throw new im(b);case am.code:throw new am(b);case om.code:throw new om(b);case cm.code:throw new cm(b);case lm.code:throw new lm(b);case um.code:throw new um(b);case hm.code:throw new hm(b);case dm.code:throw new dm(b);case fm.code:throw new fm(b);case pm.code:throw new pm(b);case 5e3:throw new wu(b);default:throw y instanceof $i?y:new RL(b)}}},{delay:({count:y,error:b})=>{var E;if(b&&b instanceof Ug){const v=(E=b==null?void 0:b.headers)==null?void 0:E.get("Retry-After");if(v!=null&&v.match(/\d/))return Number.parseInt(v)*1e3}return~~(1<<y)*c},retryCount:u,shouldRetry:({error:y})=>LL(y)}),{enabled:s,id:p})}}function LL(n){return"code"in n&&typeof n.code=="number"?n.code===-1||n.code===_f.code||n.code===Ef.code:n instanceof Ug&&n.status?n.status===403||n.status===408||n.status===413||n.status===429||n.status===500||n.status===502||n.status===503||n.status===504:!0}function lD({key:n,methods:e,name:t,request:r,retryCount:s=3,retryDelay:a=150,timeout:c,type:u},h){const d=UL();return{config:{key:n,methods:e,name:t,request:r,retryCount:s,retryDelay:a,timeout:c,type:u},request:ML(r,{methods:e,retryCount:s,retryDelay:a,uid:d}),value:h}}function iR(n,e={}){const{key:t="fallback",name:r="Fallback",rank:s=!1,shouldThrow:a=$L,retryCount:c,retryDelay:u}=e;return({chain:h,pollingInterval:d=4e3,timeout:p,...m})=>{let y=n,b=()=>{};const E=lD({key:t,name:r,async request({method:v,params:A}){let N;const I=async(P=0)=>{const k=y[P]({...m,chain:h,retryCount:0,timeout:p});try{const U=await k.request({method:v,params:A});return b({method:v,params:A,response:U,transport:k,status:"success"}),U}catch(U){if(b({error:U,method:v,params:A,transport:k,status:"error"}),a(U)||P===y.length-1||(N??(N=y.slice(P+1).some(O=>{const{include:B,exclude:M}=O({chain:h}).config.methods||{};return B?B.includes(v):M?!M.includes(v):!0})),!N))throw U;return I(P+1)}};return I()},retryCount:c,retryDelay:u,type:"fallback"},{onResponse:v=>b=v,transports:y.map(v=>v({chain:h,retryCount:0}))});if(s){const v=typeof s=="object"?s:{};FL({chain:h,interval:v.interval??d,onTransports:A=>y=A,ping:v.ping,sampleCount:v.sampleCount,timeout:v.timeout,transports:y,weights:v.weights})}return E}}function $L(n){return!!("code"in n&&typeof n.code=="number"&&(n.code===Af.code||n.code===wu.code||QC.nodeMessage.test(n.message)||n.code===5e3))}function FL({chain:n,interval:e=4e3,onTransports:t,ping:r,sampleCount:s=10,timeout:a=1e3,transports:c,weights:u={}}){const{stability:h=.7,latency:d=.3}=u,p=[],m=async()=>{const y=await Promise.all(c.map(async v=>{const A=v({chain:n,retryCount:0,timeout:a}),N=Date.now();let I,P;try{await(r?r({transport:A}):A.request({method:"net_listening"})),P=1}catch{P=0}finally{I=Date.now()}return{latency:I-N,success:P}}));p.push(y),p.length>s&&p.shift();const b=Math.max(...p.map(v=>Math.max(...v.map(({latency:A})=>A)))),E=c.map((v,A)=>{const N=p.map(O=>O[A].latency),P=1-N.reduce((O,B)=>O+B,0)/N.length/b,k=p.map(O=>O[A].success),U=k.reduce((O,B)=>O+B,0)/k.length;return U===0?[0,A]:[d*P+h*U,A]}).sort((v,A)=>A[0]-v[0]);t(E.map(([,v])=>c[v])),await cD(e),m()};m()}class jL extends $i{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function HL(n,{errorInstance:e=new Error("timed out"),timeout:t,signal:r}){return new Promise((s,a)=>{(async()=>{let c;try{const u=new AbortController;t>0&&(c=setTimeout(()=>{r&&u.abort()},t)),s(await n({signal:(u==null?void 0:u.signal)||null}))}catch(u){(u==null?void 0:u.name)==="AbortError"&&a(e),a(u)}finally{clearTimeout(c)}})()})}function zL(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const aR=zL();function qL(n,e={}){return{async request(t){var m;const{body:r,onRequest:s=e.onRequest,onResponse:a=e.onResponse,timeout:c=e.timeout??1e4}=t,u={...e.fetchOptions??{},...t.fetchOptions??{}},{headers:h,method:d,signal:p}=u;try{const y=await HL(async({signal:E})=>{const v={...u,body:Array.isArray(r)?yu(r.map(P=>({jsonrpc:"2.0",id:P.id??aR.take(),...P}))):yu({jsonrpc:"2.0",id:r.id??aR.take(),...r}),headers:{"Content-Type":"application/json",...h},method:d||"POST",signal:p||(c>0?E:null)},A=new Request(n,v),N=await(s==null?void 0:s(A,v))??{...v,url:n};return await fetch(N.url??n,N)},{errorInstance:new rR({body:r,url:n}),timeout:c,signal:!0});a&&await a(y);let b;if((m=y.headers.get("Content-Type"))!=null&&m.startsWith("application/json"))b=await y.json();else{b=await y.text();try{b=JSON.parse(b||"{}")}catch(E){if(y.ok)throw E;b={error:b}}}if(!y.ok)throw new Ug({body:r,details:yu(b.error)||y.statusText,headers:y.headers,status:y.status,url:n});return b}catch(y){throw y instanceof Ug||y instanceof rR?y:new Ug({body:r,cause:y,url:n})}}}}function Qw(n,e={}){const{batch:t,fetchOptions:r,key:s="http",methods:a,name:c="HTTP JSON-RPC",onFetchRequest:u,onFetchResponse:h,retryDelay:d,raw:p}=e;return({chain:m,retryCount:y,timeout:b})=>{const{batchSize:E=1e3,wait:v=0}=typeof t=="object"?t:{},A=e.retryCount??y,N=b??e.timeout??1e4,I=n||(m==null?void 0:m.rpcUrls.default.http[0]);if(!I)throw new jL;const P=qL(I,{fetchOptions:r,onRequest:u,onResponse:h,timeout:N});return lD({key:s,methods:a,name:c,async request({method:k,params:U}){const O={method:k,params:U},{schedule:B}=DL({id:I,wait:v,shouldSplitBatch(V){return V.length>E},fn:V=>P.request({body:V}),sort:(V,te)=>V.id-te.id}),M=async V=>t?B(V):[await P.request({body:V})],[{error:$,result:q}]=await M(O);if(p)return{error:$,result:q};if($)throw new oD({body:O,error:$,url:I});return q},retryCount:A,retryDelay:d,timeout:N,type:"http"},{fetchOptions:r,url:I})}}function GL(n){return{formatters:void 0,fees:void 0,serializers:void 0,...n}}const VA={createBalance(n,e){const t={name:n.metadata.name||"",symbol:n.metadata.symbol||"",decimals:n.metadata.decimals||0,value:n.metadata.value||0,price:n.metadata.price||0,iconUrl:n.metadata.iconUrl||""};return{name:t.name,symbol:t.symbol,chainId:e,address:n.address==="native"?void 0:this.convertAddressToCAIP10Address(n.address,e),value:t.value,price:t.price,quantity:{decimals:t.decimals.toString(),numeric:this.convertHexToBalance({hex:n.balance,decimals:t.decimals})},iconUrl:t.iconUrl}},convertHexToBalance({hex:n,decimals:e}){return TL(BigInt(n),e)},convertAddressToCAIP10Address(n,e){return`${e}:${n}`},createCAIP2ChainId(n,e){return`${e}:${parseInt(n,16)}`},getChainIdHexFromCAIP2ChainId(n){const e=n.split(":");if(e.length<2||!e[1])return"0x0";const t=e[1],r=parseInt(t,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(n){return typeof n!="object"||n===null?!1:Object.values(n).every(e=>Array.isArray(e)&&e.every(t=>this.isValidAsset(t)))},isValidAsset(n){return typeof n=="object"&&n!==null&&typeof n.address=="string"&&typeof n.balance=="string"&&(n.type==="ERC20"||n.type==="NATIVE")&&typeof n.metadata=="object"&&n.metadata!==null&&typeof n.metadata.name=="string"&&typeof n.metadata.symbol=="string"&&typeof n.metadata.decimals=="number"&&typeof n.metadata.price=="number"&&typeof n.metadata.iconUrl=="string"}},oR={async getMyTokensWithBalance(n){const e=Ce.state.address,t=j.state.activeCaipNetwork;if(!e||!t)return[];if(t.chainNamespace==="eip155"){const s=await this.getEIP155Balances(e,t);if(s)return this.filterLowQualityTokens(s)}const r=await Ve.getBalance(e,t.caipNetworkId,n);return this.filterLowQualityTokens(r.balances)},async getEIP155Balances(n,e){var t,r;try{const s=VA.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),a=await ze.getCapabilities(n);if(!((r=(t=a==null?void 0:a[s])==null?void 0:t.assetDiscovery)!=null&&r.supported))return null;const c=await ze.walletGetAssets({account:n,chainFilter:[s]});return VA.isWalletGetAssetsResponse(c)?(c[s]||[]).map(h=>VA.createBalance(h,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(n){return n.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(n){return(n==null?void 0:n.map(e=>({...e,address:e!=null&&e.address?e.address:j.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},Bt=cn({tokenBalances:[],loading:!1}),VL={state:Bt,subscribe(n){return pr(Bt,()=>n(Bt))},subscribeKey(n,e){return Tr(Bt,n,e)},setToken(n){n&&(Bt.token=Nu(n))},setTokenAmount(n){Bt.sendTokenAmount=n},setReceiverAddress(n){Bt.receiverAddress=n},setReceiverProfileImageUrl(n){Bt.receiverProfileImageUrl=n},setReceiverProfileName(n){Bt.receiverProfileName=n},setNetworkBalanceInUsd(n){Bt.networkBalanceInUSD=n},setLoading(n){Bt.loading=n},async sendToken(){var n;try{switch(It.setLoading(!0),(n=j.state.activeCaipNetwork)==null?void 0:n.chainNamespace){case"eip155":await It.sendEvmToken();return;case"solana":await It.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{It.setLoading(!1)}},async sendEvmToken(){var t,r,s,a;const n=j.state.activeChain,e=(t=Ce.state.preferredAccountTypes)==null?void 0:t[n];if(!It.state.sendTokenAmount||!It.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!It.state.token)throw new Error("A token is required");(r=It.state.token)!=null&&r.address?(hn.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===dr.ACCOUNT_TYPES.SMART_ACCOUNT,token:It.state.token.address,amount:It.state.sendTokenAmount,network:((s=j.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),await It.sendERC20Token({receiverAddress:It.state.receiverAddress,tokenAddress:It.state.token.address,sendTokenAmount:It.state.sendTokenAmount,decimals:It.state.token.quantity.decimals})):(hn.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===dr.ACCOUNT_TYPES.SMART_ACCOUNT,token:It.state.token.symbol||"",amount:It.state.sendTokenAmount,network:((a=j.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),await It.sendNativeToken({receiverAddress:It.state.receiverAddress,sendTokenAmount:It.state.sendTokenAmount,decimals:It.state.token.quantity.decimals}))},async fetchTokenBalance(n){var a,c;Bt.loading=!0;const e=(a=j.state.activeCaipNetwork)==null?void 0:a.caipNetworkId,t=(c=j.state.activeCaipNetwork)==null?void 0:c.chainNamespace,r=j.state.activeCaipAddress,s=r?ke.getPlainAddress(r):void 0;if(Bt.lastRetry&&!ke.isAllowedRetry(Bt.lastRetry,30*Gt.ONE_SEC_MS))return Bt.loading=!1,[];try{if(s&&e&&t){const u=await oR.getMyTokensWithBalance();return Bt.tokenBalances=u,Bt.lastRetry=void 0,u}}catch(u){Bt.lastRetry=Date.now(),n==null||n(u),xi.showError("Token Balance Unavailable")}finally{Bt.loading=!1}return[]},fetchNetworkBalance(){if(Bt.tokenBalances.length===0)return;const n=oR.mapBalancesToSwapTokens(Bt.tokenBalances);if(!n)return;const e=n.find(t=>t.address===j.getActiveNetworkTokenAddress());e&&(Bt.networkBalanceInUSD=e?FM.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(n){var a,c,u,h;at.pushTransactionStack({});const e=n.receiverAddress,t=Ce.state.address,r=ze.parseUnits(n.sendTokenAmount.toString(),Number(n.decimals));await ze.sendTransaction({chainNamespace:"eip155",to:e,address:t,data:"0x",value:r??BigInt(0)}),hn.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((a=Ce.state.preferredAccountTypes)==null?void 0:a.eip155)===dr.ACCOUNT_TYPES.SMART_ACCOUNT,token:((c=It.state.token)==null?void 0:c.symbol)||"",amount:n.sendTokenAmount,network:((u=j.state.activeCaipNetwork)==null?void 0:u.caipNetworkId)||""}}),(h=ze._getClient())==null||h.updateBalance("eip155"),It.resetSend()},async sendERC20Token(n){at.pushTransactionStack({onSuccess(){at.replace("Account")}});const e=ze.parseUnits(n.sendTokenAmount.toString(),Number(n.decimals));if(Ce.state.address&&n.sendTokenAmount&&n.receiverAddress&&n.tokenAddress){const t=ke.getPlainAddress(n.tokenAddress);await ze.writeContract({fromAddress:Ce.state.address,tokenAddress:t,args:[n.receiverAddress,e??BigInt(0)],method:"transfer",abi:qM.getERC20Abi(t),chainNamespace:"eip155"}),It.resetSend()}},async sendSolanaToken(){var n;if(!It.state.sendTokenAmount||!It.state.receiverAddress)throw new Error("An amount and receiver address are required");at.pushTransactionStack({onSuccess(){at.replace("Account")}}),await ze.sendTransaction({chainNamespace:"solana",to:It.state.receiverAddress,value:It.state.sendTokenAmount}),(n=ze._getClient())==null||n.updateBalance("solana"),It.resetSend()},resetSend(){Bt.token=void 0,Bt.sendTokenAmount=void 0,Bt.receiverAddress=void 0,Bt.receiverProfileImageUrl=void 0,Bt.receiverProfileName=void 0,Bt.loading=!1,Bt.tokenBalances=[]}},It=Us(VL),KA={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},Zw={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},_e=cn({chains:IM(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),KL={state:_e,subscribe(n){return pr(_e,()=>{n(_e)})},subscribeKey(n,e){return Tr(_e,n,e)},subscribeChainProp(n,e,t){let r;return pr(_e.chains,()=>{var a;const s=t||_e.activeChain;if(s){const c=(a=_e.chains.get(s))==null?void 0:a[n];r!==c&&(r=c,e(c))}})},initialize(n,e,t){const{chainId:r,namespace:s}=Se.getActiveNetworkProps(),a=e==null?void 0:e.find(p=>p.id.toString()===(r==null?void 0:r.toString())),u=n.find(p=>(p==null?void 0:p.namespace)===s)||(n==null?void 0:n[0]),h=n.map(p=>p.namespace).filter(p=>p!==void 0),d=ge.state.enableEmbedded?new Set([...h]):new Set([...(e==null?void 0:e.map(p=>p.chainNamespace))??[]]);((n==null?void 0:n.length)===0||!u)&&(_e.noAdapters=!0),_e.noAdapters||(_e.activeChain=u==null?void 0:u.namespace,_e.activeCaipNetwork=a,j.setChainNetworkData(u==null?void 0:u.namespace,{caipNetwork:a}),_e.activeChain&&Ea.set({activeChain:u==null?void 0:u.namespace})),d.forEach(p=>{const m=e==null?void 0:e.filter(y=>y.chainNamespace===p);j.state.chains.set(p,{namespace:p,networkState:cn({...Zw,caipNetwork:m==null?void 0:m[0]}),accountState:cn(KA),caipNetworks:m??[],...t}),j.setRequestedCaipNetworks(m??[],p)})},removeAdapter(n){var e,t;if(_e.activeChain===n){const r=Array.from(_e.chains.entries()).find(([s])=>s!==n);if(r){const s=(t=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:t[0];s&&j.setActiveCaipNetwork(s)}}_e.chains.delete(n)},addAdapter(n,{networkControllerClient:e,connectionControllerClient:t},r){_e.chains.set(n.namespace,{namespace:n.namespace,networkState:{...Zw,caipNetwork:r[0]},accountState:KA,caipNetworks:r,connectionControllerClient:t,networkControllerClient:e}),j.setRequestedCaipNetworks((r==null?void 0:r.filter(s=>s.chainNamespace===n.namespace))??[],n.namespace)},addNetwork(n){var t;const e=_e.chains.get(n.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(t=e.caipNetworks)!=null&&t.find(s=>s.id===n.id)||r.push(n),_e.chains.set(n.chainNamespace,{...e,caipNetworks:r}),j.setRequestedCaipNetworks(r,n.chainNamespace),Ne.filterByNamespace(n.chainNamespace,!0)}},removeNetwork(n,e){var r,s,a;const t=_e.chains.get(n);if(t){const c=((r=_e.activeCaipNetwork)==null?void 0:r.id)===e,u=[...((s=t.caipNetworks)==null?void 0:s.filter(h=>h.id!==e))||[]];c&&((a=t==null?void 0:t.caipNetworks)!=null&&a[0])&&j.setActiveCaipNetwork(t.caipNetworks[0]),_e.chains.set(n,{...t,caipNetworks:u}),j.setRequestedCaipNetworks(u||[],n),u.length===0&&Ne.filterByNamespace(n,!1)}},setAdapterNetworkState(n,e){const t=_e.chains.get(n);t&&(t.networkState={...t.networkState||Zw,...e},_e.chains.set(n,t))},setChainAccountData(n,e,t=!0){if(!n)throw new Error("Chain is required to update chain account data");const r=_e.chains.get(n);if(r){const s={...r.accountState||KA,...e};_e.chains.set(n,{...r,accountState:s}),(_e.chains.size===1||_e.activeChain===n)&&(e.caipAddress&&(_e.activeCaipAddress=e.caipAddress),Ce.replaceState(s))}},setChainNetworkData(n,e){if(!n)return;const t=_e.chains.get(n);if(t){const r={...t.networkState||Zw,...e};_e.chains.set(n,{...t,networkState:r})}},setAccountProp(n,e,t,r=!0){j.setChainAccountData(t,{[n]:e},r),n==="status"&&e==="disconnected"&&t&&Ne.removeConnectorId(t)},setActiveNamespace(n){var r,s;_e.activeChain=n;const e=n?_e.chains.get(n):void 0,t=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;t!=null&&t.id&&n&&(_e.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,_e.activeCaipNetwork=t,j.setChainNetworkData(n,{caipNetwork:t}),Se.setActiveCaipNetworkId(t==null?void 0:t.caipNetworkId),Ea.set({activeChain:n,selectedNetworkId:t==null?void 0:t.caipNetworkId}))},setActiveCaipNetwork(n){var r,s,a;if(!n)return;_e.activeChain!==n.chainNamespace&&j.setIsSwitchingNamespace(!0);const e=_e.chains.get(n.chainNamespace);_e.activeChain=n.chainNamespace,_e.activeCaipNetwork=n,j.setChainNetworkData(n.chainNamespace,{caipNetwork:n}),(r=e==null?void 0:e.accountState)!=null&&r.address?_e.activeCaipAddress=`${n.chainNamespace}:${n.id}:${(s=e==null?void 0:e.accountState)==null?void 0:s.address}`:_e.activeCaipAddress=void 0,j.setAccountProp("caipAddress",_e.activeCaipAddress,n.chainNamespace),e&&Ce.replaceState(e.accountState),It.resetSend(),Ea.set({activeChain:_e.activeChain,selectedNetworkId:(a=_e.activeCaipNetwork)==null?void 0:a.caipNetworkId}),Se.setActiveCaipNetworkId(n.caipNetworkId),!j.checkIfSupportedNetwork(n.chainNamespace)&&ge.state.enableNetworkSwitch&&!ge.state.allowUnsupportedChain&&!ze.state.wcBasic&&j.showUnsupportedChainUI()},addCaipNetwork(n){var t;if(!n)return;const e=_e.chains.get(n.chainNamespace);e&&((t=e==null?void 0:e.caipNetworks)==null||t.push(n))},async switchActiveNamespace(n){var s;if(!n)return;const e=n!==j.state.activeChain,t=(s=j.getNetworkData(n))==null?void 0:s.caipNetwork,r=j.getCaipNetworkByNamespace(n,t==null?void 0:t.id);e&&r&&await j.switchActiveNetwork(r)},async switchActiveNetwork(n){var s;const e=j.state.chains.get(j.state.activeChain),t=!((s=e==null?void 0:e.caipNetworks)!=null&&s.some(a=>{var c;return a.id===((c=_e.activeCaipNetwork)==null?void 0:c.id)})),r=j.getNetworkControllerClient(n.chainNamespace);if(r){try{await r.switchCaipNetwork(n),t&&Qn.close()}catch{at.goBack()}hn.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:n.caipNetworkId}})}},getNetworkControllerClient(n){const e=n||_e.activeChain,t=_e.chains.get(e);if(!t)throw new Error("Chain adapter not found");if(!t.networkControllerClient)throw new Error("NetworkController client not set");return t.networkControllerClient},getConnectionControllerClient(n){const e=n||_e.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const t=_e.chains.get(e);if(!(t!=null&&t.connectionControllerClient))throw new Error("ConnectionController client not set");return t.connectionControllerClient},getAccountProp(n,e){var s;let t=_e.activeChain;if(e&&(t=e),!t)return;const r=(s=_e.chains.get(t))==null?void 0:s.accountState;if(r)return r[n]},getNetworkProp(n,e){var r;const t=(r=_e.chains.get(e))==null?void 0:r.networkState;if(t)return t[n]},getRequestedCaipNetworks(n){const e=_e.chains.get(n),{approvedCaipNetworkIds:t=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return ke.sortRequestedNetworks(t,r)},getAllRequestedCaipNetworks(){const n=[];return _e.chains.forEach(e=>{const t=j.getRequestedCaipNetworks(e.namespace);n.push(...t)}),n},setRequestedCaipNetworks(n,e){j.setAdapterNetworkState(e,{requestedCaipNetworks:n});const r=j.getAllRequestedCaipNetworks().map(a=>a.chainNamespace),s=Array.from(new Set(r));Ne.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const n=[];return _e.chains.forEach(e=>{const t=j.getApprovedCaipNetworkIds(e.namespace);n.push(...t)}),n},getActiveCaipNetwork(){return _e.activeCaipNetwork},getActiveCaipAddress(){return _e.activeCaipAddress},getApprovedCaipNetworkIds(n){var r;const e=_e.chains.get(n);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(n){const e=j.getNetworkControllerClient(),t=await(e==null?void 0:e.getApprovedCaipNetworksData());j.setAdapterNetworkState(n,{approvedCaipNetworkIds:t==null?void 0:t.approvedCaipNetworkIds,supportsAllNetworks:t==null?void 0:t.supportsAllNetworks})},checkIfSupportedNetwork(n,e){const t=e||_e.activeCaipNetwork,r=j.getRequestedCaipNetworks(n);return r.length?r==null?void 0:r.some(s=>s.id===(t==null?void 0:t.id)):!0},checkIfSupportedChainId(n){if(!_e.activeChain)return!0;const e=j.getRequestedCaipNetworks(_e.activeChain);return e==null?void 0:e.some(t=>t.id===n)},setSmartAccountEnabledNetworks(n,e){j.setAdapterNetworkState(e,{smartAccountEnabledNetworks:n})},checkIfSmartAccountEnabled(){var r;const n=YP.caipNetworkIdToNumber((r=_e.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=_e.activeChain;if(!e||!n)return!1;const t=j.getNetworkProp("smartAccountEnabledNetworks",e);return!!(t!=null&&t.includes(Number(n)))},getActiveNetworkTokenAddress(){var r,s;const n=((r=_e.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((s=_e.activeCaipNetwork)==null?void 0:s.id)||1,t=Gt.NATIVE_TOKEN_ADDRESS[n];return`${n}:${e}:${t}`},showUnsupportedChainUI(){Qn.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const n=_e.activeCaipNetwork;return!!(n!=null&&n.chainNamespace&&Gt.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(n.chainNamespace))},resetNetwork(n){j.setAdapterNetworkState(n,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(n){const e=n;if(!e)throw new Error("Chain is required to set account prop");_e.activeCaipAddress=void 0,j.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),Ne.removeConnectorId(e)},setIsSwitchingNamespace(n){_e.isSwitchingNamespace=n},getFirstCaipNetworkSupportsAuthConnector(){var t,r;const n=[];let e;if(_e.chains.forEach(s=>{we.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(a=>a===s.namespace)&&s.namespace&&n.push(s.namespace)}),n.length>0){const s=n[0];return e=s?(r=(t=_e.chains.get(s))==null?void 0:t.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(n){var e;return n?(e=j.state.chains.get(n))==null?void 0:e.accountState:Ce.state},getNetworkData(n){var t;const e=n||_e.activeChain;if(e)return(t=j.state.chains.get(e))==null?void 0:t.networkState},getCaipNetworkByNamespace(n,e){var s,a,c;if(!n)return;const t=j.state.chains.get(n),r=(s=t==null?void 0:t.caipNetworks)==null?void 0:s.find(u=>u.id===e);return r||((a=t==null?void 0:t.networkState)==null?void 0:a.caipNetwork)||((c=t==null?void 0:t.caipNetworks)==null?void 0:c[0])},getRequestedCaipNetworkIds(){const n=Ne.state.filterByNamespace;return(n?[_e.chains.get(n)]:Array.from(_e.chains.values())).flatMap(t=>(t==null?void 0:t.caipNetworks)||[]).map(t=>t.caipNetworkId)},getCaipNetworks(n){return n?j.getRequestedCaipNetworks(n):j.getAllRequestedCaipNetworks()}},j=Us(KL),WL={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},uD=ke.getBlockchainApiUrl(),Yr=cn({clientId:null,api:new ly({baseUrl:uD,clientId:null}),supportedChains:{http:[],ws:[]}}),Ve={state:Yr,async get(n){const{st:e,sv:t}=Ve.getSdkProperties(),r=ge.state.projectId,s={...n.params||{},st:e,sv:t,projectId:r};return Yr.api.get({...n,params:s})},getSdkProperties(){const{sdkType:n,sdkVersion:e}=ge.state;return{st:n||"unknown",sv:e||"unknown"}},async isNetworkSupported(n){if(!n)return!1;try{Yr.supportedChains.http.length||await Ve.getSupportedNetworks()}catch{return!1}return Yr.supportedChains.http.includes(n)},async getSupportedNetworks(){try{const n=await Ve.get({path:"v1/supported-chains"});return Yr.supportedChains=n,n}catch{return Yr.supportedChains}},async fetchIdentity({address:n,caipNetworkId:e}){if(!await Ve.isNetworkSupported(e))return{avatar:"",name:""};const r=Se.getIdentityFromCacheForAddress(n);if(r)return r;const s=await Ve.get({path:`/v1/identity/${n}`,params:{sender:j.state.activeCaipAddress?ke.getPlainAddress(j.state.activeCaipAddress):void 0}});return Se.updateIdentityCache({address:n,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:n,cursor:e,onramp:t,signal:r,cache:s,chainId:a}){var u;return await Ve.isNetworkSupported((u=j.state.activeCaipNetwork)==null?void 0:u.caipNetworkId)?Ve.get({path:`/v1/account/${n}/history`,params:{cursor:e,onramp:t,chainId:a},signal:r,cache:s}):{data:[],next:void 0}},async fetchSwapQuote({amount:n,userAddress:e,from:t,to:r,gasPrice:s}){var c;return await Ve.isNetworkSupported((c=j.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)?Ve.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:n,userAddress:e,from:t,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:n}){var t;return await Ve.isNetworkSupported((t=j.state.activeCaipNetwork)==null?void 0:t.caipNetworkId)?Ve.get({path:"/v1/convert/tokens",params:{chainId:n}}):{tokens:[]}},async fetchTokenPrice({addresses:n}){var t;return await Ve.isNetworkSupported((t=j.state.activeCaipNetwork)==null?void 0:t.caipNetworkId)?Yr.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:n,projectId:ge.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:n,userAddress:e}){var r;return await Ve.isNetworkSupported((r=j.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Ve.get({path:"/v1/convert/allowance",params:{tokenAddress:n,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:n}){var s;const{st:e,sv:t}=Ve.getSdkProperties();if(!await Ve.isNetworkSupported((s=j.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return Ve.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:n,st:e,sv:t}})},async generateSwapCalldata({amount:n,from:e,to:t,userAddress:r,disableEstimate:s}){var c;if(!await Ve.isNetworkSupported((c=j.state.activeCaipNetwork)==null?void 0:c.caipNetworkId))throw new Error("Network not supported for Swaps");return Yr.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:n,eip155:{slippage:Gt.CONVERT_SLIPPAGE_TOLERANCE},projectId:ge.state.projectId,from:e,to:t,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:n,to:e,userAddress:t}){var c;const{st:r,sv:s}=Ve.getSdkProperties();if(!await Ve.isNetworkSupported((c=j.state.activeCaipNetwork)==null?void 0:c.caipNetworkId))throw new Error("Network not supported for Swaps");return Ve.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:t,from:n,to:e,st:r,sv:s}})},async getBalance(n,e,t){var d;const{st:r,sv:s}=Ve.getSdkProperties();if(!await Ve.isNetworkSupported((d=j.state.activeCaipNetwork)==null?void 0:d.caipNetworkId))return xi.showError("Token Balance Unavailable"),{balances:[]};const c=`${e}:${n}`,u=Se.getBalanceCacheForCaipAddress(c);if(u)return u;const h=await Ve.get({path:`/v1/account/${n}/balance`,params:{currency:"usd",chainId:e,forceUpdate:t,st:r,sv:s}});return Se.updateBalanceCache({caipAddress:c,balance:h,timestamp:Date.now()}),h},async lookupEnsName(n){var t;return await Ve.isNetworkSupported((t=j.state.activeCaipNetwork)==null?void 0:t.caipNetworkId)?Ve.get({path:`/v1/profile/account/${n}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:n}){var t;return await Ve.isNetworkSupported((t=j.state.activeCaipNetwork)==null?void 0:t.caipNetworkId)?Ve.get({path:`/v1/profile/reverse/${n}`,params:{sender:Ce.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(n){var t;return await Ve.isNetworkSupported((t=j.state.activeCaipNetwork)==null?void 0:t.caipNetworkId)?Ve.get({path:`/v1/profile/suggestions/${n}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:n,address:e,message:t,signature:r}){var a;return await Ve.isNetworkSupported((a=j.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?Yr.api.post({path:"/v1/profile/account",body:{coin_type:n,address:e,message:t,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:n,partnerUserId:e,defaultNetwork:t,purchaseAmount:r,paymentAmount:s}){var u;return await Ve.isNetworkSupported((u=j.state.activeCaipNetwork)==null?void 0:u.caipNetworkId)?(await Yr.api.post({path:"/v1/generators/onrampurl",params:{projectId:ge.state.projectId},body:{destinationWallets:n,defaultNetwork:t,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await Ve.isNetworkSupported((e=j.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Ve.get({path:"/v1/onramp/options"})}catch{return WL}},async getOnrampQuote({purchaseCurrency:n,paymentCurrency:e,amount:t,network:r}){var s;try{return await Ve.isNetworkSupported((s=j.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await Yr.api.post({path:"/v1/onramp/quote",params:{projectId:ge.state.projectId},body:{purchaseCurrency:n,paymentCurrency:e,amount:t,network:r}}):null}catch{return{coinbaseFee:{amount:t,currency:e.id},networkFee:{amount:t,currency:e.id},paymentSubtotal:{amount:t,currency:e.id},paymentTotal:{amount:t,currency:e.id},purchaseAmount:{amount:t,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(n){var t;return await Ve.isNetworkSupported((t=j.state.activeCaipNetwork)==null?void 0:t.caipNetworkId)?Ve.get({path:`/v1/sessions/${n}`}):[]},async revokeSmartSession(n,e,t){var s;return await Ve.isNetworkSupported((s=j.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?Yr.api.post({path:`/v1/sessions/${n}/revoke`,params:{projectId:ge.state.projectId},body:{pci:e,signature:t}}):{success:!1}},setClientId(n){Yr.clientId=n,Yr.api=new ly({baseUrl:uD,clientId:n})}},Vs=cn({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),YL={state:Vs,replaceState(n){n&&Object.assign(Vs,Nu(n))},subscribe(n){return j.subscribeChainProp("accountState",e=>{if(e)return n(e)})},subscribeKey(n,e,t){let r;return j.subscribeChainProp("accountState",s=>{if(s){const a=s[n];r!==a&&(r=a,e(a))}},t)},setStatus(n,e){j.setAccountProp("status",n,e)},getCaipAddress(n){return j.getAccountProp("caipAddress",n)},setCaipAddress(n,e){const t=n?ke.getPlainAddress(n):void 0;e===j.state.activeChain&&(j.state.activeCaipAddress=n),j.setAccountProp("caipAddress",n,e),j.setAccountProp("address",t,e)},setBalance(n,e,t){j.setAccountProp("balance",n,t),j.setAccountProp("balanceSymbol",e,t)},setProfileName(n,e){j.setAccountProp("profileName",n,e)},setProfileImage(n,e){j.setAccountProp("profileImage",n,e)},setUser(n,e){j.setAccountProp("user",n,e)},setAddressExplorerUrl(n,e){j.setAccountProp("addressExplorerUrl",n,e)},setSmartAccountDeployed(n,e){j.setAccountProp("smartAccountDeployed",n,e)},setCurrentTab(n){j.setAccountProp("currentTab",n,j.state.activeChain)},setTokenBalance(n,e){n&&j.setAccountProp("tokenBalance",n,e)},setShouldUpdateToAddress(n,e){j.setAccountProp("shouldUpdateToAddress",n,e)},setAllAccounts(n,e){j.setAccountProp("allAccounts",n,e)},addAddressLabel(n,e,t){const r=j.getAccountProp("addressLabels",t)||new Map;r.set(n,e),j.setAccountProp("addressLabels",r,t)},removeAddressLabel(n,e){const t=j.getAccountProp("addressLabels",e)||new Map;t.delete(n),j.setAccountProp("addressLabels",t,e)},setConnectedWalletInfo(n,e){j.setAccountProp("connectedWalletInfo",n,e,!1)},setPreferredAccountType(n,e){j.setAccountProp("preferredAccountTypes",{...Vs.preferredAccountTypes,[e]:n},e)},setPreferredAccountTypes(n){Vs.preferredAccountTypes=n},setSocialProvider(n,e){n&&j.setAccountProp("socialProvider",n,e)},setSocialWindow(n,e){j.setAccountProp("socialWindow",n?Nu(n):void 0,e)},setFarcasterUrl(n,e){j.setAccountProp("farcasterUrl",n,e)},async fetchTokenBalance(n){var a,c;Vs.balanceLoading=!0;const e=(a=j.state.activeCaipNetwork)==null?void 0:a.caipNetworkId,t=(c=j.state.activeCaipNetwork)==null?void 0:c.chainNamespace,r=j.state.activeCaipAddress,s=r?ke.getPlainAddress(r):void 0;if(Vs.lastRetry&&!ke.isAllowedRetry(Vs.lastRetry,30*Gt.ONE_SEC_MS))return Vs.balanceLoading=!1,[];try{if(s&&e&&t){const h=(await Ve.getBalance(s,e)).balances.filter(d=>d.quantity.decimals!=="0");return Ce.setTokenBalance(h,t),Vs.lastRetry=void 0,Vs.balanceLoading=!1,h}}catch(u){Vs.lastRetry=Date.now(),n==null||n(u),xi.showError("Token Balance Unavailable")}finally{Vs.balanceLoading=!1}return[]},resetAccount(n){j.resetAccount(n)}},Ce=Us(YL),QL={onSwitchNetwork({network:n,ignoreSwitchConfirmation:e=!1}){const t=j.state.activeCaipNetwork,r=at.state.data;if(n.id===(t==null?void 0:t.id))return;const a=Ce.getCaipAddress(j.state.activeChain),c=n.chainNamespace!==j.state.activeChain,u=Ce.getCaipAddress(n.chainNamespace),d=Ne.getConnectorId(j.state.activeChain)===we.CONNECTOR_ID.AUTH,p=we.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(m=>m===n.chainNamespace);e||d&&p?at.push("SwitchNetwork",{...r,network:n}):a&&c&&!u?at.push("SwitchActiveChain",{switchToChain:n.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:n}):at.push("SwitchNetwork",{...r,network:n})}},Qr=cn({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),ZL={state:Qr,subscribe(n){return pr(Qr,()=>n(Qr))},subscribeKey(n,e){return Tr(Qr,n,e)},async open(n){var c,u;const e=Ce.state.status==="connected",t=n==null?void 0:n.namespace,r=j.state.activeChain,s=t&&t!==r,a=(c=j.getAccountData(n==null?void 0:n.namespace))==null?void 0:c.caipAddress;if(ze.state.wcBasic?$e.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await $e.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),Ne.setFilterByNamespace(n==null?void 0:n.namespace),Qn.setLoading(!0,t),t&&s){const h=((u=j.getNetworkData(t))==null?void 0:u.caipNetwork)||j.getRequestedCaipNetworks(t)[0];h&&QL.onSwitchNetwork({network:h,ignoreSwitchConfirmation:!0})}else{const h=j.state.noAdapters;ge.state.manualWCControl||h&&!a?ke.isMobile()?at.reset("AllWallets"):at.reset("ConnectingWalletConnectBasic"):n!=null&&n.view?at.reset(n.view,n.data):a?at.reset("Account"):at.reset("Connect")}Qr.open=!0,Ea.set({open:!0}),hn.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!a}})},close(){const n=ge.state.enableEmbedded,e=!!j.state.activeCaipAddress;Qr.open&&hn.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Qr.open=!1,at.reset("Connect"),Qn.clearLoading(),n?e?at.replace("Account"):at.push("Connect"):Ea.set({open:!1}),ze.resetUri()},setLoading(n,e){e&&Qr.loadingNamespaceMap.set(e,n),Qr.loading=n,Ea.set({loading:n})},clearLoading(){Qr.loadingNamespaceMap.clear(),Qr.loading=!1},shake(){Qr.shake||(Qr.shake=!0,setTimeout(()=>{Qr.shake=!1},500))}},Qn=Us(ZL),kg={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},f_={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},JL={providers:JP,selectedProvider:null,error:null,purchaseCurrency:kg,paymentCurrency:f_,purchaseCurrencies:[kg],paymentCurrencies:[],quotesLoading:!1},vt=cn(JL),XL={state:vt,subscribe(n){return pr(vt,()=>n(vt))},subscribeKey(n,e){return Tr(vt,n,e)},setSelectedProvider(n){if(n&&n.name==="meld"){const e=j.state.activeChain===we.CHAIN.SOLANA?"SOL":"USDC",t=Ce.state.address??"",r=new URL(n.url);r.searchParams.append("publicKey",GM),r.searchParams.append("destinationCurrencyCode",e),r.searchParams.append("walletAddress",t),r.searchParams.append("externalCustomerId",ge.state.projectId),vt.selectedProvider={...n,url:r.toString()}}else vt.selectedProvider=n},setOnrampProviders(n){if(Array.isArray(n)&&n.every(e=>typeof e=="string")){const e=n,t=JP.filter(r=>e.includes(r.name));vt.providers=t}else vt.providers=[]},setPurchaseCurrency(n){vt.purchaseCurrency=n},setPaymentCurrency(n){vt.paymentCurrency=n},setPurchaseAmount(n){p_.state.purchaseAmount=n},setPaymentAmount(n){p_.state.paymentAmount=n},async getAvailableCurrencies(){const n=await Ve.getOnrampOptions();vt.purchaseCurrencies=n.purchaseCurrencies,vt.paymentCurrencies=n.paymentCurrencies,vt.paymentCurrency=n.paymentCurrencies[0]||f_,vt.purchaseCurrency=n.purchaseCurrencies[0]||kg,await $e.fetchCurrencyImages(n.paymentCurrencies.map(e=>e.id)),await $e.fetchTokenImages(n.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){var n,e;vt.quotesLoading=!0;try{const t=await Ve.getOnrampQuote({purchaseCurrency:vt.purchaseCurrency,paymentCurrency:vt.paymentCurrency,amount:((n=vt.paymentAmount)==null?void 0:n.toString())||"0",network:(e=vt.purchaseCurrency)==null?void 0:e.symbol});return vt.quotesLoading=!1,vt.purchaseAmount=Number(t==null?void 0:t.purchaseAmount.amount),t}catch(t){return vt.error=t.message,vt.quotesLoading=!1,null}finally{vt.quotesLoading=!1}},resetState(){vt.selectedProvider=null,vt.error=null,vt.purchaseCurrency=kg,vt.paymentCurrency=f_,vt.purchaseCurrencies=[kg],vt.paymentCurrencies=[],vt.paymentAmount=void 0,vt.purchaseAmount=void 0,vt.quotesLoading=!1}},p_=Us(XL),cR=2147483648,e6={convertEVMChainIdToCoinType(n){if(n>=cR)throw new Error("Invalid chainId");return(cR|n)>>>0}},Ks=cn({suggestions:[],loading:!1}),t6={state:Ks,subscribe(n){return pr(Ks,()=>n(Ks))},subscribeKey(n,e){return Tr(Ks,n,e)},async resolveName(n){var e,t;try{return await Ve.lookupEnsName(n)}catch(r){const s=r;throw new Error(((t=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:t.description)||"Error resolving name")}},async isNameRegistered(n){try{return await Ve.lookupEnsName(n),!0}catch{return!1}},async getSuggestions(n){try{Ks.loading=!0,Ks.suggestions=[];const e=await Ve.getEnsNameSuggestions(n);return Ks.suggestions=e.suggestions.map(t=>({...t,name:t.name}))||[],Ks.suggestions}catch(e){const t=Bg.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(t)}finally{Ks.loading=!1}},async getNamesForAddress(n){try{if(!j.state.activeCaipNetwork)return[];const t=Se.getEnsFromCacheForAddress(n);if(t)return t;const r=await Ve.reverseLookupEnsName({address:n});return Se.updateEnsCache({address:n,ens:r,timestamp:Date.now()}),r}catch(e){const t=Bg.parseEnsApiError(e,"Error fetching names for address");throw new Error(t)}},async registerName(n){const e=j.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const t=Ce.state.address,r=Ne.getAuthConnector();if(!t||!r)throw new Error("Address or auth connector not found");Ks.loading=!0;try{const s=JSON.stringify({name:n,attributes:{},timestamp:Math.floor(Date.now()/1e3)});at.pushTransactionStack({onCancel(){at.replace("RegisterAccountName")}});const a=await ze.signMessage(s);Ks.loading=!1;const c=e.id;if(!c)throw new Error("Network not found");const u=e6.convertEVMChainIdToCoinType(Number(c));await Ve.registerEnsName({coinType:u,address:t,signature:a,message:s}),Ce.setProfileName(n,e.chainNamespace),at.replace("RegisterAccountNameSuccess")}catch(s){const a=Bg.parseEnsApiError(s,`Error registering name ${n}`);throw at.replace("RegisterAccountName"),new Error(a)}finally{Ks.loading=!1}},validateName(n){return/^[a-zA-Z0-9-]{4,}$/u.test(n)},parseEnsApiError(n,e){var r,s;const t=n;return((s=(r=t==null?void 0:t.reasons)==null?void 0:r[0])==null?void 0:s.description)||e}},Bg=Us(t6);var Jw={exports:{}},lR;function n6(){if(lR)return Jw.exports;lR=1;var n=typeof Reflect=="object"?Reflect:null,e=n&&typeof n.apply=="function"?n.apply:function(U,O,B){return Function.prototype.apply.call(U,O,B)},t;n&&typeof n.ownKeys=="function"?t=n.ownKeys:Object.getOwnPropertySymbols?t=function(U){return Object.getOwnPropertyNames(U).concat(Object.getOwnPropertySymbols(U))}:t=function(U){return Object.getOwnPropertyNames(U)};function r(k){console&&console.warn&&console.warn(k)}var s=Number.isNaN||function(U){return U!==U};function a(){a.init.call(this)}Jw.exports=a,Jw.exports.once=N,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(k){if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(k){if(typeof k!="number"||k<0||s(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");c=k}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(U){if(typeof U!="number"||U<0||s(U))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+U+".");return this._maxListeners=U,this};function h(k){return k._maxListeners===void 0?a.defaultMaxListeners:k._maxListeners}a.prototype.getMaxListeners=function(){return h(this)},a.prototype.emit=function(U){for(var O=[],B=1;B<arguments.length;B++)O.push(arguments[B]);var M=U==="error",$=this._events;if($!==void 0)M=M&&$.error===void 0;else if(!M)return!1;if(M){var q;if(O.length>0&&(q=O[0]),q instanceof Error)throw q;var V=new Error("Unhandled error."+(q?" ("+q.message+")":""));throw V.context=q,V}var te=$[U];if(te===void 0)return!1;if(typeof te=="function")e(te,this,O);else for(var de=te.length,Z=E(te,de),B=0;B<de;++B)e(Z[B],this,O);return!0};function d(k,U,O,B){var M,$,q;if(u(O),$=k._events,$===void 0?($=k._events=Object.create(null),k._eventsCount=0):($.newListener!==void 0&&(k.emit("newListener",U,O.listener?O.listener:O),$=k._events),q=$[U]),q===void 0)q=$[U]=O,++k._eventsCount;else if(typeof q=="function"?q=$[U]=B?[O,q]:[q,O]:B?q.unshift(O):q.push(O),M=h(k),M>0&&q.length>M&&!q.warned){q.warned=!0;var V=new Error("Possible EventEmitter memory leak detected. "+q.length+" "+String(U)+" listeners added. Use emitter.setMaxListeners() to increase limit");V.name="MaxListenersExceededWarning",V.emitter=k,V.type=U,V.count=q.length,r(V)}return k}a.prototype.addListener=function(U,O){return d(this,U,O,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(U,O){return d(this,U,O,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(k,U,O){var B={fired:!1,wrapFn:void 0,target:k,type:U,listener:O},M=p.bind(B);return M.listener=O,B.wrapFn=M,M}a.prototype.once=function(U,O){return u(O),this.on(U,m(this,U,O)),this},a.prototype.prependOnceListener=function(U,O){return u(O),this.prependListener(U,m(this,U,O)),this},a.prototype.removeListener=function(U,O){var B,M,$,q,V;if(u(O),M=this._events,M===void 0)return this;if(B=M[U],B===void 0)return this;if(B===O||B.listener===O)--this._eventsCount===0?this._events=Object.create(null):(delete M[U],M.removeListener&&this.emit("removeListener",U,B.listener||O));else if(typeof B!="function"){for($=-1,q=B.length-1;q>=0;q--)if(B[q]===O||B[q].listener===O){V=B[q].listener,$=q;break}if($<0)return this;$===0?B.shift():v(B,$),B.length===1&&(M[U]=B[0]),M.removeListener!==void 0&&this.emit("removeListener",U,V||O)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(U){var O,B,M;if(B=this._events,B===void 0)return this;if(B.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):B[U]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete B[U]),this;if(arguments.length===0){var $=Object.keys(B),q;for(M=0;M<$.length;++M)q=$[M],q!=="removeListener"&&this.removeAllListeners(q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(O=B[U],typeof O=="function")this.removeListener(U,O);else if(O!==void 0)for(M=O.length-1;M>=0;M--)this.removeListener(U,O[M]);return this};function y(k,U,O){var B=k._events;if(B===void 0)return[];var M=B[U];return M===void 0?[]:typeof M=="function"?O?[M.listener||M]:[M]:O?A(M):E(M,M.length)}a.prototype.listeners=function(U){return y(this,U,!0)},a.prototype.rawListeners=function(U){return y(this,U,!1)},a.listenerCount=function(k,U){return typeof k.listenerCount=="function"?k.listenerCount(U):b.call(k,U)},a.prototype.listenerCount=b;function b(k){var U=this._events;if(U!==void 0){var O=U[k];if(typeof O=="function")return 1;if(O!==void 0)return O.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function E(k,U){for(var O=new Array(U),B=0;B<U;++B)O[B]=k[B];return O}function v(k,U){for(;U+1<k.length;U++)k[U]=k[U+1];k.pop()}function A(k){for(var U=new Array(k.length),O=0;O<U.length;++O)U[O]=k[O].listener||k[O];return U}function N(k,U){return new Promise(function(O,B){function M(q){k.removeListener(U,$),B(q)}function $(){typeof k.removeListener=="function"&&k.removeListener("error",M),O([].slice.call(arguments))}P(k,U,$,{once:!0}),U!=="error"&&I(k,M,{once:!0})})}function I(k,U,O){typeof k.on=="function"&&P(k,"error",U,O)}function P(k,U,O,B){if(typeof k.on=="function")B.once?k.once(U,O):k.on(U,O);else if(typeof k.addEventListener=="function")k.addEventListener(U,function M($){B.once&&k.removeEventListener(U,M),O($)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof k)}return Jw.exports}var ci=n6();const ZC=oy(ci);var WA={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var g_=function(n,e){return g_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)r.hasOwnProperty(s)&&(t[s]=r[s])},g_(n,e)};function r6(n,e){g_(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var m_=function(){return m_=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},m_.apply(this,arguments)};function s6(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function i6(n,e,t,r){var s=arguments.length,a=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,r);else for(var u=n.length-1;u>=0;u--)(c=n[u])&&(a=(s<3?c(a):s>3?c(e,t,a):c(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}function a6(n,e){return function(t,r){e(t,r,n)}}function o6(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function c6(n,e,t,r){function s(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(p){try{d(r.next(p))}catch(m){c(m)}}function h(p){try{d(r.throw(p))}catch(m){c(m)}}function d(p){p.done?a(p.value):s(p.value).then(u,h)}d((r=r.apply(n,e||[])).next())})}function l6(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(d){return function(p){return h([d,p])}}function h(d){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,s&&(a=d[0]&2?s.return:d[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,d[1])).done)return a;switch(s=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,s=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){t.label=d[1];break}if(d[0]===6&&t.label<a[1]){t.label=a[1],a=d;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(d);break}a[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(p){d=[6,p],s=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function u6(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}function h6(n,e){for(var t in n)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function y_(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hD(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),s,a=[],c;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(u){c={error:u}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(c)throw c.error}}return a}function d6(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(hD(arguments[e]));return n}function f6(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),s=0,e=0;e<t;e++)for(var a=arguments[e],c=0,u=a.length;c<u;c++,s++)r[s]=a[c];return r}function gm(n){return this instanceof gm?(this.v=n,this):new gm(n)}function p6(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),s,a=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(y){r[y]&&(s[y]=function(b){return new Promise(function(E,v){a.push([y,b,E,v])>1||u(y,b)})})}function u(y,b){try{h(r[y](b))}catch(E){m(a[0][3],E)}}function h(y){y.value instanceof gm?Promise.resolve(y.value.v).then(d,p):m(a[0][2],y)}function d(y){u("next",y)}function p(y){u("throw",y)}function m(y,b){y(b),a.shift(),a.length&&u(a[0][0],a[0][1])}}function g6(n){var e,t;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,a){e[s]=n[s]?function(c){return(t=!t)?{value:gm(n[s](c)),done:s==="return"}:a?a(c):c}:a}}function m6(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof y_=="function"?y_(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=n[a]&&function(c){return new Promise(function(u,h){c=n[a](c),s(u,h,c.done,c.value)})}}function s(a,c,u,h){Promise.resolve(h).then(function(d){a({value:d,done:u})},c)}}function y6(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function w6(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function b6(n){return n&&n.__esModule?n:{default:n}}function v6(n,e){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return e.get(n)}function E6(n,e,t){if(!e.has(n))throw new TypeError("attempted to set private field on non-instance");return e.set(n,t),t}const A6=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return m_},__asyncDelegator:g6,__asyncGenerator:p6,__asyncValues:m6,__await:gm,__awaiter:c6,__classPrivateFieldGet:v6,__classPrivateFieldSet:E6,__createBinding:u6,__decorate:i6,__exportStar:h6,__extends:r6,__generator:l6,__importDefault:b6,__importStar:w6,__makeTemplateObject:y6,__metadata:o6,__param:a6,__read:hD,__rest:s6,__spread:d6,__spreadArrays:f6,__values:y_},Symbol.toStringTag,{value:"Module"})),Fb=GP(A6);var YA={},ag={},uR;function _6(){if(uR)return ag;uR=1,Object.defineProperty(ag,"__esModule",{value:!0}),ag.delay=void 0;function n(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}return ag.delay=n,ag}var El={},QA={},Al={},hR;function C6(){return hR||(hR=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.ONE_THOUSAND=Al.ONE_HUNDRED=void 0,Al.ONE_HUNDRED=100,Al.ONE_THOUSAND=1e3),Al}var ZA={},dR;function S6(){return dR||(dR=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ONE_YEAR=n.FOUR_WEEKS=n.THREE_WEEKS=n.TWO_WEEKS=n.ONE_WEEK=n.THIRTY_DAYS=n.SEVEN_DAYS=n.FIVE_DAYS=n.THREE_DAYS=n.ONE_DAY=n.TWENTY_FOUR_HOURS=n.TWELVE_HOURS=n.SIX_HOURS=n.THREE_HOURS=n.ONE_HOUR=n.SIXTY_MINUTES=n.THIRTY_MINUTES=n.TEN_MINUTES=n.FIVE_MINUTES=n.ONE_MINUTE=n.SIXTY_SECONDS=n.THIRTY_SECONDS=n.TEN_SECONDS=n.FIVE_SECONDS=n.ONE_SECOND=void 0,n.ONE_SECOND=1,n.FIVE_SECONDS=5,n.TEN_SECONDS=10,n.THIRTY_SECONDS=30,n.SIXTY_SECONDS=60,n.ONE_MINUTE=n.SIXTY_SECONDS,n.FIVE_MINUTES=n.ONE_MINUTE*5,n.TEN_MINUTES=n.ONE_MINUTE*10,n.THIRTY_MINUTES=n.ONE_MINUTE*30,n.SIXTY_MINUTES=n.ONE_MINUTE*60,n.ONE_HOUR=n.SIXTY_MINUTES,n.THREE_HOURS=n.ONE_HOUR*3,n.SIX_HOURS=n.ONE_HOUR*6,n.TWELVE_HOURS=n.ONE_HOUR*12,n.TWENTY_FOUR_HOURS=n.ONE_HOUR*24,n.ONE_DAY=n.TWENTY_FOUR_HOURS,n.THREE_DAYS=n.ONE_DAY*3,n.FIVE_DAYS=n.ONE_DAY*5,n.SEVEN_DAYS=n.ONE_DAY*7,n.THIRTY_DAYS=n.ONE_DAY*30,n.ONE_WEEK=n.SEVEN_DAYS,n.TWO_WEEKS=n.ONE_WEEK*2,n.THREE_WEEKS=n.ONE_WEEK*3,n.FOUR_WEEKS=n.ONE_WEEK*4,n.ONE_YEAR=n.ONE_DAY*365}(ZA)),ZA}var fR;function dD(){return fR||(fR=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});const e=Fb;e.__exportStar(C6(),n),e.__exportStar(S6(),n)}(QA)),QA}var pR;function N6(){if(pR)return El;pR=1,Object.defineProperty(El,"__esModule",{value:!0}),El.fromMiliseconds=El.toMiliseconds=void 0;const n=dD();function e(r){return r*n.ONE_THOUSAND}El.toMiliseconds=e;function t(r){return Math.floor(r/n.ONE_THOUSAND)}return El.fromMiliseconds=t,El}var gR;function T6(){return gR||(gR=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});const e=Fb;e.__exportStar(_6(),n),e.__exportStar(N6(),n)}(YA)),YA}var Lh={},mR;function O6(){if(mR)return Lh;mR=1,Object.defineProperty(Lh,"__esModule",{value:!0}),Lh.Watch=void 0;class n{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){const r=this.get(t);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${t}`);const s=Date.now()-r.started;this.timestamps.set(t,{started:r.started,elapsed:s})}get(t){const r=this.timestamps.get(t);if(typeof r>"u")throw new Error(`No timestamp found for label: ${t}`);return r}elapsed(t){const r=this.get(t);return r.elapsed||Date.now()-r.started}}return Lh.Watch=n,Lh.default=n,Lh}var JA={},og={},yR;function R6(){if(yR)return og;yR=1,Object.defineProperty(og,"__esModule",{value:!0}),og.IWatch=void 0;class n{}return og.IWatch=n,og}var wR;function I6(){return wR||(wR=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Fb.__exportStar(R6(),n)}(JA)),JA}var bR;function x6(){return bR||(bR=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});const e=Fb;e.__exportStar(T6(),n),e.__exportStar(O6(),n),e.__exportStar(I6(),n),e.__exportStar(dD(),n)}(WA)),WA}var ve=x6();class qu{}let P6=class extends qu{constructor(e){super()}};const vR=ve.FIVE_SECONDS,Gu={pulse:"heartbeat_pulse"};let D6=class fD extends P6{constructor(e){super(e),this.events=new ci.EventEmitter,this.interval=vR,this.interval=(e==null?void 0:e.interval)||vR}static async init(e){const t=new fD(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ve.toMiliseconds(this.interval))}pulse(){this.events.emit(Gu.pulse)}};const U6=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,k6=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,B6=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function M6(n,e){if(n==="__proto__"||n==="constructor"&&e&&typeof e=="object"&&"prototype"in e){L6(n);return}return e}function L6(n){console.warn(`[destr] Dropping "${n}" key to prevent prototype pollution.`)}function Xw(n,e={}){if(typeof n!="string")return n;if(n[0]==='"'&&n[n.length-1]==='"'&&n.indexOf("\\")===-1)return n.slice(1,-1);const t=n.trim();if(t.length<=9)switch(t.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!B6.test(n)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return n}try{if(U6.test(n)||k6.test(n)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(n,M6)}return JSON.parse(n)}catch(r){if(e.strict)throw r;return n}}function $6(n){return!n||typeof n.then!="function"?Promise.resolve(n):n}function qn(n,...e){try{return $6(n(...e))}catch(t){return Promise.reject(t)}}function F6(n){const e=typeof n;return n===null||e!=="object"&&e!=="function"}function j6(n){const e=Object.getPrototypeOf(n);return!e||e.isPrototypeOf(Object)}function T0(n){if(F6(n))return String(n);if(j6(n)||Array.isArray(n))return JSON.stringify(n);if(typeof n.toJSON=="function")return T0(n.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const w_="base64:";function H6(n){return typeof n=="string"?n:w_+G6(n)}function z6(n){return typeof n!="string"||!n.startsWith(w_)?n:q6(n.slice(w_.length))}function q6(n){return globalThis.Buffer?Buffer.from(n,"base64"):Uint8Array.from(globalThis.atob(n),e=>e.codePointAt(0))}function G6(n){return globalThis.Buffer?Buffer.from(n).toString("base64"):globalThis.btoa(String.fromCodePoint(...n))}function es(n){var e;return n&&((e=n.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function V6(...n){return es(n.join(":"))}function e0(n){return n=es(n),n?n+":":""}function K6(n,e){if(e===void 0)return!0;let t=0,r=n.indexOf(":");for(;r>-1;)t++,r=n.indexOf(":",r+1);return t<=e}function W6(n,e){return e?n.startsWith(e)&&n[n.length-1]!=="$":n[n.length-1]!=="$"}const Y6="memory",Q6=()=>{const n=new Map;return{name:Y6,getInstance:()=>n,hasItem(e){return n.has(e)},getItem(e){return n.get(e)??null},getItemRaw(e){return n.get(e)??null},setItem(e,t){n.set(e,t)},setItemRaw(e,t){n.set(e,t)},removeItem(e){n.delete(e)},getKeys(){return[...n.keys()]},clear(){n.clear()},dispose(){n.clear()}}};function Z6(n={}){const e={mounts:{"":n.driver||Q6()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=d=>{for(const p of e.mountpoints)if(d.startsWith(p))return{base:p,relativeKey:d.slice(p.length),driver:e.mounts[p]};return{base:"",relativeKey:d,driver:e.mounts[""]}},r=(d,p)=>e.mountpoints.filter(m=>m.startsWith(d)||p&&d.startsWith(m)).map(m=>({relativeBase:d.length>m.length?d.slice(m.length):void 0,mountpoint:m,driver:e.mounts[m]})),s=(d,p)=>{if(e.watching){p=es(p);for(const m of e.watchListeners)m(d,p)}},a=async()=>{if(!e.watching){e.watching=!0;for(const d in e.mounts)e.unwatch[d]=await ER(e.mounts[d],s,d)}},c=async()=>{if(e.watching){for(const d in e.unwatch)await e.unwatch[d]();e.unwatch={},e.watching=!1}},u=(d,p,m)=>{const y=new Map,b=E=>{let v=y.get(E.base);return v||(v={driver:E.driver,base:E.base,items:[]},y.set(E.base,v)),v};for(const E of d){const v=typeof E=="string",A=es(v?E:E.key),N=v?void 0:E.value,I=v||!E.options?p:{...p,...E.options},P=t(A);b(P).items.push({key:A,value:N,relativeKey:P.relativeKey,options:I})}return Promise.all([...y.values()].map(E=>m(E))).then(E=>E.flat())},h={hasItem(d,p={}){d=es(d);const{relativeKey:m,driver:y}=t(d);return qn(y.hasItem,m,p)},getItem(d,p={}){d=es(d);const{relativeKey:m,driver:y}=t(d);return qn(y.getItem,m,p).then(b=>Xw(b))},getItems(d,p={}){return u(d,p,m=>m.driver.getItems?qn(m.driver.getItems,m.items.map(y=>({key:y.relativeKey,options:y.options})),p).then(y=>y.map(b=>({key:V6(m.base,b.key),value:Xw(b.value)}))):Promise.all(m.items.map(y=>qn(m.driver.getItem,y.relativeKey,y.options).then(b=>({key:y.key,value:Xw(b)})))))},getItemRaw(d,p={}){d=es(d);const{relativeKey:m,driver:y}=t(d);return y.getItemRaw?qn(y.getItemRaw,m,p):qn(y.getItem,m,p).then(b=>z6(b))},async setItem(d,p,m={}){if(p===void 0)return h.removeItem(d);d=es(d);const{relativeKey:y,driver:b}=t(d);b.setItem&&(await qn(b.setItem,y,T0(p),m),b.watch||s("update",d))},async setItems(d,p){await u(d,p,async m=>{if(m.driver.setItems)return qn(m.driver.setItems,m.items.map(y=>({key:y.relativeKey,value:T0(y.value),options:y.options})),p);m.driver.setItem&&await Promise.all(m.items.map(y=>qn(m.driver.setItem,y.relativeKey,T0(y.value),y.options)))})},async setItemRaw(d,p,m={}){if(p===void 0)return h.removeItem(d,m);d=es(d);const{relativeKey:y,driver:b}=t(d);if(b.setItemRaw)await qn(b.setItemRaw,y,p,m);else if(b.setItem)await qn(b.setItem,y,H6(p),m);else return;b.watch||s("update",d)},async removeItem(d,p={}){typeof p=="boolean"&&(p={removeMeta:p}),d=es(d);const{relativeKey:m,driver:y}=t(d);y.removeItem&&(await qn(y.removeItem,m,p),(p.removeMeta||p.removeMata)&&await qn(y.removeItem,m+"$",p),y.watch||s("remove",d))},async getMeta(d,p={}){typeof p=="boolean"&&(p={nativeOnly:p}),d=es(d);const{relativeKey:m,driver:y}=t(d),b=Object.create(null);if(y.getMeta&&Object.assign(b,await qn(y.getMeta,m,p)),!p.nativeOnly){const E=await qn(y.getItem,m+"$",p).then(v=>Xw(v));E&&typeof E=="object"&&(typeof E.atime=="string"&&(E.atime=new Date(E.atime)),typeof E.mtime=="string"&&(E.mtime=new Date(E.mtime)),Object.assign(b,E))}return b},setMeta(d,p,m={}){return this.setItem(d+"$",p,m)},removeMeta(d,p={}){return this.removeItem(d+"$",p)},async getKeys(d,p={}){var A;d=e0(d);const m=r(d,!0);let y=[];const b=[];let E=!0;for(const N of m){(A=N.driver.flags)!=null&&A.maxDepth||(E=!1);const I=await qn(N.driver.getKeys,N.relativeBase,p);for(const P of I){const k=N.mountpoint+es(P);y.some(U=>k.startsWith(U))||b.push(k)}y=[N.mountpoint,...y.filter(P=>!P.startsWith(N.mountpoint))]}const v=p.maxDepth!==void 0&&!E;return b.filter(N=>(!v||K6(N,p.maxDepth))&&W6(N,d))},async clear(d,p={}){d=e0(d),await Promise.all(r(d,!1).map(async m=>{if(m.driver.clear)return qn(m.driver.clear,m.relativeBase,p);if(m.driver.removeItem){const y=await m.driver.getKeys(m.relativeBase||"",p);return Promise.all(y.map(b=>m.driver.removeItem(b,p)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(d=>AR(d)))},async watch(d){return await a(),e.watchListeners.push(d),async()=>{e.watchListeners=e.watchListeners.filter(p=>p!==d),e.watchListeners.length===0&&await c()}},async unwatch(){e.watchListeners=[],await c()},mount(d,p){if(d=e0(d),d&&e.mounts[d])throw new Error(`already mounted at ${d}`);return d&&(e.mountpoints.push(d),e.mountpoints.sort((m,y)=>y.length-m.length)),e.mounts[d]=p,e.watching&&Promise.resolve(ER(p,s,d)).then(m=>{e.unwatch[d]=m}).catch(console.error),h},async unmount(d,p=!0){var m,y;d=e0(d),!(!d||!e.mounts[d])&&(e.watching&&d in e.unwatch&&((y=(m=e.unwatch)[d])==null||y.call(m),delete e.unwatch[d]),p&&await AR(e.mounts[d]),e.mountpoints=e.mountpoints.filter(b=>b!==d),delete e.mounts[d])},getMount(d=""){d=es(d)+":";const p=t(d);return{driver:p.driver,base:p.base}},getMounts(d="",p={}){return d=es(d),r(d,p.parents).map(y=>({driver:y.driver,base:y.mountpoint}))},keys:(d,p={})=>h.getKeys(d,p),get:(d,p={})=>h.getItem(d,p),set:(d,p,m={})=>h.setItem(d,p,m),has:(d,p={})=>h.hasItem(d,p),del:(d,p={})=>h.removeItem(d,p),remove:(d,p={})=>h.removeItem(d,p)};return h}function ER(n,e,t){return n.watch?n.watch((r,s)=>e(r,t+s)):()=>{}}async function AR(n){typeof n.dispose=="function"&&await qn(n.dispose)}function Vu(n){return new Promise((e,t)=>{n.oncomplete=n.onsuccess=()=>e(n.result),n.onabort=n.onerror=()=>t(n.error)})}function pD(n,e){let t;const r=()=>{if(t)return t;const s=indexedDB.open(n);return s.onupgradeneeded=()=>s.result.createObjectStore(e),t=Vu(s),t.then(a=>{a.onclose=()=>t=void 0},()=>{}),t};return(s,a)=>r().then(c=>a(c.transaction(e,s).objectStore(e)))}let XA;function uy(){return XA||(XA=pD("keyval-store","keyval")),XA}function _R(n,e=uy()){return e("readonly",t=>Vu(t.get(n)))}function J6(n,e,t=uy()){return t("readwrite",r=>(r.put(e,n),Vu(r.transaction)))}function X6(n,e=uy()){return e("readwrite",t=>(t.delete(n),Vu(t.transaction)))}function e$(n=uy()){return n("readwrite",e=>(e.clear(),Vu(e.transaction)))}function t$(n,e){return n.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Vu(n.transaction)}function n$(n=uy()){return n("readonly",e=>{if(e.getAllKeys)return Vu(e.getAllKeys());const t=[];return t$(e,r=>t.push(r.key)).then(()=>t)})}const r$=n=>JSON.stringify(n,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),s$=n=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=n.replace(e,'$1"$2n"$3');return JSON.parse(t,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function Tu(n){if(typeof n!="string")throw new Error(`Cannot safe json parse value of type ${typeof n}`);try{return s$(n)}catch{return n}}function No(n){return typeof n=="string"?n:r$(n)||""}const i$="idb-keyval";var a$=(n={})=>{const e=n.base&&n.base.length>0?`${n.base}:`:"",t=s=>e+s;let r;return n.dbName&&n.storeName&&(r=pD(n.dbName,n.storeName)),{name:i$,options:n,async hasItem(s){return!(typeof await _R(t(s),r)>"u")},async getItem(s){return await _R(t(s),r)??null},setItem(s,a){return J6(t(s),a,r)},removeItem(s){return X6(t(s),r)},getKeys(){return n$(r)},clear(){return e$(r)}}};const o$="WALLET_CONNECT_V2_INDEXED_DB",c$="keyvaluestorage";let l$=class{constructor(){this.indexedDb=Z6({driver:a$({dbName:o$,storeName:c$})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const t=await this.indexedDb.getItem(e);if(t!==null)return t}async setItem(e,t){await this.indexedDb.setItem(e,No(t))}async removeItem(e){await this.indexedDb.removeItem(e)}};var e1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O0={exports:{}};(function(){let n;function e(){}n=e,n.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},n.prototype.setItem=function(t,r){this[t]=String(r)},n.prototype.removeItem=function(t){delete this[t]},n.prototype.clear=function(){const t=this;Object.keys(t).forEach(function(r){t[r]=void 0,delete t[r]})},n.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},n.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof e1<"u"&&e1.localStorage?O0.exports=e1.localStorage:typeof window<"u"&&window.localStorage?O0.exports=window.localStorage:O0.exports=new e})();function u$(n){var e;return[n[0],Tu((e=n[1])!=null?e:"")]}let h$=class{constructor(){this.localStorage=O0.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(u$)}async getItem(e){const t=this.localStorage.getItem(e);if(t!==null)return Tu(t)}async setItem(e,t){this.localStorage.setItem(e,No(t))}async removeItem(e){this.localStorage.removeItem(e)}};const d$="wc_storage_version",CR=1,f$=async(n,e,t)=>{const r=d$,s=await e.getItem(r);if(s&&s>=CR){t(e);return}const a=await n.getKeys();if(!a.length){t(e);return}const c=[];for(;a.length;){const u=a.shift();if(!u)continue;const h=u.toLowerCase();if(h.includes("wc@")||h.includes("walletconnect")||h.includes("wc_")||h.includes("wallet_connect")){const d=await n.getItem(u);await e.setItem(u,d),c.push(u)}}await e.setItem(r,CR),t(e),p$(n,c)},p$=async(n,e)=>{e.length&&e.forEach(async t=>{await n.removeItem(t)})};let g$=class{constructor(){this.initialized=!1,this.setInitialized=t=>{this.storage=t,this.initialized=!0};const e=new h$;this.storage=e;try{const t=new l$;f$(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}};var t1,SR;function m$(){if(SR)return t1;SR=1;function n(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}t1=e;function e(t,r,s){var a=s&&s.stringify||n,c=1;if(typeof t=="object"&&t!==null){var u=r.length+c;if(u===1)return t;var h=new Array(u);h[0]=a(t);for(var d=1;d<u;d++)h[d]=a(r[d]);return h.join(" ")}if(typeof t!="string")return t;var p=r.length;if(p===0)return t;for(var m="",y=1-c,b=-1,E=t&&t.length||0,v=0;v<E;){if(t.charCodeAt(v)===37&&v+1<E){switch(b=b>-1?b:0,t.charCodeAt(v+1)){case 100:case 102:if(y>=p||r[y]==null)break;b<v&&(m+=t.slice(b,v)),m+=Number(r[y]),b=v+2,v++;break;case 105:if(y>=p||r[y]==null)break;b<v&&(m+=t.slice(b,v)),m+=Math.floor(Number(r[y])),b=v+2,v++;break;case 79:case 111:case 106:if(y>=p||r[y]===void 0)break;b<v&&(m+=t.slice(b,v));var A=typeof r[y];if(A==="string"){m+="'"+r[y]+"'",b=v+2,v++;break}if(A==="function"){m+=r[y].name||"<anonymous>",b=v+2,v++;break}m+=a(r[y]),b=v+2,v++;break;case 115:if(y>=p)break;b<v&&(m+=t.slice(b,v)),m+=String(r[y]),b=v+2,v++;break;case 37:b<v&&(m+=t.slice(b,v)),m+="%",b=v+2,v++,y--;break}++y}++v}return b===-1?t:(b<E&&(m+=t.slice(b)),m)}return t1}var n1,NR;function y$(){if(NR)return n1;NR=1;const n=m$();n1=s;const e=U().console||{},t={mapHttpRequest:E,mapHttpResponse:E,wrapRequestSerializer:v,wrapResponseSerializer:v,wrapErrorSerializer:v,req:E,res:E,err:y};function r(O,B){return Array.isArray(O)?O.filter(function($){return $!=="!stdSerializers.err"}):O===!0?Object.keys(B):!1}function s(O){O=O||{},O.browser=O.browser||{};const B=O.browser.transmit;if(B&&typeof B.send!="function")throw Error("pino: transmit option must have a send function");const M=O.browser.write||e;O.browser.write&&(O.browser.asObject=!0);const $=O.serializers||{},q=r(O.browser.serialize,$);let V=O.browser.serialize;Array.isArray(O.browser.serialize)&&O.browser.serialize.indexOf("!stdSerializers.err")>-1&&(V=!1);const te=["error","fatal","warn","info","debug","trace"];typeof M=="function"&&(M.error=M.fatal=M.warn=M.info=M.debug=M.trace=M),O.enabled===!1&&(O.level="silent");const de=O.level||"info",Z=Object.create(M);Z.log||(Z.log=A),Object.defineProperty(Z,"levelVal",{get:C}),Object.defineProperty(Z,"level",{get:L,set:z});const T={transmit:B,serialize:q,asObject:O.browser.asObject,levels:te,timestamp:b(O)};Z.levels=s.levels,Z.level=de,Z.setMaxListeners=Z.getMaxListeners=Z.emit=Z.addListener=Z.on=Z.prependListener=Z.once=Z.prependOnceListener=Z.removeListener=Z.removeAllListeners=Z.listeners=Z.listenerCount=Z.eventNames=Z.write=Z.flush=A,Z.serializers=$,Z._serialize=q,Z._stdErrSerialize=V,Z.child=G,B&&(Z._logEvent=m());function C(){return this.level==="silent"?1/0:this.levels.values[this.level]}function L(){return this._level}function z(R){if(R!=="silent"&&!this.levels.values[R])throw Error("unknown level "+R);this._level=R,a(T,Z,"error","log"),a(T,Z,"fatal","error"),a(T,Z,"warn","error"),a(T,Z,"info","log"),a(T,Z,"debug","log"),a(T,Z,"trace","log")}function G(R,W){if(!R)throw new Error("missing bindings for child Pino");W=W||{},q&&R.serializers&&(W.serializers=R.serializers);const ne=W.serializers;if(q&&ne){var ae=Object.assign({},$,ne),oe=O.browser.serialize===!0?Object.keys(ae):q;delete R.serializers,h([R],oe,ae,this._stdErrSerialize)}function ye(me){this._childLevel=(me._childLevel|0)+1,this.error=d(me,R,"error"),this.fatal=d(me,R,"fatal"),this.warn=d(me,R,"warn"),this.info=d(me,R,"info"),this.debug=d(me,R,"debug"),this.trace=d(me,R,"trace"),ae&&(this.serializers=ae,this._serialize=oe),B&&(this._logEvent=m([].concat(me._logEvent.bindings,R)))}return ye.prototype=this,new ye(this)}return Z}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=t,s.stdTimeFunctions=Object.assign({},{nullTime:N,epochTime:I,unixTime:P,isoTime:k});function a(O,B,M,$){const q=Object.getPrototypeOf(B);B[M]=B.levelVal>B.levels.values[M]?A:q[M]?q[M]:e[M]||e[$]||A,c(O,B,M)}function c(O,B,M){!O.transmit&&B[M]===A||(B[M]=function($){return function(){const V=O.timestamp(),te=new Array(arguments.length),de=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var Z=0;Z<te.length;Z++)te[Z]=arguments[Z];if(O.serialize&&!O.asObject&&h(te,this._serialize,this.serializers,this._stdErrSerialize),O.asObject?$.call(de,u(this,M,te,V)):$.apply(de,te),O.transmit){const T=O.transmit.level||B.level,C=s.levels.values[T],L=s.levels.values[M];if(L<C)return;p(this,{ts:V,methodLevel:M,methodValue:L,transmitValue:s.levels.values[O.transmit.level||B.level],send:O.transmit.send,val:B.levelVal},te)}}}(B[M]))}function u(O,B,M,$){O._serialize&&h(M,O._serialize,O.serializers,O._stdErrSerialize);const q=M.slice();let V=q[0];const te={};$&&(te.time=$),te.level=s.levels.values[B];let de=(O._childLevel|0)+1;if(de<1&&(de=1),V!==null&&typeof V=="object"){for(;de--&&typeof q[0]=="object";)Object.assign(te,q.shift());V=q.length?n(q.shift(),q):void 0}else typeof V=="string"&&(V=n(q.shift(),q));return V!==void 0&&(te.msg=V),te}function h(O,B,M,$){for(const q in O)if($&&O[q]instanceof Error)O[q]=s.stdSerializers.err(O[q]);else if(typeof O[q]=="object"&&!Array.isArray(O[q]))for(const V in O[q])B&&B.indexOf(V)>-1&&V in M&&(O[q][V]=M[V](O[q][V]))}function d(O,B,M){return function(){const $=new Array(1+arguments.length);$[0]=B;for(var q=1;q<$.length;q++)$[q]=arguments[q-1];return O[M].apply(this,$)}}function p(O,B,M){const $=B.send,q=B.ts,V=B.methodLevel,te=B.methodValue,de=B.val,Z=O._logEvent.bindings;h(M,O._serialize||Object.keys(O.serializers),O.serializers,O._stdErrSerialize===void 0?!0:O._stdErrSerialize),O._logEvent.ts=q,O._logEvent.messages=M.filter(function(T){return Z.indexOf(T)===-1}),O._logEvent.level.label=V,O._logEvent.level.value=te,$(V,O._logEvent,de),O._logEvent=m(Z)}function m(O){return{ts:0,messages:[],bindings:O||[],level:{label:"",value:0}}}function y(O){const B={type:O.constructor.name,msg:O.message,stack:O.stack};for(const M in O)B[M]===void 0&&(B[M]=O[M]);return B}function b(O){return typeof O.timestamp=="function"?O.timestamp:O.timestamp===!1?N:I}function E(){return{}}function v(O){return O}function A(){}function N(){return!1}function I(){return Date.now()}function P(){return Math.round(Date.now()/1e3)}function k(){return new Date(Date.now()).toISOString()}function U(){function O(B){return typeof B<"u"&&B}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return O(self)||O(window)||O(this)||{}}}return n1}var id=y$();const hy=oy(id),w$={level:"info"},dy="custom_context",JC=1e3*1024;let b$=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},TR=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new b$(e);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;t!==null;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}},gD=class{constructor(e,t=JC){this.level=e??"error",this.levelValue=id.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new TR(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===id.levels.values.error?console.error(e):t===id.levels.values.warn?console.warn(e):t===id.levels.values.debug?console.debug(e):t===id.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(No({timestamp:new Date().toISOString(),log:e}));const t=typeof e=="string"?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new TR(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push(No({extraMetadata:e})),new Blob(t,{type:"application/json"})}},v$=class{constructor(e,t=JC){this.baseChunkLogger=new gD(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=t,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}},E$=class{constructor(e,t=JC){this.baseChunkLogger=new gD(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var A$=Object.defineProperty,_$=Object.defineProperties,C$=Object.getOwnPropertyDescriptors,OR=Object.getOwnPropertySymbols,S$=Object.prototype.hasOwnProperty,N$=Object.prototype.propertyIsEnumerable,RR=(n,e,t)=>e in n?A$(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Z0=(n,e)=>{for(var t in e||(e={}))S$.call(e,t)&&RR(n,t,e[t]);if(OR)for(var t of OR(e))N$.call(e,t)&&RR(n,t,e[t]);return n},J0=(n,e)=>_$(n,C$(e));function qf(n){return J0(Z0({},n),{level:(n==null?void 0:n.level)||w$.level})}function T$(n,e=dy){return n[e]||""}function O$(n,e,t=dy){return n[t]=e,n}function ds(n,e=dy){let t="";return typeof n.bindings>"u"?t=T$(n,e):t=n.bindings().context||"",t}function R$(n,e,t=dy){const r=ds(n,t);return r.trim()?`${r}/${e}`:e}function Or(n,e,t=dy){const r=R$(n,e,t),s=n.child({context:r});return O$(s,r,t)}function I$(n){var e,t;const r=new v$((e=n.opts)==null?void 0:e.level,n.maxSizeInBytes);return{logger:hy(J0(Z0({},n.opts),{level:"trace",browser:J0(Z0({},(t=n.opts)==null?void 0:t.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function x$(n){var e;const t=new E$((e=n.opts)==null?void 0:e.level,n.maxSizeInBytes);return{logger:hy(J0(Z0({},n.opts),{level:"trace"}),t),chunkLoggerController:t}}function XC(n){return typeof n.loggerOverride<"u"&&typeof n.loggerOverride!="string"?{logger:n.loggerOverride,chunkLoggerController:null}:typeof window<"u"?I$(n):x$(n)}var P$=Object.defineProperty,D$=(n,e,t)=>e in n?P$(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,IR=(n,e,t)=>D$(n,typeof e!="symbol"?e+"":e,t);let U$=class extends qu{constructor(e){super(),this.opts=e,IR(this,"protocol","wc"),IR(this,"version",2)}};var k$=Object.defineProperty,B$=(n,e,t)=>e in n?k$(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,M$=(n,e,t)=>B$(n,e+"",t);let L$=class extends qu{constructor(e,t){super(),this.core=e,this.logger=t,M$(this,"records",new Map)}},$$=class{constructor(e,t){this.logger=e,this.core=t}},F$=class extends qu{constructor(e,t){super(),this.relayer=e,this.logger=t}},j$=class extends qu{constructor(e){super()}},H$=class{constructor(e,t,r,s){this.core=e,this.logger=t,this.name=r}},z$=class extends qu{constructor(e,t){super(),this.relayer=e,this.logger=t}},q$=class extends qu{constructor(e,t){super(),this.core=e,this.logger=t}},G$=class{constructor(e,t,r){this.core=e,this.logger=t,this.store=r}},V$=class{constructor(e,t){this.projectId=e,this.logger=t}},K$=class{constructor(e,t,r){this.core=e,this.logger=t,this.telemetryEnabled=r}};var W$=Object.defineProperty,Y$=(n,e,t)=>e in n?W$(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,xR=(n,e,t)=>Y$(n,typeof e!="symbol"?e+"":e,t);let Q$=class{constructor(e){this.opts=e,xR(this,"protocol","wc"),xR(this,"version",2)}},Z$=class{constructor(e){this.client=e}};function J$(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function mD(n,...e){if(!J$(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function PR(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function X$(n,e){mD(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}const $h=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const r1=n=>new DataView(n.buffer,n.byteOffset,n.byteLength);function e9(n){if(typeof n!="string")throw new Error("utf8ToBytes expected string, got "+typeof n);return new Uint8Array(new TextEncoder().encode(n))}function yD(n){return typeof n=="string"&&(n=e9(n)),mD(n),n}let t9=class{clone(){return this._cloneInto()}};function n9(n){const e=r=>n().update(yD(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function wD(n=32){if($h&&typeof $h.getRandomValues=="function")return $h.getRandomValues(new Uint8Array(n));if($h&&typeof $h.randomBytes=="function")return $h.randomBytes(n);throw new Error("crypto.getRandomValues must be defined")}function r9(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),a=BigInt(4294967295),c=Number(t>>s&a),u=Number(t&a),h=r?4:0,d=r?0:4;n.setUint32(e+h,c,r),n.setUint32(e+d,u,r)}let s9=class extends t9{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=r1(this.buffer)}update(e){PR(this);const{view:t,buffer:r,blockLen:s}=this;e=yD(e);const a=e.length;for(let c=0;c<a;){const u=Math.min(s-this.pos,a-c);if(u===s){const h=r1(e);for(;s<=a-c;c+=s)this.process(h,c);continue}r.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){PR(this),X$(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:a}=this;let{pos:c}=this;t[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(r,0),c=0);for(let m=c;m<s;m++)t[m]=0;r9(r,s-8,BigInt(this.length*8),a),this.process(r,0);const u=r1(e),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=h/4,p=this.get();if(d>p.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<d;m++)u.setUint32(4*m,p[m],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:a,destroyed:c,pos:u}=this;return e.length=s,e.pos=u,e.finished=a,e.destroyed=c,s%t&&e.buffer.set(r),e}};const t0=BigInt(2**32-1),b_=BigInt(32);function bD(n,e=!1){return e?{h:Number(n&t0),l:Number(n>>b_&t0)}:{h:Number(n>>b_&t0)|0,l:Number(n&t0)|0}}function i9(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:a,l:c}=bD(n[s],e);[t[s],r[s]]=[a,c]}return[t,r]}const a9=(n,e)=>BigInt(n>>>0)<<b_|BigInt(e>>>0),o9=(n,e,t)=>n>>>t,c9=(n,e,t)=>n<<32-t|e>>>t,l9=(n,e,t)=>n>>>t|e<<32-t,u9=(n,e,t)=>n<<32-t|e>>>t,h9=(n,e,t)=>n<<64-t|e>>>t-32,d9=(n,e,t)=>n>>>t-32|e<<64-t,f9=(n,e)=>e,p9=(n,e)=>n,g9=(n,e,t)=>n<<t|e>>>32-t,m9=(n,e,t)=>e<<t|n>>>32-t,y9=(n,e,t)=>e<<t-32|n>>>64-t,w9=(n,e,t)=>n<<t-32|e>>>64-t;function b9(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const v9=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),E9=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,A9=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),_9=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,C9=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),S9=(n,e,t,r,s,a)=>e+t+r+s+a+(n/2**32|0)|0,st={fromBig:bD,split:i9,toBig:a9,shrSH:o9,shrSL:c9,rotrSH:l9,rotrSL:u9,rotrBH:h9,rotrBL:d9,rotr32H:f9,rotr32L:p9,rotlSH:g9,rotlSL:m9,rotlBH:y9,rotlBL:w9,add:b9,add3L:v9,add3H:E9,add4L:A9,add4H:_9,add5H:S9,add5L:C9},[N9,T9]=st.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),ac=new Uint32Array(80),oc=new Uint32Array(80);let O9=class extends s9{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:a,Cl:c,Dh:u,Dl:h,Eh:d,El:p,Fh:m,Fl:y,Gh:b,Gl:E,Hh:v,Hl:A}=this;return[e,t,r,s,a,c,u,h,d,p,m,y,b,E,v,A]}set(e,t,r,s,a,c,u,h,d,p,m,y,b,E,v,A){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=a|0,this.Cl=c|0,this.Dh=u|0,this.Dl=h|0,this.Eh=d|0,this.El=p|0,this.Fh=m|0,this.Fl=y|0,this.Gh=b|0,this.Gl=E|0,this.Hh=v|0,this.Hl=A|0}process(e,t){for(let P=0;P<16;P++,t+=4)ac[P]=e.getUint32(t),oc[P]=e.getUint32(t+=4);for(let P=16;P<80;P++){const k=ac[P-15]|0,U=oc[P-15]|0,O=st.rotrSH(k,U,1)^st.rotrSH(k,U,8)^st.shrSH(k,U,7),B=st.rotrSL(k,U,1)^st.rotrSL(k,U,8)^st.shrSL(k,U,7),M=ac[P-2]|0,$=oc[P-2]|0,q=st.rotrSH(M,$,19)^st.rotrBH(M,$,61)^st.shrSH(M,$,6),V=st.rotrSL(M,$,19)^st.rotrBL(M,$,61)^st.shrSL(M,$,6),te=st.add4L(B,V,oc[P-7],oc[P-16]),de=st.add4H(te,O,q,ac[P-7],ac[P-16]);ac[P]=de|0,oc[P]=te|0}let{Ah:r,Al:s,Bh:a,Bl:c,Ch:u,Cl:h,Dh:d,Dl:p,Eh:m,El:y,Fh:b,Fl:E,Gh:v,Gl:A,Hh:N,Hl:I}=this;for(let P=0;P<80;P++){const k=st.rotrSH(m,y,14)^st.rotrSH(m,y,18)^st.rotrBH(m,y,41),U=st.rotrSL(m,y,14)^st.rotrSL(m,y,18)^st.rotrBL(m,y,41),O=m&b^~m&v,B=y&E^~y&A,M=st.add5L(I,U,B,T9[P],oc[P]),$=st.add5H(M,N,k,O,N9[P],ac[P]),q=M|0,V=st.rotrSH(r,s,28)^st.rotrBH(r,s,34)^st.rotrBH(r,s,39),te=st.rotrSL(r,s,28)^st.rotrBL(r,s,34)^st.rotrBL(r,s,39),de=r&a^r&u^a&u,Z=s&c^s&h^c&h;N=v|0,I=A|0,v=b|0,A=E|0,b=m|0,E=y|0,{h:m,l:y}=st.add(d|0,p|0,$|0,q|0),d=u|0,p=h|0,u=a|0,h=c|0,a=r|0,c=s|0;const T=st.add3L(q,te,Z);r=st.add3H(T,$,V,de),s=T|0}({h:r,l:s}=st.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:a,l:c}=st.add(this.Bh|0,this.Bl|0,a|0,c|0),{h:u,l:h}=st.add(this.Ch|0,this.Cl|0,u|0,h|0),{h:d,l:p}=st.add(this.Dh|0,this.Dl|0,d|0,p|0),{h:m,l:y}=st.add(this.Eh|0,this.El|0,m|0,y|0),{h:b,l:E}=st.add(this.Fh|0,this.Fl|0,b|0,E|0),{h:v,l:A}=st.add(this.Gh|0,this.Gl|0,v|0,A|0),{h:N,l:I}=st.add(this.Hh|0,this.Hl|0,N|0,I|0),this.set(r,s,a,c,u,h,d,p,m,y,b,E,v,A,N,I)}roundClean(){ac.fill(0),oc.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const R9=n9(()=>new O9);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eS=BigInt(0),vD=BigInt(1),I9=BigInt(2);function tS(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function nS(n){if(!tS(n))throw new Error("Uint8Array expected")}function s1(n,e){if(typeof e!="boolean")throw new Error(n+" boolean expected, got "+e)}const x9=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function rS(n){nS(n);let e="";for(let t=0;t<n.length;t++)e+=x9[n[t]];return e}function ED(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?eS:BigInt("0x"+n)}const Va={_0:48,_9:57,A:65,F:70,a:97,f:102};function DR(n){if(n>=Va._0&&n<=Va._9)return n-Va._0;if(n>=Va.A&&n<=Va.F)return n-(Va.A-10);if(n>=Va.a&&n<=Va.f)return n-(Va.a-10)}function AD(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,a=0;s<t;s++,a+=2){const c=DR(n.charCodeAt(a)),u=DR(n.charCodeAt(a+1));if(c===void 0||u===void 0){const h=n[a]+n[a+1];throw new Error('hex string expected, got non-hex character "'+h+'" at index '+a)}r[s]=c*16+u}return r}function P9(n){return ED(rS(n))}function R0(n){return nS(n),ED(rS(Uint8Array.from(n).reverse()))}function _D(n,e){return AD(n.toString(16).padStart(e*2,"0"))}function v_(n,e){return _D(n,e).reverse()}function Ka(n,e,t){let r;if(typeof e=="string")try{r=AD(e)}catch(a){throw new Error(n+" must be hex string or Uint8Array, cause: "+a)}else if(tS(e))r=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(n+" of length "+t+" expected, got "+s);return r}function UR(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];nS(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const a=n[r];t.set(a,s),s+=a.length}return t}const i1=n=>typeof n=="bigint"&&eS<=n;function D9(n,e,t){return i1(n)&&i1(e)&&i1(t)&&e<=n&&n<t}function cg(n,e,t,r){if(!D9(e,t,r))throw new Error("expected valid "+n+": "+t+" <= n < "+r+", got "+e)}function U9(n){let e;for(e=0;n>eS;n>>=vD,e+=1);return e}const k9=n=>(I9<<BigInt(n-1))-vD,B9={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||tS(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function sS(n,e,t={}){const r=(s,a,c)=>{const u=B9[a];if(typeof u!="function")throw new Error("invalid validator function");const h=n[s];if(!(c&&h===void 0)&&!u(h,n))throw new Error("param "+String(s)+" is invalid. Expected "+a+", got "+h)};for(const[s,a]of Object.entries(e))r(s,a,!1);for(const[s,a]of Object.entries(t))r(s,a,!0);return n}function kR(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const a=n(t,...r);return e.set(t,a),a}}const Zn=BigInt(0),Sn=BigInt(1),Dl=BigInt(2),M9=BigInt(3),E_=BigInt(4),BR=BigInt(5),MR=BigInt(8);function Mn(n,e){const t=n%e;return t>=Zn?t:e+t}function L9(n,e,t){if(e<Zn)throw new Error("invalid exponent, negatives unsupported");if(t<=Zn)throw new Error("invalid modulus");if(t===Sn)return Zn;let r=Sn;for(;e>Zn;)e&Sn&&(r=r*n%t),n=n*n%t,e>>=Sn;return r}function Wi(n,e,t){let r=n;for(;e-- >Zn;)r*=r,r%=t;return r}function LR(n,e){if(n===Zn)throw new Error("invert: expected non-zero number");if(e<=Zn)throw new Error("invert: expected positive modulus, got "+e);let t=Mn(n,e),r=e,s=Zn,a=Sn;for(;t!==Zn;){const c=r/t,u=r%t,h=s-a*c;r=t,t=u,s=a,a=h}if(r!==Sn)throw new Error("invert: does not exist");return Mn(s,e)}function $9(n){const e=(n-Sn)/Dl;let t,r,s;for(t=n-Sn,r=0;t%Dl===Zn;t/=Dl,r++);for(s=Dl;s<n&&L9(s,e,n)!==n-Sn;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const c=(n+Sn)/E_;return function(u,h){const d=u.pow(h,c);if(!u.eql(u.sqr(d),h))throw new Error("Cannot find square root");return d}}const a=(t+Sn)/Dl;return function(c,u){if(c.pow(u,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let h=r,d=c.pow(c.mul(c.ONE,s),t),p=c.pow(u,a),m=c.pow(u,t);for(;!c.eql(m,c.ONE);){if(c.eql(m,c.ZERO))return c.ZERO;let y=1;for(let E=c.sqr(m);y<h&&!c.eql(E,c.ONE);y++)E=c.sqr(E);const b=c.pow(d,Sn<<BigInt(h-y-1));d=c.sqr(b),p=c.mul(p,b),m=c.mul(m,d),h=y}return p}}function F9(n){if(n%E_===M9){const e=(n+Sn)/E_;return function(t,r){const s=t.pow(r,e);if(!t.eql(t.sqr(s),r))throw new Error("Cannot find square root");return s}}if(n%MR===BR){const e=(n-BR)/MR;return function(t,r){const s=t.mul(r,Dl),a=t.pow(s,e),c=t.mul(r,a),u=t.mul(t.mul(c,Dl),a),h=t.mul(c,t.sub(u,t.ONE));if(!t.eql(t.sqr(h),r))throw new Error("Cannot find square root");return h}}return $9(n)}const j9=(n,e)=>(Mn(n,e)&Sn)===Sn,H9=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function z9(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=H9.reduce((r,s)=>(r[s]="function",r),e);return sS(n,t)}function q9(n,e,t){if(t<Zn)throw new Error("invalid exponent, negatives unsupported");if(t===Zn)return n.ONE;if(t===Sn)return e;let r=n.ONE,s=e;for(;t>Zn;)t&Sn&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Sn;return r}function G9(n,e){const t=new Array(e.length),r=e.reduce((a,c,u)=>n.is0(c)?a:(t[u]=a,n.mul(a,c)),n.ONE),s=n.inv(r);return e.reduceRight((a,c,u)=>n.is0(c)?a:(t[u]=n.mul(a,t[u]),n.mul(a,c)),s),t}function CD(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function SD(n,e,t=!1,r={}){if(n<=Zn)throw new Error("invalid field: expected ORDER > 0, got "+n);const{nBitLength:s,nByteLength:a}=CD(n,e);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const u=Object.freeze({ORDER:n,isLE:t,BITS:s,BYTES:a,MASK:k9(s),ZERO:Zn,ONE:Sn,create:h=>Mn(h,n),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return Zn<=h&&h<n},is0:h=>h===Zn,isOdd:h=>(h&Sn)===Sn,neg:h=>Mn(-h,n),eql:(h,d)=>h===d,sqr:h=>Mn(h*h,n),add:(h,d)=>Mn(h+d,n),sub:(h,d)=>Mn(h-d,n),mul:(h,d)=>Mn(h*d,n),pow:(h,d)=>q9(u,h,d),div:(h,d)=>Mn(h*LR(d,n),n),sqrN:h=>h*h,addN:(h,d)=>h+d,subN:(h,d)=>h-d,mulN:(h,d)=>h*d,inv:h=>LR(h,n),sqrt:r.sqrt||(h=>(c||(c=F9(n)),c(u,h))),invertBatch:h=>G9(u,h),cmov:(h,d,p)=>p?d:h,toBytes:h=>t?v_(h,a):_D(h,a),fromBytes:h=>{if(h.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+h.length);return t?R0(h):P9(h)}});return Object.freeze(u)}const $R=BigInt(0),n0=BigInt(1);function a1(n,e){const t=e.negate();return n?t:e}function ND(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function o1(n,e){ND(n,e);const t=Math.ceil(e/n)+1,r=2**(n-1);return{windows:t,windowSize:r}}function V9(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)})}function K9(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)})}const c1=new WeakMap,TD=new WeakMap;function l1(n){return TD.get(n)||1}function W9(n,e){return{constTimeNegate:a1,hasPrecomputes(t){return l1(t)!==1},unsafeLadder(t,r,s=n.ZERO){let a=t;for(;r>$R;)r&n0&&(s=s.add(a)),a=a.double(),r>>=n0;return s},precomputeWindow(t,r){const{windows:s,windowSize:a}=o1(r,e),c=[];let u=t,h=u;for(let d=0;d<s;d++){h=u,c.push(h);for(let p=1;p<a;p++)h=h.add(u),c.push(h);u=h.double()}return c},wNAF(t,r,s){const{windows:a,windowSize:c}=o1(t,e);let u=n.ZERO,h=n.BASE;const d=BigInt(2**t-1),p=2**t,m=BigInt(t);for(let y=0;y<a;y++){const b=y*c;let E=Number(s&d);s>>=m,E>c&&(E-=p,s+=n0);const v=b,A=b+Math.abs(E)-1,N=y%2!==0,I=E<0;E===0?h=h.add(a1(N,r[v])):u=u.add(a1(I,r[A]))}return{p:u,f:h}},wNAFUnsafe(t,r,s,a=n.ZERO){const{windows:c,windowSize:u}=o1(t,e),h=BigInt(2**t-1),d=2**t,p=BigInt(t);for(let m=0;m<c;m++){const y=m*u;if(s===$R)break;let b=Number(s&h);if(s>>=p,b>u&&(b-=d,s+=n0),b===0)continue;let E=r[y+Math.abs(b)-1];b<0&&(E=E.negate()),a=a.add(E)}return a},getPrecomputes(t,r,s){let a=c1.get(r);return a||(a=this.precomputeWindow(r,t),t!==1&&c1.set(r,s(a))),a},wNAFCached(t,r,s){const a=l1(t);return this.wNAF(a,this.getPrecomputes(a,t,s),r)},wNAFCachedUnsafe(t,r,s,a){const c=l1(t);return c===1?this.unsafeLadder(t,r,a):this.wNAFUnsafe(c,this.getPrecomputes(c,t,s),r,a)},setWindowSize(t,r){ND(r,e),TD.set(t,r),c1.delete(t)}}}function Y9(n,e,t,r){if(V9(t,n),K9(r,e),t.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=n.ZERO,a=U9(BigInt(t.length)),c=a>12?a-3:a>4?a-2:a?2:1,u=(1<<c)-1,h=new Array(u+1).fill(s),d=Math.floor((e.BITS-1)/c)*c;let p=s;for(let m=d;m>=0;m-=c){h.fill(s);for(let b=0;b<r.length;b++){const E=r[b],v=Number(E>>BigInt(m)&BigInt(u));h[v]=h[v].add(t[b])}let y=s;for(let b=h.length-1,E=s;b>0;b--)E=E.add(h[b]),y=y.add(E);if(p=p.add(y),m!==0)for(let b=0;b<c;b++)p=p.double()}return p}function Q9(n){return z9(n.Fp),sS(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...CD(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}const gi=BigInt(0),Zr=BigInt(1),r0=BigInt(2),Z9=BigInt(8),J9={zip215:!0};function X9(n){const e=Q9(n);return sS(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function eF(n){const e=X9(n),{Fp:t,n:r,prehash:s,hash:a,randomBytes:c,nByteLength:u,h}=e,d=r0<<BigInt(u*8)-Zr,p=t.create,m=SD(e.n,e.nBitLength),y=e.uvRatio||((T,C)=>{try{return{isValid:!0,value:t.sqrt(T*t.inv(C))}}catch{return{isValid:!1,value:gi}}}),b=e.adjustScalarBytes||(T=>T),E=e.domain||((T,C,L)=>{if(s1("phflag",L),C.length||L)throw new Error("Contexts/pre-hash are not supported");return T});function v(T,C){cg("coordinate "+T,C,gi,d)}function A(T){if(!(T instanceof P))throw new Error("ExtendedPoint expected")}const N=kR((T,C)=>{const{ex:L,ey:z,ez:G}=T,R=T.is0();C==null&&(C=R?Z9:t.inv(G));const W=p(L*C),ne=p(z*C),ae=p(G*C);if(R)return{x:gi,y:Zr};if(ae!==Zr)throw new Error("invZ was invalid");return{x:W,y:ne}}),I=kR(T=>{const{a:C,d:L}=e;if(T.is0())throw new Error("bad point: ZERO");const{ex:z,ey:G,ez:R,et:W}=T,ne=p(z*z),ae=p(G*G),oe=p(R*R),ye=p(oe*oe),me=p(ne*C),Ke=p(oe*p(me+ae)),Be=p(ye+p(L*p(ne*ae)));if(Ke!==Be)throw new Error("bad point: equation left != right (1)");const We=p(z*G),Kt=p(R*W);if(We!==Kt)throw new Error("bad point: equation left != right (2)");return!0});class P{constructor(C,L,z,G){this.ex=C,this.ey=L,this.ez=z,this.et=G,v("x",C),v("y",L),v("z",z),v("t",G),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(C){if(C instanceof P)throw new Error("extended point not allowed");const{x:L,y:z}=C||{};return v("x",L),v("y",z),new P(L,z,Zr,p(L*z))}static normalizeZ(C){const L=t.invertBatch(C.map(z=>z.ez));return C.map((z,G)=>z.toAffine(L[G])).map(P.fromAffine)}static msm(C,L){return Y9(P,m,C,L)}_setWindowSize(C){O.setWindowSize(this,C)}assertValidity(){I(this)}equals(C){A(C);const{ex:L,ey:z,ez:G}=this,{ex:R,ey:W,ez:ne}=C,ae=p(L*ne),oe=p(R*G),ye=p(z*ne),me=p(W*G);return ae===oe&&ye===me}is0(){return this.equals(P.ZERO)}negate(){return new P(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){const{a:C}=e,{ex:L,ey:z,ez:G}=this,R=p(L*L),W=p(z*z),ne=p(r0*p(G*G)),ae=p(C*R),oe=L+z,ye=p(p(oe*oe)-R-W),me=ae+W,Ke=me-ne,Be=ae-W,We=p(ye*Ke),Kt=p(me*Be),an=p(ye*Be),tn=p(Ke*me);return new P(We,Kt,tn,an)}add(C){A(C);const{a:L,d:z}=e,{ex:G,ey:R,ez:W,et:ne}=this,{ex:ae,ey:oe,ez:ye,et:me}=C;if(L===BigInt(-1)){const ep=p((R-G)*(oe+ae)),tp=p((R+G)*(oe-ae)),Do=p(tp-ep);if(Do===gi)return this.double();const xy=p(W*r0*me),np=p(ne*r0*ye),Py=np+xy,Dy=tp+ep,Uo=np-xy,Rr=p(Py*Do),Hi=p(Dy*Uo),Ir=p(Py*Uo),Av=p(Do*Dy);return new P(Rr,Hi,Av,Ir)}const Ke=p(G*ae),Be=p(R*oe),We=p(ne*z*me),Kt=p(W*ye),an=p((G+R)*(ae+oe)-Ke-Be),tn=Kt-We,Lt=Kt+We,fn=p(Be-L*Ke),hi=p(an*tn),Zu=p(Lt*fn),Bs=p(an*fn),Ev=p(tn*Lt);return new P(hi,Zu,Ev,Bs)}subtract(C){return this.add(C.negate())}wNAF(C){return O.wNAFCached(this,C,P.normalizeZ)}multiply(C){const L=C;cg("scalar",L,Zr,r);const{p:z,f:G}=this.wNAF(L);return P.normalizeZ([z,G])[0]}multiplyUnsafe(C,L=P.ZERO){const z=C;return cg("scalar",z,gi,r),z===gi?U:this.is0()||z===Zr?this:O.wNAFCachedUnsafe(this,z,P.normalizeZ,L)}isSmallOrder(){return this.multiplyUnsafe(h).is0()}isTorsionFree(){return O.unsafeLadder(this,r).is0()}toAffine(C){return N(this,C)}clearCofactor(){const{h:C}=e;return C===Zr?this:this.multiplyUnsafe(C)}static fromHex(C,L=!1){const{d:z,a:G}=e,R=t.BYTES;C=Ka("pointHex",C,R),s1("zip215",L);const W=C.slice(),ne=C[R-1];W[R-1]=ne&-129;const ae=R0(W),oe=L?d:t.ORDER;cg("pointHex.y",ae,gi,oe);const ye=p(ae*ae),me=p(ye-Zr),Ke=p(z*ye-G);let{isValid:Be,value:We}=y(me,Ke);if(!Be)throw new Error("Point.fromHex: invalid y coordinate");const Kt=(We&Zr)===Zr,an=(ne&128)!==0;if(!L&&We===gi&&an)throw new Error("Point.fromHex: x=0 and x_0=1");return an!==Kt&&(We=p(-We)),P.fromAffine({x:We,y:ae})}static fromPrivateKey(C){return $(C).point}toRawBytes(){const{x:C,y:L}=this.toAffine(),z=v_(L,t.BYTES);return z[z.length-1]|=C&Zr?128:0,z}toHex(){return rS(this.toRawBytes())}}P.BASE=new P(e.Gx,e.Gy,Zr,p(e.Gx*e.Gy)),P.ZERO=new P(gi,Zr,Zr,gi);const{BASE:k,ZERO:U}=P,O=W9(P,u*8);function B(T){return Mn(T,r)}function M(T){return B(R0(T))}function $(T){const C=t.BYTES;T=Ka("private key",T,C);const L=Ka("hashed private key",a(T),2*C),z=b(L.slice(0,C)),G=L.slice(C,2*C),R=M(z),W=k.multiply(R),ne=W.toRawBytes();return{head:z,prefix:G,scalar:R,point:W,pointBytes:ne}}function q(T){return $(T).pointBytes}function V(T=new Uint8Array,...C){const L=UR(...C);return M(a(E(L,Ka("context",T),!!s)))}function te(T,C,L={}){T=Ka("message",T),s&&(T=s(T));const{prefix:z,scalar:G,pointBytes:R}=$(C),W=V(L.context,z,T),ne=k.multiply(W).toRawBytes(),ae=V(L.context,ne,R,T),oe=B(W+ae*G);cg("signature.s",oe,gi,r);const ye=UR(ne,v_(oe,t.BYTES));return Ka("result",ye,t.BYTES*2)}const de=J9;function Z(T,C,L,z=de){const{context:G,zip215:R}=z,W=t.BYTES;T=Ka("signature",T,2*W),C=Ka("message",C),L=Ka("publicKey",L,W),R!==void 0&&s1("zip215",R),s&&(C=s(C));const ne=R0(T.slice(W,2*W));let ae,oe,ye;try{ae=P.fromHex(L,R),oe=P.fromHex(T.slice(0,W),R),ye=k.multiplyUnsafe(ne)}catch{return!1}if(!R&&ae.isSmallOrder())return!1;const me=V(G,oe.toRawBytes(),ae.toRawBytes(),C);return oe.add(ae.multiplyUnsafe(me)).subtract(ye).clearCofactor().equals(P.ZERO)}return k._setWindowSize(8),{CURVE:e,getPublicKey:q,sign:te,verify:Z,ExtendedPoint:P,utils:{getExtendedPublicKey:$,randomPrivateKey:()=>c(t.BYTES),precompute(T=8,C=P.BASE){return C._setWindowSize(T),C.multiply(BigInt(3)),C}}}}BigInt(0),BigInt(1);const iS=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),FR=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const tF=BigInt(1),jR=BigInt(2);BigInt(3);const nF=BigInt(5),rF=BigInt(8);function sF(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),a=iS,c=n*n%a*n%a,u=Wi(c,jR,a)*c%a,h=Wi(u,tF,a)*n%a,d=Wi(h,nF,a)*h%a,p=Wi(d,e,a)*d%a,m=Wi(p,t,a)*p%a,y=Wi(m,r,a)*m%a,b=Wi(y,s,a)*y%a,E=Wi(b,s,a)*y%a,v=Wi(E,e,a)*d%a;return{pow_p_5_8:Wi(v,jR,a)*n%a,b2:c}}function iF(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function aF(n,e){const t=iS,r=Mn(e*e*e,t),s=Mn(r*r*e,t),a=sF(n*s).pow_p_5_8;let c=Mn(n*r*a,t);const u=Mn(e*c*c,t),h=c,d=Mn(c*FR,t),p=u===n,m=u===Mn(-n,t),y=u===Mn(-n*FR,t);return p&&(c=h),(m||y)&&(c=d),j9(c,t)&&(c=Mn(-c,t)),{isValid:p||m,value:c}}const oF=SD(iS,void 0,!0),cF={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:oF,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:rF,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:R9,randomBytes:wD,adjustScalarBytes:iF,uvRatio:aF},OD=eF(cF),lF="EdDSA",uF="JWT",X0=".",jb="base64url",RD="utf8",ID="utf8",hF=":",dF="did",fF="key",HR="base58btc",pF="z",gF="K36",mF=32;function aS(n){return globalThis.Buffer!=null?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):n}function xD(n=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?aS(globalThis.Buffer.allocUnsafe(n)):new Uint8Array(n)}function PD(n,e){e||(e=n.reduce((s,a)=>s+a.length,0));const t=xD(e);let r=0;for(const s of n)t.set(s,r),r+=s.length;return aS(t)}function yF(n,e){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var s=0;s<n.length;s++){var a=n.charAt(s),c=a.charCodeAt(0);if(t[c]!==255)throw new TypeError(a+" is ambiguous");t[c]=s}var u=n.length,h=n.charAt(0),d=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function m(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var v=0,A=0,N=0,I=E.length;N!==I&&E[N]===0;)N++,v++;for(var P=(I-N)*p+1>>>0,k=new Uint8Array(P);N!==I;){for(var U=E[N],O=0,B=P-1;(U!==0||O<A)&&B!==-1;B--,O++)U+=256*k[B]>>>0,k[B]=U%u>>>0,U=U/u>>>0;if(U!==0)throw new Error("Non-zero carry");A=O,N++}for(var M=P-A;M!==P&&k[M]===0;)M++;for(var $=h.repeat(v);M<P;++M)$+=n.charAt(k[M]);return $}function y(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var v=0;if(E[v]!==" "){for(var A=0,N=0;E[v]===h;)A++,v++;for(var I=(E.length-v)*d+1>>>0,P=new Uint8Array(I);E[v];){var k=t[E.charCodeAt(v)];if(k===255)return;for(var U=0,O=I-1;(k!==0||U<N)&&O!==-1;O--,U++)k+=u*P[O]>>>0,P[O]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");N=U,v++}if(E[v]!==" "){for(var B=I-N;B!==I&&P[B]===0;)B++;for(var M=new Uint8Array(A+(I-B)),$=A;B!==I;)M[$++]=P[B++];return M}}}function b(E){var v=y(E);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:y,decode:b}}var wF=yF,bF=wF;const DD=n=>{if(n instanceof Uint8Array&&n.constructor.name==="Uint8Array")return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")},vF=n=>new TextEncoder().encode(n),EF=n=>new TextDecoder().decode(n);let AF=class{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},_F=class{constructor(e,t,r){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return UD(this,e)}},CF=class{constructor(e){this.decoders=e}or(e){return UD(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const UD=(n,e)=>new CF({...n.decoders||{[n.prefix]:n},...e.decoders||{[e.prefix]:e}});let SF=class{constructor(e,t,r,s){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=s,this.encoder=new AF(e,t,r),this.decoder=new _F(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Hb=({name:n,prefix:e,encode:t,decode:r})=>new SF(n,e,t,r),fy=({prefix:n,name:e,alphabet:t})=>{const{encode:r,decode:s}=bF(t,e);return Hb({prefix:n,name:e,encode:r,decode:a=>DD(s(a))})},NF=(n,e,t,r)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let a=n.length;for(;n[a-1]==="=";)--a;const c=new Uint8Array(a*t/8|0);let u=0,h=0,d=0;for(let p=0;p<a;++p){const m=s[n[p]];if(m===void 0)throw new SyntaxError(`Non-${r} character`);h=h<<t|m,u+=t,u>=8&&(u-=8,c[d++]=255&h>>u)}if(u>=t||255&h<<8-u)throw new SyntaxError("Unexpected end of data");return c},TF=(n,e,t)=>{const r=e[e.length-1]==="=",s=(1<<t)-1;let a="",c=0,u=0;for(let h=0;h<n.length;++h)for(u=u<<8|n[h],c+=8;c>t;)c-=t,a+=e[s&u>>c];if(c&&(a+=e[s&u<<t-c]),r)for(;a.length*t&7;)a+="=";return a},gr=({name:n,prefix:e,bitsPerChar:t,alphabet:r})=>Hb({prefix:e,name:n,encode(s){return TF(s,r,t)},decode(s){return NF(s,r,t,n)}}),OF=Hb({prefix:"\0",name:"identity",encode:n=>EF(n),decode:n=>vF(n)});var RF=Object.freeze({__proto__:null,identity:OF});const IF=gr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var xF=Object.freeze({__proto__:null,base2:IF});const PF=gr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var DF=Object.freeze({__proto__:null,base8:PF});const UF=fy({prefix:"9",name:"base10",alphabet:"0123456789"});var kF=Object.freeze({__proto__:null,base10:UF});const BF=gr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),MF=gr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var LF=Object.freeze({__proto__:null,base16:BF,base16upper:MF});const $F=gr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),FF=gr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),jF=gr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),HF=gr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),zF=gr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),qF=gr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),GF=gr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),VF=gr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),KF=gr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var WF=Object.freeze({__proto__:null,base32:$F,base32upper:FF,base32pad:jF,base32padupper:HF,base32hex:zF,base32hexupper:qF,base32hexpad:GF,base32hexpadupper:VF,base32z:KF});const YF=fy({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),QF=fy({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var ZF=Object.freeze({__proto__:null,base36:YF,base36upper:QF});const JF=fy({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),XF=fy({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ej=Object.freeze({__proto__:null,base58btc:JF,base58flickr:XF});const tj=gr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),nj=gr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),rj=gr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),sj=gr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var ij=Object.freeze({__proto__:null,base64:tj,base64pad:nj,base64url:rj,base64urlpad:sj});const kD=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),aj=kD.reduce((n,e,t)=>(n[t]=e,n),[]),oj=kD.reduce((n,e,t)=>(n[e.codePointAt(0)]=t,n),[]);function cj(n){return n.reduce((e,t)=>(e+=aj[t],e),"")}function lj(n){const e=[];for(const t of n){const r=oj[t.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(r)}return new Uint8Array(e)}const uj=Hb({prefix:"🚀",name:"base256emoji",encode:cj,decode:lj});var hj=Object.freeze({__proto__:null,base256emoji:uj}),dj=BD,zR=128,fj=-128,pj=Math.pow(2,31);function BD(n,e,t){e=e||[],t=t||0;for(var r=t;n>=pj;)e[t++]=n&255|zR,n/=128;for(;n&fj;)e[t++]=n&255|zR,n>>>=7;return e[t]=n|0,BD.bytes=t-r+1,e}var gj=A_,mj=128,qR=127;function A_(n,r){var t=0,r=r||0,s=0,a=r,c,u=n.length;do{if(a>=u)throw A_.bytes=0,new RangeError("Could not decode varint");c=n[a++],t+=s<28?(c&qR)<<s:(c&qR)*Math.pow(2,s),s+=7}while(c>=mj);return A_.bytes=a-r,t}var yj=Math.pow(2,7),wj=Math.pow(2,14),bj=Math.pow(2,21),vj=Math.pow(2,28),Ej=Math.pow(2,35),Aj=Math.pow(2,42),_j=Math.pow(2,49),Cj=Math.pow(2,56),Sj=Math.pow(2,63),Nj=function(n){return n<yj?1:n<wj?2:n<bj?3:n<vj?4:n<Ej?5:n<Aj?6:n<_j?7:n<Cj?8:n<Sj?9:10},Tj={encode:dj,decode:gj,encodingLength:Nj},MD=Tj;const GR=(n,e,t=0)=>(MD.encode(n,e,t),e),VR=n=>MD.encodingLength(n),__=(n,e)=>{const t=e.byteLength,r=VR(n),s=r+VR(t),a=new Uint8Array(s+t);return GR(n,a,0),GR(t,a,r),a.set(e,s),new Oj(n,t,e,a)};let Oj=class{constructor(e,t,r,s){this.code=e,this.size=t,this.digest=r,this.bytes=s}};const LD=({name:n,code:e,encode:t})=>new Rj(n,e,t);let Rj=class{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?__(this.code,t):t.then(r=>__(this.code,r))}else throw Error("Unknown type, must be binary type")}};const $D=n=>async e=>new Uint8Array(await crypto.subtle.digest(n,e)),Ij=LD({name:"sha2-256",code:18,encode:$D("SHA-256")}),xj=LD({name:"sha2-512",code:19,encode:$D("SHA-512")});var Pj=Object.freeze({__proto__:null,sha256:Ij,sha512:xj});const FD=0,Dj="identity",jD=DD,Uj=n=>__(FD,jD(n)),kj={code:FD,name:Dj,encode:jD,digest:Uj};var Bj=Object.freeze({__proto__:null,identity:kj});new TextEncoder,new TextDecoder;const KR={...RF,...xF,...DF,...kF,...LF,...WF,...ZF,...ej,...ij,...hj};({...Pj,...Bj});function HD(n,e,t,r){return{name:n,prefix:e,encoder:{name:n,prefix:e,encode:t},decoder:{decode:r}}}const WR=HD("utf8","u",n=>"u"+new TextDecoder("utf8").decode(n),n=>new TextEncoder().encode(n.substring(1))),u1=HD("ascii","a",n=>{let e="a";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return e},n=>{n=n.substring(1);const e=xD(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}),zD={utf8:WR,"utf-8":WR,hex:KR.base16,latin1:u1,ascii:u1,binary:u1,...KR};function zb(n,e="utf8"){const t=zD[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(n.buffer,n.byteOffset,n.byteLength).toString("utf8"):t.encoder.encode(n).substring(1)}function Gf(n,e="utf8"){const t=zD[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?aS(globalThis.Buffer.from(n,"utf-8")):t.decoder.decode(`${t.prefix}${n}`)}function YR(n){return Tu(zb(Gf(n,jb),RD))}function eb(n){return zb(Gf(No(n),RD),jb)}function qD(n){const e=Gf(gF,HR),t=pF+zb(PD([e,n]),HR);return[dF,fF,t].join(hF)}function Mj(n){return zb(n,jb)}function Lj(n){return Gf(n,jb)}function $j(n){return Gf([eb(n.header),eb(n.payload)].join(X0),ID)}function Fj(n){return[eb(n.header),eb(n.payload),Mj(n.signature)].join(X0)}function C_(n){const e=n.split(X0),t=YR(e[0]),r=YR(e[1]),s=Lj(e[2]),a=Gf(e.slice(0,2).join(X0),ID);return{header:t,payload:r,signature:s,data:a}}function QR(n=wD(mF)){const e=OD.getPublicKey(n);return{secretKey:PD([n,e]),publicKey:e}}async function jj(n,e,t,r,s=ve.fromMiliseconds(Date.now())){const a={alg:lF,typ:uF},c=qD(r.publicKey),u=s+t,h={iss:c,sub:n,aud:e,iat:s,exp:u},d=$j({header:a,payload:h}),p=OD.sign(d,r.secretKey.slice(0,32));return Fj({header:a,payload:h,signature:p})}var ZR=function(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))},Hj=function(){function n(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"}return n}(),zj=function(){function n(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return n}(),qj=function(){function n(e,t,r,s){this.name=e,this.version=t,this.os=r,this.bot=s,this.type="bot-device"}return n}(),Gj=function(){function n(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return n}(),Vj=function(){function n(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return n}(),Kj=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Wj=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,JR=3,Yj=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Kj]],XR=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Qj(n){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Vj:typeof navigator<"u"?Jj(navigator.userAgent):e7()}function Zj(n){return n!==""&&Yj.reduce(function(e,t){var r=t[0],s=t[1];if(e)return e;var a=s.exec(n);return!!a&&[r,a]},!1)}function Jj(n){var e=Zj(n);if(!e)return null;var t=e[0],r=e[1];if(t==="searchbot")return new Gj;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<JR&&(s=ZR(ZR([],s,!0),t7(JR-s.length),!0)):s=[];var a=s.join("."),c=Xj(n),u=Wj.exec(n);return u&&u[1]?new qj(t,a,c,u[1]):new Hj(t,a,c)}function Xj(n){for(var e=0,t=XR.length;e<t;e++){var r=XR[e],s=r[0],a=r[1],c=a.exec(n);if(c)return s}return null}function e7(){var n=typeof process<"u"&&process.version;return n?new zj(process.version.slice(1)):null}function t7(n){for(var e=[],t=0;t<n;t++)e.push("0");return e}var Qt={},eI;function GD(){if(eI)return Qt;eI=1,Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.getLocalStorage=Qt.getLocalStorageOrThrow=Qt.getCrypto=Qt.getCryptoOrThrow=Qt.getLocation=Qt.getLocationOrThrow=Qt.getNavigator=Qt.getNavigatorOrThrow=Qt.getDocument=Qt.getDocumentOrThrow=Qt.getFromWindowOrThrow=Qt.getFromWindow=void 0;function n(y){let b;return typeof window<"u"&&typeof window[y]<"u"&&(b=window[y]),b}Qt.getFromWindow=n;function e(y){const b=n(y);if(!b)throw new Error(`${y} is not defined in Window`);return b}Qt.getFromWindowOrThrow=e;function t(){return e("document")}Qt.getDocumentOrThrow=t;function r(){return n("document")}Qt.getDocument=r;function s(){return e("navigator")}Qt.getNavigatorOrThrow=s;function a(){return n("navigator")}Qt.getNavigator=a;function c(){return e("location")}Qt.getLocationOrThrow=c;function u(){return n("location")}Qt.getLocation=u;function h(){return e("crypto")}Qt.getCryptoOrThrow=h;function d(){return n("crypto")}Qt.getCrypto=d;function p(){return e("localStorage")}Qt.getLocalStorageOrThrow=p;function m(){return n("localStorage")}return Qt.getLocalStorage=m,Qt}var To=GD(),lg={},tI;function n7(){if(tI)return lg;tI=1,Object.defineProperty(lg,"__esModule",{value:!0}),lg.getWindowMetadata=void 0;const n=GD();function e(){let t,r;try{t=n.getDocumentOrThrow(),r=n.getLocationOrThrow()}catch{return null}function s(){const b=t.getElementsByTagName("link"),E=[];for(let v=0;v<b.length;v++){const A=b[v],N=A.getAttribute("rel");if(N&&N.toLowerCase().indexOf("icon")>-1){const I=A.getAttribute("href");if(I)if(I.toLowerCase().indexOf("https:")===-1&&I.toLowerCase().indexOf("http:")===-1&&I.indexOf("//")!==0){let P=r.protocol+"//"+r.host;if(I.indexOf("/")===0)P+=I;else{const k=r.pathname.split("/");k.pop();const U=k.join("/");P+=U+"/"+I}E.push(P)}else if(I.indexOf("//")===0){const P=r.protocol+I;E.push(P)}else E.push(I)}}return E}function a(...b){const E=t.getElementsByTagName("meta");for(let v=0;v<E.length;v++){const A=E[v],N=["itemprop","property","name"].map(I=>A.getAttribute(I)).filter(I=>I?b.includes(I):!1);if(N.length&&N){const I=A.getAttribute("content");if(I)return I}}return""}function c(){let b=a("name","og:site_name","og:title","twitter:title");return b||(b=t.title),b}function u(){return a("description","og:description","twitter:description","keywords")}const h=c(),d=u(),p=r.origin,m=s();return{description:d,url:p,icons:m,name:h}}return lg.getWindowMetadata=e,lg}var r7=n7();function mm(n,{strict:e=!0}={}){return!n||typeof n!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(n):n.startsWith("0x")}function nI(n){return mm(n,{strict:!1})?Math.ceil((n.length-2)/2):n.length}const VD="2.23.2";let ug={getDocsUrl:({docsBaseUrl:n,docsPath:e="",docsSlug:t})=>e?`${n??"https://viem.sh"}${e}${t?`#${t}`:""}`:void 0,version:`viem@${VD}`};class Ou extends Error{constructor(e,t={}){var u;const r=(()=>{var h;return t.cause instanceof Ou?t.cause.details:(h=t.cause)!=null&&h.message?t.cause.message:t.details})(),s=t.cause instanceof Ou&&t.cause.docsPath||t.docsPath,a=(u=ug.getDocsUrl)==null?void 0:u.call(ug,{...t,docsPath:s}),c=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...ug.version?[`Version: ${ug.version}`]:[]].join(`
`);super(c,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=VD}walk(e){return KD(this,e)}}function KD(n,e){return e!=null&&e(n)?n:n&&typeof n=="object"&&"cause"in n&&n.cause!==void 0?KD(n.cause,e):e?null:n}class WD extends Ou{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}function Vf(n,{dir:e,size:t=32}={}){return typeof n=="string"?s7(n,{dir:e,size:t}):i7(n,{dir:e,size:t})}function s7(n,{dir:e,size:t=32}={}){if(t===null)return n;const r=n.replace("0x","");if(r.length>t*2)throw new WD({size:Math.ceil(r.length/2),targetSize:t,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](t*2,"0")}`}function i7(n,{dir:e,size:t=32}={}){if(t===null)return n;if(n.length>t)throw new WD({size:n.length,targetSize:t,type:"bytes"});const r=new Uint8Array(t);for(let s=0;s<t;s++){const a=e==="right";r[a?s:t-s-1]=n[a?s:n.length-s-1]}return r}class a7 extends Ou{constructor({max:e,min:t,signed:r,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class o7 extends Ou{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Kf(n,{size:e}){if(nI(n)>e)throw new o7({givenSize:nI(n),maxSize:e})}function S_(n,e={}){const{signed:t}=e;e.size&&Kf(n,{size:e.size});const r=BigInt(n);if(!t)return r;const s=(n.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function c7(n,e={}){return Number(S_(n,e))}const l7=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function N_(n,e={}){return typeof n=="number"||typeof n=="bigint"?QD(n,e):typeof n=="string"?d7(n,e):typeof n=="boolean"?u7(n,e):YD(n,e)}function u7(n,e={}){const t=`0x${Number(n)}`;return typeof e.size=="number"?(Kf(t,{size:e.size}),Vf(t,{size:e.size})):t}function YD(n,e={}){let t="";for(let s=0;s<n.length;s++)t+=l7[n[s]];const r=`0x${t}`;return typeof e.size=="number"?(Kf(r,{size:e.size}),Vf(r,{dir:"right",size:e.size})):r}function QD(n,e={}){const{signed:t,size:r}=e,s=BigInt(n);let a;r?t?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof n=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof a=="bigint"&&t?-a-1n:0;if(a&&s>a||s<c){const h=typeof n=="bigint"?"n":"";throw new a7({max:a?`${a}${h}`:void 0,min:`${c}${h}`,signed:t,size:r,value:`${n}${h}`})}const u=`0x${(t&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Vf(u,{size:r}):u}const h7=new TextEncoder;function d7(n,e={}){const t=h7.encode(n);return YD(t,e)}const f7=new TextEncoder;function p7(n,e={}){return typeof n=="number"||typeof n=="bigint"?m7(n,e):typeof n=="boolean"?g7(n,e):mm(n)?ZD(n,e):JD(n,e)}function g7(n,e={}){const t=new Uint8Array(1);return t[0]=Number(n),typeof e.size=="number"?(Kf(t,{size:e.size}),Vf(t,{size:e.size})):t}const Wa={zero:48,nine:57,A:65,F:70,a:97,f:102};function rI(n){if(n>=Wa.zero&&n<=Wa.nine)return n-Wa.zero;if(n>=Wa.A&&n<=Wa.F)return n-(Wa.A-10);if(n>=Wa.a&&n<=Wa.f)return n-(Wa.a-10)}function ZD(n,e={}){let t=n;e.size&&(Kf(t,{size:e.size}),t=Vf(t,{dir:"right",size:e.size}));let r=t.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let c=0,u=0;c<s;c++){const h=rI(r.charCodeAt(u++)),d=rI(r.charCodeAt(u++));if(h===void 0||d===void 0)throw new Ou(`Invalid byte sequence ("${r[u-2]}${r[u-1]}" in "${r}").`);a[c]=h*16+d}return a}function m7(n,e){const t=QD(n,e);return ZD(t)}function JD(n,e={}){const t=f7.encode(n);return typeof e.size=="number"?(Kf(t,{size:e.size}),Vf(t,{dir:"right",size:e.size})):t}function tb(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function y7(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function qb(n,...e){if(!y7(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function ice(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");tb(n.outputLen),tb(n.blockLen)}function sI(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function w7(n,e){qb(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}const s0=BigInt(2**32-1),iI=BigInt(32);function b7(n,e=!1){return e?{h:Number(n&s0),l:Number(n>>iI&s0)}:{h:Number(n>>iI&s0)|0,l:Number(n&s0)|0}}function v7(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:a,l:c}=b7(n[s],e);[t[s],r[s]]=[a,c]}return[t,r]}const E7=(n,e,t)=>n<<t|e>>>32-t,A7=(n,e,t)=>e<<t|n>>>32-t,_7=(n,e,t)=>e<<t-32|n>>>64-t,C7=(n,e,t)=>n<<t-32|e>>>64-t,Fh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function S7(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function ace(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function oce(n,e){return n<<32-e|n>>>e}const aI=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function N7(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function oI(n){for(let e=0;e<n.length;e++)n[e]=N7(n[e])}function T7(n){if(typeof n!="string")throw new Error("utf8ToBytes expected string, got "+typeof n);return new Uint8Array(new TextEncoder().encode(n))}function XD(n){return typeof n=="string"&&(n=T7(n)),qb(n),n}function cce(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];qb(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const a=n[r];t.set(a,s),s+=a.length}return t}let O7=class{clone(){return this._cloneInto()}};function R7(n){const e=r=>n().update(XD(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function uce(n=32){if(Fh&&typeof Fh.getRandomValues=="function")return Fh.getRandomValues(new Uint8Array(n));if(Fh&&typeof Fh.randomBytes=="function")return Fh.randomBytes(n);throw new Error("crypto.getRandomValues must be defined")}const eU=[],tU=[],nU=[],I7=BigInt(0),hg=BigInt(1),x7=BigInt(2),P7=BigInt(7),D7=BigInt(256),U7=BigInt(113);for(let n=0,e=hg,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],eU.push(2*(5*r+t)),tU.push((n+1)*(n+2)/2%64);let s=I7;for(let a=0;a<7;a++)e=(e<<hg^(e>>P7)*U7)%D7,e&x7&&(s^=hg<<(hg<<BigInt(a))-hg);nU.push(s)}const[k7,B7]=v7(nU,!0),cI=(n,e,t)=>t>32?_7(n,e,t):E7(n,e,t),lI=(n,e,t)=>t>32?C7(n,e,t):A7(n,e,t);function M7(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)t[c]=n[c]^n[c+10]^n[c+20]^n[c+30]^n[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,h=(c+2)%10,d=t[h],p=t[h+1],m=cI(d,p,1)^t[u],y=lI(d,p,1)^t[u+1];for(let b=0;b<50;b+=10)n[c+b]^=m,n[c+b+1]^=y}let s=n[2],a=n[3];for(let c=0;c<24;c++){const u=tU[c],h=cI(s,a,u),d=lI(s,a,u),p=eU[c];s=n[p],a=n[p+1],n[p]=h,n[p+1]=d}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)t[u]=n[c+u];for(let u=0;u<10;u++)n[c+u]^=~t[(u+2)%10]&t[(u+4)%10]}n[0]^=k7[r],n[1]^=B7[r]}t.fill(0)}let L7=class rU extends O7{constructor(e,t,r,s=!1,a=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,tb(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=S7(this.state)}keccak(){aI||oI(this.state32),M7(this.state32,this.rounds),aI||oI(this.state32),this.posOut=0,this.pos=0}update(e){sI(this);const{blockLen:t,state:r}=this;e=XD(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(t-this.pos,s-a);for(let u=0;u<c;u++)r[this.pos++]^=e[a++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){sI(this,!1),qb(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,a=e.length;s<a;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,a-s);e.set(t.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return tb(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(w7(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:a,enableXOF:c}=this;return e||(e=new rU(t,r,s,c,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=s,e.enableXOF=c,e.destroyed=this.destroyed,e}};const $7=(n,e,t)=>R7(()=>new L7(e,n,t)),F7=$7(1,136,256/8);function sU(n,e){const t=e||"hex",r=F7(mm(n,{strict:!1})?p7(n):n);return t==="bytes"?r:N_(r)}class j7 extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&t!==void 0&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const h1=new j7(8192);function H7(n,e){if(h1.has(`${n}.${e}`))return h1.get(`${n}.${e}`);const t=n.substring(2).toLowerCase(),r=sU(JD(t),"bytes"),s=t.split("");for(let c=0;c<40;c+=2)r[c>>1]>>4>=8&&s[c]&&(s[c]=s[c].toUpperCase()),(r[c>>1]&15)>=8&&s[c+1]&&(s[c+1]=s[c+1].toUpperCase());const a=`0x${s.join("")}`;return h1.set(`${n}.${e}`,a),a}function z7(n){const e=sU(`0x${n.substring(4)}`).substring(26);return H7(`0x${e}`)}async function q7({hash:n,signature:e}){const t=mm(n)?n:N_(n),{secp256k1:r}=await kr(async()=>{const{secp256k1:c}=await import("./secp256k1-BEdrNmzA.js");return{secp256k1:c}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:d,s:p,v:m,yParity:y}=e,b=Number(y??m),E=uI(b);return new r.Signature(S_(d),S_(p)).addRecoveryBit(E)}const c=mm(e)?e:N_(e),u=c7(`0x${c.slice(130)}`),h=uI(u);return r.Signature.fromCompact(c.substring(2,130)).addRecoveryBit(h)})().recoverPublicKey(t.substring(2)).toHex(!1)}`}function uI(n){if(n===0||n===1)return n;if(n===27)return 0;if(n===28)return 1;throw new Error("Invalid yParityOrV value")}async function G7({hash:n,signature:e}){return z7(await q7({hash:n,signature:e}))}function V7(n){if(n.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let d=0;d<e.length;d++)e[d]=255;for(let d=0;d<n.length;d++){const p=n.charAt(d),m=p.charCodeAt(0);if(e[m]!==255)throw new TypeError(p+" is ambiguous");e[m]=d}const t=n.length,r=n.charAt(0),s=Math.log(t)/Math.log(256),a=Math.log(256)/Math.log(t);function c(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";let p=0,m=0,y=0;const b=d.length;for(;y!==b&&d[y]===0;)y++,p++;const E=(b-y)*a+1>>>0,v=new Uint8Array(E);for(;y!==b;){let I=d[y],P=0;for(let k=E-1;(I!==0||P<m)&&k!==-1;k--,P++)I+=256*v[k]>>>0,v[k]=I%t>>>0,I=I/t>>>0;if(I!==0)throw new Error("Non-zero carry");m=P,y++}let A=E-m;for(;A!==E&&v[A]===0;)A++;let N=r.repeat(p);for(;A<E;++A)N+=n.charAt(v[A]);return N}function u(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;let p=0,m=0,y=0;for(;d[p]===r;)m++,p++;const b=(d.length-p)*s+1>>>0,E=new Uint8Array(b);for(;p<d.length;){const I=d.charCodeAt(p);if(I>255)return;let P=e[I];if(P===255)return;let k=0;for(let U=b-1;(P!==0||k<y)&&U!==-1;U--,k++)P+=t*E[U]>>>0,E[U]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");y=k,p++}let v=b-y;for(;v!==b&&E[v]===0;)v++;const A=new Uint8Array(m+(b-v));let N=m;for(;v!==b;)A[N++]=E[v++];return A}function h(d){const p=u(d);if(p)return p;throw new Error("Non-base"+t+" character")}return{encode:c,decodeUnsafe:u,decode:h}}var K7="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const iU=V7(K7);function aU(n=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(n):new Uint8Array(n)}function Mg(n,e){e||(e=n.reduce((s,a)=>s+a.length,0));const t=aU(e);let r=0;for(const s of n)t.set(s,r),r+=s.length;return t}function W7(n,e){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var s=0;s<n.length;s++){var a=n.charAt(s),c=a.charCodeAt(0);if(t[c]!==255)throw new TypeError(a+" is ambiguous");t[c]=s}var u=n.length,h=n.charAt(0),d=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function m(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var v=0,A=0,N=0,I=E.length;N!==I&&E[N]===0;)N++,v++;for(var P=(I-N)*p+1>>>0,k=new Uint8Array(P);N!==I;){for(var U=E[N],O=0,B=P-1;(U!==0||O<A)&&B!==-1;B--,O++)U+=256*k[B]>>>0,k[B]=U%u>>>0,U=U/u>>>0;if(U!==0)throw new Error("Non-zero carry");A=O,N++}for(var M=P-A;M!==P&&k[M]===0;)M++;for(var $=h.repeat(v);M<P;++M)$+=n.charAt(k[M]);return $}function y(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var v=0;if(E[v]!==" "){for(var A=0,N=0;E[v]===h;)A++,v++;for(var I=(E.length-v)*d+1>>>0,P=new Uint8Array(I);E[v];){var k=t[E.charCodeAt(v)];if(k===255)return;for(var U=0,O=I-1;(k!==0||U<N)&&O!==-1;O--,U++)k+=u*P[O]>>>0,P[O]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");N=U,v++}if(E[v]!==" "){for(var B=I-N;B!==I&&P[B]===0;)B++;for(var M=new Uint8Array(A+(I-B)),$=A;B!==I;)M[$++]=P[B++];return M}}}function b(E){var v=y(E);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:y,decode:b}}var Y7=W7,Q7=Y7;const Z7=n=>{if(n instanceof Uint8Array&&n.constructor.name==="Uint8Array")return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")},J7=n=>new TextEncoder().encode(n),X7=n=>new TextDecoder().decode(n);class eH{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class tH{constructor(e,t,r){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return oU(this,e)}}class nH{constructor(e){this.decoders=e}or(e){return oU(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const oU=(n,e)=>new nH({...n.decoders||{[n.prefix]:n},...e.decoders||{[e.prefix]:e}});class rH{constructor(e,t,r,s){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=s,this.encoder=new eH(e,t,r),this.decoder=new tH(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Gb=({name:n,prefix:e,encode:t,decode:r})=>new rH(n,e,t,r),py=({prefix:n,name:e,alphabet:t})=>{const{encode:r,decode:s}=Q7(t,e);return Gb({prefix:n,name:e,encode:r,decode:a=>Z7(s(a))})},sH=(n,e,t,r)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let a=n.length;for(;n[a-1]==="=";)--a;const c=new Uint8Array(a*t/8|0);let u=0,h=0,d=0;for(let p=0;p<a;++p){const m=s[n[p]];if(m===void 0)throw new SyntaxError(`Non-${r} character`);h=h<<t|m,u+=t,u>=8&&(u-=8,c[d++]=255&h>>u)}if(u>=t||255&h<<8-u)throw new SyntaxError("Unexpected end of data");return c},iH=(n,e,t)=>{const r=e[e.length-1]==="=",s=(1<<t)-1;let a="",c=0,u=0;for(let h=0;h<n.length;++h)for(u=u<<8|n[h],c+=8;c>t;)c-=t,a+=e[s&u>>c];if(c&&(a+=e[s&u<<t-c]),r)for(;a.length*t&7;)a+="=";return a},mr=({name:n,prefix:e,bitsPerChar:t,alphabet:r})=>Gb({prefix:e,name:n,encode(s){return iH(s,r,t)},decode(s){return sH(s,r,t,n)}}),aH=Gb({prefix:"\0",name:"identity",encode:n=>X7(n),decode:n=>J7(n)}),oH=Object.freeze(Object.defineProperty({__proto__:null,identity:aH},Symbol.toStringTag,{value:"Module"})),cH=mr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),lH=Object.freeze(Object.defineProperty({__proto__:null,base2:cH},Symbol.toStringTag,{value:"Module"})),uH=mr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),hH=Object.freeze(Object.defineProperty({__proto__:null,base8:uH},Symbol.toStringTag,{value:"Module"})),dH=py({prefix:"9",name:"base10",alphabet:"0123456789"}),fH=Object.freeze(Object.defineProperty({__proto__:null,base10:dH},Symbol.toStringTag,{value:"Module"})),pH=mr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),gH=mr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),mH=Object.freeze(Object.defineProperty({__proto__:null,base16:pH,base16upper:gH},Symbol.toStringTag,{value:"Module"})),yH=mr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),wH=mr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),bH=mr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),vH=mr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),EH=mr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),AH=mr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),_H=mr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),CH=mr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),SH=mr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),NH=Object.freeze(Object.defineProperty({__proto__:null,base32:yH,base32hex:EH,base32hexpad:_H,base32hexpadupper:CH,base32hexupper:AH,base32pad:bH,base32padupper:vH,base32upper:wH,base32z:SH},Symbol.toStringTag,{value:"Module"})),TH=py({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),OH=py({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),RH=Object.freeze(Object.defineProperty({__proto__:null,base36:TH,base36upper:OH},Symbol.toStringTag,{value:"Module"})),IH=py({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),xH=py({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),PH=Object.freeze(Object.defineProperty({__proto__:null,base58btc:IH,base58flickr:xH},Symbol.toStringTag,{value:"Module"})),DH=mr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),UH=mr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),kH=mr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),BH=mr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),MH=Object.freeze(Object.defineProperty({__proto__:null,base64:DH,base64pad:UH,base64url:kH,base64urlpad:BH},Symbol.toStringTag,{value:"Module"})),cU=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),LH=cU.reduce((n,e,t)=>(n[t]=e,n),[]),$H=cU.reduce((n,e,t)=>(n[e.codePointAt(0)]=t,n),[]);function FH(n){return n.reduce((e,t)=>(e+=LH[t],e),"")}function jH(n){const e=[];for(const t of n){const r=$H[t.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(r)}return new Uint8Array(e)}const HH=Gb({prefix:"🚀",name:"base256emoji",encode:FH,decode:jH}),zH=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:HH},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const hI={...oH,...lH,...hH,...fH,...mH,...NH,...RH,...PH,...MH,...zH};function lU(n,e,t,r){return{name:n,prefix:e,encoder:{name:n,prefix:e,encode:t},decoder:{decode:r}}}const dI=lU("utf8","u",n=>"u"+new TextDecoder("utf8").decode(n),n=>new TextEncoder().encode(n.substring(1))),d1=lU("ascii","a",n=>{let e="a";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return e},n=>{n=n.substring(1);const e=aU(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}),uU={utf8:dI,"utf-8":dI,hex:hI.base16,latin1:d1,ascii:d1,binary:d1,...hI};function oi(n,e="utf8"){const t=uU[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(n,"utf8"):t.decoder.decode(`${t.prefix}${n}`)}function cs(n,e="utf8"){const t=uU[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(n.buffer,n.byteOffset,n.byteLength).toString("utf8"):t.encoder.encode(n).substring(1)}const qH={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var GH={};const VH=":";function Ed(n){const[e,t]=n.split(VH);return{namespace:e,reference:t}}function hU(n,e){return n.includes(":")?[n]:e.chains||[]}var KH=Object.defineProperty,WH=Object.defineProperties,YH=Object.getOwnPropertyDescriptors,fI=Object.getOwnPropertySymbols,QH=Object.prototype.hasOwnProperty,ZH=Object.prototype.propertyIsEnumerable,pI=(n,e,t)=>e in n?KH(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gI=(n,e)=>{for(var t in e||(e={}))QH.call(e,t)&&pI(n,t,e[t]);if(fI)for(var t of fI(e))ZH.call(e,t)&&pI(n,t,e[t]);return n},JH=(n,e)=>WH(n,YH(e));const XH="ReactNative",Ps={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},ez="js";function nb(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function el(){return!To.getDocument()&&!!To.getNavigator()&&navigator.product===XH}function tz(){return el()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function nz(){return el()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Wf(){return!nb()&&!!To.getNavigator()&&!!To.getDocument()}function gy(){return el()?Ps.reactNative:nb()?Ps.node:Wf()?Ps.browser:Ps.unknown}function mI(){var n;try{return el()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(n=global.Application)==null?void 0:n.applicationId:void 0}catch{return}}function rz(n,e){const t=new URLSearchParams(n);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const s=e[r];s!==void 0&&t.set(r,s)}return t.toString()}function sz(n){var e,t;const r=dU();try{return n!=null&&n.url&&r.url&&new URL(n.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${n.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),n.url=r.url),(e=n==null?void 0:n.icons)!=null&&e.length&&n.icons.length>0&&(n.icons=n.icons.filter(s=>s!=="")),JH(gI(gI({},r),n),{url:(n==null?void 0:n.url)||r.url,name:(n==null?void 0:n.name)||r.name,description:(n==null?void 0:n.description)||r.description,icons:(t=n==null?void 0:n.icons)!=null&&t.length&&n.icons.length>0?n.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),n||r}}function dU(){return r7.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function iz(){if(gy()===Ps.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:t,Version:r}=global.Platform;return[t,r].join("-")}const n=Qj();if(n===null)return"unknown";const e=n.os?n.os.replace(" ","").toLowerCase():"unknown";return n.type==="browser"?[e,n.name,n.version].join("-"):[e,n.version].join("-")}function az(){var n;const e=gy();return e===Ps.browser?[e,((n=To.getLocation())==null?void 0:n.host)||"unknown"].join(":"):e}function fU(n,e,t){const r=iz(),s=az();return[[n,e].join("-"),[ez,t].join("-"),r,s].join("/")}function oz({protocol:n,version:e,relayUrl:t,sdkVersion:r,auth:s,projectId:a,useOnCloseEvent:c,bundleId:u,packageName:h}){const d=t.split("?"),p=fU(n,e,r),m={auth:s,ua:p,projectId:a,useOnCloseEvent:c,packageName:h||void 0,bundleId:u||void 0},y=rz(d[1]||"",m);return d[0]+"?"+y}function zl(n,e){return n.filter(t=>e.includes(t)).length===n.length}function T_(n){return Object.fromEntries(n.entries())}function O_(n){return new Map(Object.entries(n))}function Il(n=ve.FIVE_MINUTES,e){const t=ve.toMiliseconds(n||ve.FIVE_MINUTES);let r,s,a,c;return{resolve:u=>{a&&r&&(clearTimeout(a),r(u),c=Promise.resolve(u))},reject:u=>{a&&s&&(clearTimeout(a),s(u))},done:()=>new Promise((u,h)=>{if(c)return u(c);a=setTimeout(()=>{const d=new Error(e);c=Promise.reject(d),h(d)},t),r=u,s=h})}}function Lc(n,e,t){return new Promise(async(r,s)=>{const a=setTimeout(()=>s(new Error(t)),e);try{const c=await n;r(c)}catch(c){s(c)}clearTimeout(a)})}function pU(n,e){if(typeof e=="string"&&e.startsWith(`${n}:`))return e;if(n.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(n.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${n}`)}function cz(n){return pU("topic",n)}function lz(n){return pU("id",n)}function gU(n){const[e,t]=n.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")r.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))r.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return r}function Bn(n,e){return ve.fromMiliseconds(Date.now()+ve.toMiliseconds(n))}function mc(n){return Date.now()>=ve.toMiliseconds(n)}function xt(n,e){return`${n}${e?`:${e}`:""}`}function Aa(n=[],e=[]){return[...new Set([...n,...e])]}async function uz({id:n,topic:e,wcDeepLink:t}){var r;try{if(!t)return;const s=typeof t=="string"?JSON.parse(t):t,a=s==null?void 0:s.href;if(typeof a!="string")return;const c=hz(a,n,e),u=gy();if(u===Ps.browser){if(!((r=To.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}dz(c)}else u===Ps.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(c)}catch(s){console.error(s)}}function hz(n,e,t){const r=`requestId=${e}&sessionTopic=${t}`;n.endsWith("/")&&(n=n.slice(0,-1));let s=`${n}`;if(n.startsWith("https://t.me")){const a=n.includes("?")?"&startapp=":"?startapp=";s=`${s}${a}${mz(r,!0)}`}else s=`${s}/wc?${r}`;return s}function dz(n){let e="_self";gz()?e="_top":(pz()||n.startsWith("https://")||n.startsWith("http://"))&&(e="_blank"),window.open(n,e,"noreferrer noopener")}async function fz(n,e){let t="";try{if(Wf()&&(t=localStorage.getItem(e),t))return t;t=await n.getItem(e)}catch(r){console.error(r)}return t}function yI(n,e){if(!n.includes(e))return null;const t=n.split(/([&,?,=])/),r=t.indexOf(e);return t[r+2]}function wI(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,n=>{const e=Math.random()*16|0;return(n==="x"?e:e&3|8).toString(16)})}function oS(){return typeof process<"u"&&GH.IS_VITEST==="true"}function pz(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function gz(){try{return window.self!==window.top}catch{return!1}}function mz(n,e=!1){const t=Buffer.from(n).toString("base64");return e?t.replace(/[=]/g,""):t}function mU(n){return Buffer.from(n,"base64").toString("utf-8")}function yz(n){return new Promise(e=>setTimeout(e,n))}function ym(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function wz(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function my(n,...e){if(!wz(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function cS(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ym(n.outputLen),ym(n.blockLen)}function Cf(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function yU(n,e){my(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}const i0=BigInt(2**32-1),bI=BigInt(32);function bz(n,e=!1){return e?{h:Number(n&i0),l:Number(n>>bI&i0)}:{h:Number(n>>bI&i0)|0,l:Number(n&i0)|0}}function vz(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:a,l:c}=bz(n[s],e);[t[s],r[s]]=[a,c]}return[t,r]}const Ez=(n,e,t)=>n<<t|e>>>32-t,Az=(n,e,t)=>e<<t|n>>>32-t,_z=(n,e,t)=>e<<t-32|n>>>64-t,Cz=(n,e,t)=>n<<t-32|e>>>64-t,jh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Sz(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function f1(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function Yi(n,e){return n<<32-e|n>>>e}const vI=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Nz(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function EI(n){for(let e=0;e<n.length;e++)n[e]=Nz(n[e])}function Tz(n){if(typeof n!="string")throw new Error("utf8ToBytes expected string, got "+typeof n);return new Uint8Array(new TextEncoder().encode(n))}function Sf(n){return typeof n=="string"&&(n=Tz(n)),my(n),n}function Oz(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];my(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const a=n[r];t.set(a,s),s+=a.length}return t}let lS=class{clone(){return this._cloneInto()}};function wU(n){const e=r=>n().update(Sf(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function Yf(n=32){if(jh&&typeof jh.getRandomValues=="function")return jh.getRandomValues(new Uint8Array(n));if(jh&&typeof jh.randomBytes=="function")return jh.randomBytes(n);throw new Error("crypto.getRandomValues must be defined")}const bU=[],vU=[],EU=[],Rz=BigInt(0),dg=BigInt(1),Iz=BigInt(2),xz=BigInt(7),Pz=BigInt(256),Dz=BigInt(113);for(let n=0,e=dg,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],bU.push(2*(5*r+t)),vU.push((n+1)*(n+2)/2%64);let s=Rz;for(let a=0;a<7;a++)e=(e<<dg^(e>>xz)*Dz)%Pz,e&Iz&&(s^=dg<<(dg<<BigInt(a))-dg);EU.push(s)}const[Uz,kz]=vz(EU,!0),AI=(n,e,t)=>t>32?_z(n,e,t):Ez(n,e,t),_I=(n,e,t)=>t>32?Cz(n,e,t):Az(n,e,t);function Bz(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)t[c]=n[c]^n[c+10]^n[c+20]^n[c+30]^n[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,h=(c+2)%10,d=t[h],p=t[h+1],m=AI(d,p,1)^t[u],y=_I(d,p,1)^t[u+1];for(let b=0;b<50;b+=10)n[c+b]^=m,n[c+b+1]^=y}let s=n[2],a=n[3];for(let c=0;c<24;c++){const u=vU[c],h=AI(s,a,u),d=_I(s,a,u),p=bU[c];s=n[p],a=n[p+1],n[p]=h,n[p+1]=d}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)t[u]=n[c+u];for(let u=0;u<10;u++)n[c+u]^=~t[(u+2)%10]&t[(u+4)%10]}n[0]^=Uz[r],n[1]^=kz[r]}t.fill(0)}let Mz=class AU extends lS{constructor(e,t,r,s=!1,a=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ym(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Sz(this.state)}keccak(){vI||EI(this.state32),Bz(this.state32,this.rounds),vI||EI(this.state32),this.posOut=0,this.pos=0}update(e){Cf(this);const{blockLen:t,state:r}=this;e=Sf(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(t-this.pos,s-a);for(let u=0;u<c;u++)r[this.pos++]^=e[a++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Cf(this,!1),my(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,a=e.length;s<a;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,a-s);e.set(t.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ym(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(yU(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:a,enableXOF:c}=this;return e||(e=new AU(t,r,s,c,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=s,e.enableXOF=c,e.destroyed=this.destroyed,e}};const Lz=(n,e,t)=>wU(()=>new Mz(e,n,t)),$z=Lz(1,136,256/8),Fz="https://rpc.walletconnect.org/v1";function _U(n){const e=`Ethereum Signed Message:
${n.length}`,t=new TextEncoder().encode(e+n);return"0x"+Buffer.from($z(t)).toString("hex")}async function jz(n,e,t,r,s,a){switch(t.t){case"eip191":return await Hz(n,e,t.s);case"eip1271":return await zz(n,e,t.s,r,s,a);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${t.t}`)}}async function Hz(n,e,t){return(await G7({hash:_U(e),signature:t})).toLowerCase()===n.toLowerCase()}async function zz(n,e,t,r,s,a){const c=Ed(r);if(!c.namespace||!c.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const u="0x1626ba7e",h="0000000000000000000000000000000000000000000000000000000000000040",d="0000000000000000000000000000000000000000000000000000000000000041",p=t.substring(2),m=_U(e).substring(2),y=u+m+h+d+p,b=await fetch(`${a||Fz}/?chainId=${r}&projectId=${s}`,{method:"POST",body:JSON.stringify({id:qz(),jsonrpc:"2.0",method:"eth_call",params:[{to:n,data:y},"latest"]})}),{result:E}=await b.json();return E?E.slice(0,u.length).toLowerCase()===u.toLowerCase():!1}catch(u){return console.error("isValidEip1271Signature: ",u),!1}}function qz(){return Date.now()+Math.floor(Math.random()*1e3)}function Gz(n){const e=atob(n),t=new Uint8Array(e.length);for(let c=0;c<e.length;c++)t[c]=e.charCodeAt(c);const r=t[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(t.length<s)throw new Error("Transaction data too short for claimed signature count");if(t.length<100)throw new Error("Transaction too short");const a=Buffer.from(n,"base64").slice(1,65);return iU.encode(a)}var Vz=Object.defineProperty,Kz=Object.defineProperties,Wz=Object.getOwnPropertyDescriptors,CI=Object.getOwnPropertySymbols,Yz=Object.prototype.hasOwnProperty,Qz=Object.prototype.propertyIsEnumerable,SI=(n,e,t)=>e in n?Vz(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Zz=(n,e)=>{for(var t in e||(e={}))Yz.call(e,t)&&SI(n,t,e[t]);if(CI)for(var t of CI(e))Qz.call(e,t)&&SI(n,t,e[t]);return n},Jz=(n,e)=>Kz(n,Wz(e));const Xz="did:pkh:",uS=n=>n==null?void 0:n.split(":"),eq=n=>{const e=n&&uS(n);if(e)return n.includes(Xz)?e[3]:e[1]},R_=n=>{const e=n&&uS(n);if(e)return e[2]+":"+e[3]},rb=n=>{const e=n&&uS(n);if(e)return e.pop()};async function NI(n){const{cacao:e,projectId:t}=n,{s:r,p:s}=e,a=CU(s,s.iss),c=rb(s.iss);return await jz(c,a,r,R_(s.iss),t)}const CU=(n,e)=>{const t=`${n.domain} wants you to sign in with your Ethereum account:`,r=rb(e);if(!n.aud&&!n.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=n.statement||void 0;const a=`URI: ${n.aud||n.uri}`,c=`Version: ${n.version}`,u=`Chain ID: ${eq(e)}`,h=`Nonce: ${n.nonce}`,d=`Issued At: ${n.iat}`,p=n.exp?`Expiration Time: ${n.exp}`:void 0,m=n.nbf?`Not Before: ${n.nbf}`:void 0,y=n.requestId?`Request ID: ${n.requestId}`:void 0,b=n.resources?`Resources:${n.resources.map(v=>`
- ${v}`).join("")}`:void 0,E=I0(n.resources);if(E){const v=wm(E);s=lq(s,v)}return[t,r,"",s,"",a,c,u,h,d,p,m,y,b].filter(v=>v!=null).join(`
`)};function tq(n){return Buffer.from(JSON.stringify(n)).toString("base64")}function nq(n){return JSON.parse(Buffer.from(n,"base64").toString("utf-8"))}function Ru(n){if(!n)throw new Error("No recap provided, value is undefined");if(!n.att)throw new Error("No `att` property found");const e=Object.keys(n.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(t=>{const r=n.att[t];if(Array.isArray(r))throw new Error(`Resource must be an object: ${t}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${t}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${t}`);Object.keys(r).forEach(s=>{const a=r[s];if(!Array.isArray(a))throw new Error(`Ability limits ${s} must be an array of objects, found: ${a}`);if(!a.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);a.forEach(c=>{if(typeof c!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${c}`)})})})}function rq(n,e,t,r={}){return t==null||t.sort((s,a)=>s.localeCompare(a)),{att:{[n]:sq(e,t,r)}}}function sq(n,e,t={}){e=e==null?void 0:e.sort((s,a)=>s.localeCompare(a));const r=e.map(s=>({[`${n}/${s}`]:[t]}));return Object.assign({},...r)}function SU(n){return Ru(n),`urn:recap:${tq(n).replace(/=/g,"")}`}function wm(n){const e=nq(n.replace("urn:recap:",""));return Ru(e),e}function iq(n,e,t){const r=rq(n,e,t);return SU(r)}function aq(n){return n&&n.includes("urn:recap:")}function oq(n,e){const t=wm(n),r=wm(e),s=cq(t,r);return SU(s)}function cq(n,e){Ru(n),Ru(e);const t=Object.keys(n.att).concat(Object.keys(e.att)).sort((s,a)=>s.localeCompare(a)),r={att:{}};return t.forEach(s=>{var a,c;Object.keys(((a=n.att)==null?void 0:a[s])||{}).concat(Object.keys(((c=e.att)==null?void 0:c[s])||{})).sort((u,h)=>u.localeCompare(h)).forEach(u=>{var h,d;r.att[s]=Jz(Zz({},r.att[s]),{[u]:((h=n.att[s])==null?void 0:h[u])||((d=e.att[s])==null?void 0:d[u])})})}),r}function lq(n="",e){Ru(e);const t="I further authorize the stated URI to perform the following actions on my behalf: ";if(n.includes(t))return n;const r=[];let s=0;Object.keys(e.att).forEach(u=>{const h=Object.keys(e.att[u]).map(m=>({ability:m.split("/")[0],action:m.split("/")[1]}));h.sort((m,y)=>m.action.localeCompare(y.action));const d={};h.forEach(m=>{d[m.ability]||(d[m.ability]=[]),d[m.ability].push(m.action)});const p=Object.keys(d).map(m=>(s++,`(${s}) '${m}': '${d[m].join("', '")}' for '${u}'.`));r.push(p.join(", ").replace(".,","."))});const a=r.join(" "),c=`${t}${a}`;return`${n?n+" ":""}${c}`}function TI(n){var e;const t=wm(n);Ru(t);const r=(e=t.att)==null?void 0:e.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function OI(n){const e=wm(n);Ru(e);const t=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(s=>{var a;(a=s==null?void 0:s[0])!=null&&a.chains&&t.push(s[0].chains)})}),[...new Set(t.flat())]}function I0(n){if(!n)return;const e=n==null?void 0:n[n.length-1];return aq(e)?e:void 0}function p1(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function NU(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function Is(n,...e){if(!NU(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function RI(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function uq(n,e){Is(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function II(n){if(typeof n!="boolean")throw new Error(`boolean expected, not ${n}`)}const Fc=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),hq=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),dq=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!dq)throw new Error("Non little-endian hardware is not supported");function fq(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function I_(n){if(typeof n=="string")n=fq(n);else if(NU(n))n=x_(n);else throw new Error("Uint8Array expected, got "+typeof n);return n}function pq(n,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(n,e)}function gq(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}const mq=(n,e)=>{function t(r,...s){if(Is(r),n.nonceLength!==void 0){const d=s[0];if(!d)throw new Error("nonce / iv required");n.varSizeNonce?Is(d):Is(d,n.nonceLength)}const a=n.tagLength;a&&s[1]!==void 0&&Is(s[1]);const c=e(r,...s),u=(d,p)=>{if(p!==void 0){if(d!==2)throw new Error("cipher output not supported");Is(p)}};let h=!1;return{encrypt(d,p){if(h)throw new Error("cannot encrypt() twice with same key + nonce");return h=!0,Is(d),u(c.encrypt.length,p),c.encrypt(d,p)},decrypt(d,p){if(Is(d),a&&d.length<a)throw new Error("invalid ciphertext length: smaller than tagLength="+a);return u(c.decrypt.length,p),c.decrypt(d,p)}}}return Object.assign(t,n),t};function xI(n,e,t=!0){if(e===void 0)return new Uint8Array(n);if(e.length!==n)throw new Error("invalid output length, expected "+n+", got: "+e.length);if(t&&!yq(e))throw new Error("invalid output, must be aligned");return e}function PI(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),a=BigInt(4294967295),c=Number(t>>s&a),u=Number(t&a);n.setUint32(e+4,c,r),n.setUint32(e+0,u,r)}function yq(n){return n.byteOffset%4===0}function x_(n){return Uint8Array.from(n)}function Nf(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}const TU=n=>Uint8Array.from(n.split("").map(e=>e.charCodeAt(0))),wq=TU("expand 16-byte k"),bq=TU("expand 32-byte k"),vq=Fc(wq),Eq=Fc(bq);function Ct(n,e){return n<<e|n>>>32-e}function P_(n){return n.byteOffset%4===0}const a0=64,Aq=16,OU=2**32-1,DI=new Uint32Array;function _q(n,e,t,r,s,a,c,u){const h=s.length,d=new Uint8Array(a0),p=Fc(d),m=P_(s)&&P_(a),y=m?Fc(s):DI,b=m?Fc(a):DI;for(let E=0;E<h;c++){if(n(e,t,r,p,c,u),c>=OU)throw new Error("arx: counter overflow");const v=Math.min(a0,h-E);if(m&&v===a0){const A=E/4;if(E%4!==0)throw new Error("arx: invalid block position");for(let N=0,I;N<Aq;N++)I=A+N,b[I]=y[I]^p[N];E+=a0;continue}for(let A=0,N;A<v;A++)N=E+A,a[N]=s[N]^d[A];E+=v}}function Cq(n,e){const{allowShortKeys:t,extendNonceFn:r,counterLength:s,counterRight:a,rounds:c}=pq({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof n!="function")throw new Error("core must be a function");return p1(s),p1(c),II(a),II(t),(u,h,d,p,m=0)=>{Is(u),Is(h),Is(d);const y=d.length;if(p===void 0&&(p=new Uint8Array(y)),Is(p),p1(m),m<0||m>=OU)throw new Error("arx: counter overflow");if(p.length<y)throw new Error(`arx: output (${p.length}) is shorter than data (${y})`);const b=[];let E=u.length,v,A;if(E===32)b.push(v=x_(u)),A=Eq;else if(E===16&&t)v=new Uint8Array(32),v.set(u),v.set(u,16),A=vq,b.push(v);else throw new Error(`arx: invalid 32-byte key, got length=${E}`);P_(h)||b.push(h=x_(h));const N=Fc(v);if(r){if(h.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(A,N,Fc(h.subarray(0,16)),N),h=h.subarray(16)}const I=16-s;if(I!==h.length)throw new Error(`arx: nonce must be ${I} or 16 bytes`);if(I!==12){const k=new Uint8Array(12);k.set(h,a?0:12-h.length),h=k,b.push(h)}const P=Fc(h);return _q(n,A,N,P,d,p,m,c),Nf(...b),p}}const rr=(n,e)=>n[e++]&255|(n[e++]&255)<<8;class Sq{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=I_(e),Is(e,32);const t=rr(e,0),r=rr(e,2),s=rr(e,4),a=rr(e,6),c=rr(e,8),u=rr(e,10),h=rr(e,12),d=rr(e,14);this.r[0]=t&8191,this.r[1]=(t>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|a<<9)&8191,this.r[4]=(a>>>4|c<<12)&255,this.r[5]=c>>>1&8190,this.r[6]=(c>>>14|u<<2)&8191,this.r[7]=(u>>>11|h<<5)&8065,this.r[8]=(h>>>8|d<<8)&8191,this.r[9]=d>>>5&127;for(let p=0;p<8;p++)this.pad[p]=rr(e,16+2*p)}process(e,t,r=!1){const s=r?0:2048,{h:a,r:c}=this,u=c[0],h=c[1],d=c[2],p=c[3],m=c[4],y=c[5],b=c[6],E=c[7],v=c[8],A=c[9],N=rr(e,t+0),I=rr(e,t+2),P=rr(e,t+4),k=rr(e,t+6),U=rr(e,t+8),O=rr(e,t+10),B=rr(e,t+12),M=rr(e,t+14);let $=a[0]+(N&8191),q=a[1]+((N>>>13|I<<3)&8191),V=a[2]+((I>>>10|P<<6)&8191),te=a[3]+((P>>>7|k<<9)&8191),de=a[4]+((k>>>4|U<<12)&8191),Z=a[5]+(U>>>1&8191),T=a[6]+((U>>>14|O<<2)&8191),C=a[7]+((O>>>11|B<<5)&8191),L=a[8]+((B>>>8|M<<8)&8191),z=a[9]+(M>>>5|s),G=0,R=G+$*u+q*(5*A)+V*(5*v)+te*(5*E)+de*(5*b);G=R>>>13,R&=8191,R+=Z*(5*y)+T*(5*m)+C*(5*p)+L*(5*d)+z*(5*h),G+=R>>>13,R&=8191;let W=G+$*h+q*u+V*(5*A)+te*(5*v)+de*(5*E);G=W>>>13,W&=8191,W+=Z*(5*b)+T*(5*y)+C*(5*m)+L*(5*p)+z*(5*d),G+=W>>>13,W&=8191;let ne=G+$*d+q*h+V*u+te*(5*A)+de*(5*v);G=ne>>>13,ne&=8191,ne+=Z*(5*E)+T*(5*b)+C*(5*y)+L*(5*m)+z*(5*p),G+=ne>>>13,ne&=8191;let ae=G+$*p+q*d+V*h+te*u+de*(5*A);G=ae>>>13,ae&=8191,ae+=Z*(5*v)+T*(5*E)+C*(5*b)+L*(5*y)+z*(5*m),G+=ae>>>13,ae&=8191;let oe=G+$*m+q*p+V*d+te*h+de*u;G=oe>>>13,oe&=8191,oe+=Z*(5*A)+T*(5*v)+C*(5*E)+L*(5*b)+z*(5*y),G+=oe>>>13,oe&=8191;let ye=G+$*y+q*m+V*p+te*d+de*h;G=ye>>>13,ye&=8191,ye+=Z*u+T*(5*A)+C*(5*v)+L*(5*E)+z*(5*b),G+=ye>>>13,ye&=8191;let me=G+$*b+q*y+V*m+te*p+de*d;G=me>>>13,me&=8191,me+=Z*h+T*u+C*(5*A)+L*(5*v)+z*(5*E),G+=me>>>13,me&=8191;let Ke=G+$*E+q*b+V*y+te*m+de*p;G=Ke>>>13,Ke&=8191,Ke+=Z*d+T*h+C*u+L*(5*A)+z*(5*v),G+=Ke>>>13,Ke&=8191;let Be=G+$*v+q*E+V*b+te*y+de*m;G=Be>>>13,Be&=8191,Be+=Z*p+T*d+C*h+L*u+z*(5*A),G+=Be>>>13,Be&=8191;let We=G+$*A+q*v+V*E+te*b+de*y;G=We>>>13,We&=8191,We+=Z*m+T*p+C*d+L*h+z*u,G+=We>>>13,We&=8191,G=(G<<2)+G|0,G=G+R|0,R=G&8191,G=G>>>13,W+=G,a[0]=R,a[1]=W,a[2]=ne,a[3]=ae,a[4]=oe,a[5]=ye,a[6]=me,a[7]=Ke,a[8]=Be,a[9]=We}finalize(){const{h:e,pad:t}=this,r=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let u=2;u<10;u++)e[u]+=s,s=e[u]>>>13,e[u]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,r[0]=e[0]+5,s=r[0]>>>13,r[0]&=8191;for(let u=1;u<10;u++)r[u]=e[u]+s,s=r[u]>>>13,r[u]&=8191;r[9]-=8192;let a=(s^1)-1;for(let u=0;u<10;u++)r[u]&=a;a=~a;for(let u=0;u<10;u++)e[u]=e[u]&a|r[u];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let c=e[0]+t[0];e[0]=c&65535;for(let u=1;u<8;u++)c=(e[u]+t[u]|0)+(c>>>16)|0,e[u]=c&65535;Nf(r)}update(e){RI(this);const{buffer:t,blockLen:r}=this;e=I_(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(r-this.pos,s-a);if(c===r){for(;r<=s-a;a+=r)this.process(e,a);continue}t.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===r&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){Nf(this.h,this.r,this.buffer,this.pad)}digestInto(e){RI(this),uq(e,this),this.finished=!0;const{buffer:t,h:r}=this;let{pos:s}=this;if(s){for(t[s++]=1;s<16;s++)t[s]=0;this.process(t,0,!0)}this.finalize();let a=0;for(let c=0;c<8;c++)e[a++]=r[c]>>>0,e[a++]=r[c]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}}function Nq(n){const e=(r,s)=>n(s).update(I_(r)).digest(),t=n(new Uint8Array(32));return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=r=>n(r),e}const Tq=Nq(n=>new Sq(n));function Oq(n,e,t,r,s,a=20){let c=n[0],u=n[1],h=n[2],d=n[3],p=e[0],m=e[1],y=e[2],b=e[3],E=e[4],v=e[5],A=e[6],N=e[7],I=s,P=t[0],k=t[1],U=t[2],O=c,B=u,M=h,$=d,q=p,V=m,te=y,de=b,Z=E,T=v,C=A,L=N,z=I,G=P,R=k,W=U;for(let ae=0;ae<a;ae+=2)O=O+q|0,z=Ct(z^O,16),Z=Z+z|0,q=Ct(q^Z,12),O=O+q|0,z=Ct(z^O,8),Z=Z+z|0,q=Ct(q^Z,7),B=B+V|0,G=Ct(G^B,16),T=T+G|0,V=Ct(V^T,12),B=B+V|0,G=Ct(G^B,8),T=T+G|0,V=Ct(V^T,7),M=M+te|0,R=Ct(R^M,16),C=C+R|0,te=Ct(te^C,12),M=M+te|0,R=Ct(R^M,8),C=C+R|0,te=Ct(te^C,7),$=$+de|0,W=Ct(W^$,16),L=L+W|0,de=Ct(de^L,12),$=$+de|0,W=Ct(W^$,8),L=L+W|0,de=Ct(de^L,7),O=O+V|0,W=Ct(W^O,16),C=C+W|0,V=Ct(V^C,12),O=O+V|0,W=Ct(W^O,8),C=C+W|0,V=Ct(V^C,7),B=B+te|0,z=Ct(z^B,16),L=L+z|0,te=Ct(te^L,12),B=B+te|0,z=Ct(z^B,8),L=L+z|0,te=Ct(te^L,7),M=M+de|0,G=Ct(G^M,16),Z=Z+G|0,de=Ct(de^Z,12),M=M+de|0,G=Ct(G^M,8),Z=Z+G|0,de=Ct(de^Z,7),$=$+q|0,R=Ct(R^$,16),T=T+R|0,q=Ct(q^T,12),$=$+q|0,R=Ct(R^$,8),T=T+R|0,q=Ct(q^T,7);let ne=0;r[ne++]=c+O|0,r[ne++]=u+B|0,r[ne++]=h+M|0,r[ne++]=d+$|0,r[ne++]=p+q|0,r[ne++]=m+V|0,r[ne++]=y+te|0,r[ne++]=b+de|0,r[ne++]=E+Z|0,r[ne++]=v+T|0,r[ne++]=A+C|0,r[ne++]=N+L|0,r[ne++]=I+z|0,r[ne++]=P+G|0,r[ne++]=k+R|0,r[ne++]=U+W|0}const Rq=Cq(Oq,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Iq=new Uint8Array(16),UI=(n,e)=>{n.update(e);const t=e.length%16;t&&n.update(Iq.subarray(t))},xq=new Uint8Array(32);function kI(n,e,t,r,s){const a=n(e,t,xq),c=Tq.create(a);s&&UI(c,s),UI(c,r);const u=new Uint8Array(16),h=hq(u);PI(h,0,BigInt(s?s.length:0),!0),PI(h,8,BigInt(r.length),!0),c.update(u);const d=c.digest();return Nf(a,u),d}const Pq=n=>(e,t,r)=>({encrypt(s,a){const c=s.length;a=xI(c+16,a,!1),a.set(s);const u=a.subarray(0,-16);n(e,t,u,u,1);const h=kI(n,e,t,u,r);return a.set(h,c),Nf(h),a},decrypt(s,a){a=xI(s.length-16,a,!1);const c=s.subarray(0,-16),u=s.subarray(-16),h=kI(n,e,t,c,r);if(!gq(u,h))throw new Error("invalid tag");return a.set(s.subarray(0,-16)),n(e,t,a,a,1),Nf(h),a}}),RU=mq({blockSize:64,nonceLength:12,tagLength:16},Pq(Rq));let IU=class extends lS{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,cS(e);const r=Sf(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(r.length>s?e.create().update(r).digest():r);for(let c=0;c<a.length;c++)a[c]^=54;this.iHash.update(a),this.oHash=e.create();for(let c=0;c<a.length;c++)a[c]^=106;this.oHash.update(a),a.fill(0)}update(e){return Cf(this),this.iHash.update(e),this}digestInto(e){Cf(this),my(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:a,blockLen:c,outputLen:u}=this;return e=e,e.finished=s,e.destroyed=a,e.blockLen=c,e.outputLen=u,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Vb=(n,e,t)=>new IU(n,e).update(t).digest();Vb.create=(n,e)=>new IU(n,e);function Dq(n,e,t){return cS(n),t===void 0&&(t=new Uint8Array(n.outputLen)),Vb(n,Sf(t),Sf(e))}const g1=new Uint8Array([0]),BI=new Uint8Array;function Uq(n,e,t,r=32){if(cS(n),ym(r),r>255*n.outputLen)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/n.outputLen);t===void 0&&(t=BI);const a=new Uint8Array(s*n.outputLen),c=Vb.create(n,e),u=c._cloneInto(),h=new Uint8Array(c.outputLen);for(let d=0;d<s;d++)g1[0]=d+1,u.update(d===0?BI:h).update(t).update(g1).digestInto(h),a.set(h,n.outputLen*d),c._cloneInto(u);return c.destroy(),u.destroy(),h.fill(0),g1.fill(0),a.slice(0,r)}const kq=(n,e,t,r,s)=>Uq(n,Dq(n,e,t),r,s);function Bq(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),a=BigInt(4294967295),c=Number(t>>s&a),u=Number(t&a),h=r?4:0,d=r?0:4;n.setUint32(e+h,c,r),n.setUint32(e+d,u,r)}function Mq(n,e,t){return n&e^~n&t}function Lq(n,e,t){return n&e^n&t^e&t}let $q=class extends lS{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=f1(this.buffer)}update(e){Cf(this);const{view:t,buffer:r,blockLen:s}=this;e=Sf(e);const a=e.length;for(let c=0;c<a;){const u=Math.min(s-this.pos,a-c);if(u===s){const h=f1(e);for(;s<=a-c;c+=s)this.process(h,c);continue}r.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Cf(this),yU(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:a}=this;let{pos:c}=this;t[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(r,0),c=0);for(let m=c;m<s;m++)t[m]=0;Bq(r,s-8,BigInt(this.length*8),a),this.process(r,0);const u=f1(e),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=h/4,p=this.get();if(d>p.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<d;m++)u.setUint32(4*m,p[m],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:a,destroyed:c,pos:u}=this;return e.length=s,e.pos=u,e.finished=a,e.destroyed=c,s%t&&e.buffer.set(r),e}};const Fq=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),cc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),lc=new Uint32Array(64);class jq extends $q{constructor(){super(64,32,8,!1),this.A=cc[0]|0,this.B=cc[1]|0,this.C=cc[2]|0,this.D=cc[3]|0,this.E=cc[4]|0,this.F=cc[5]|0,this.G=cc[6]|0,this.H=cc[7]|0}get(){const{A:e,B:t,C:r,D:s,E:a,F:c,G:u,H:h}=this;return[e,t,r,s,a,c,u,h]}set(e,t,r,s,a,c,u,h){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=a|0,this.F=c|0,this.G=u|0,this.H=h|0}process(e,t){for(let m=0;m<16;m++,t+=4)lc[m]=e.getUint32(t,!1);for(let m=16;m<64;m++){const y=lc[m-15],b=lc[m-2],E=Yi(y,7)^Yi(y,18)^y>>>3,v=Yi(b,17)^Yi(b,19)^b>>>10;lc[m]=v+lc[m-7]+E+lc[m-16]|0}let{A:r,B:s,C:a,D:c,E:u,F:h,G:d,H:p}=this;for(let m=0;m<64;m++){const y=Yi(u,6)^Yi(u,11)^Yi(u,25),b=p+y+Mq(u,h,d)+Fq[m]+lc[m]|0,E=(Yi(r,2)^Yi(r,13)^Yi(r,22))+Lq(r,s,a)|0;p=d,d=h,h=u,u=c+b|0,c=a,a=s,s=r,r=b+E|0}r=r+this.A|0,s=s+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,h=h+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(r,s,a,c,u,h,d,p)}roundClean(){lc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const yy=wU(()=>new jq);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Kb=BigInt(0),Wb=BigInt(1),Hq=BigInt(2);function Iu(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function wy(n){if(!Iu(n))throw new Error("Uint8Array expected")}function Tf(n,e){if(typeof e!="boolean")throw new Error(n+" boolean expected, got "+e)}const zq=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Of(n){wy(n);let e="";for(let t=0;t<n.length;t++)e+=zq[n[t]];return e}function fd(n){const e=n.toString(16);return e.length&1?"0"+e:e}function hS(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?Kb:BigInt("0x"+n)}const Ya={_0:48,_9:57,A:65,F:70,a:97,f:102};function MI(n){if(n>=Ya._0&&n<=Ya._9)return n-Ya._0;if(n>=Ya.A&&n<=Ya.F)return n-(Ya.A-10);if(n>=Ya.a&&n<=Ya.f)return n-(Ya.a-10)}function Rf(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,a=0;s<t;s++,a+=2){const c=MI(n.charCodeAt(a)),u=MI(n.charCodeAt(a+1));if(c===void 0||u===void 0){const h=n[a]+n[a+1];throw new Error('hex string expected, got non-hex character "'+h+'" at index '+a)}r[s]=c*16+u}return r}function bu(n){return hS(Of(n))}function bm(n){return wy(n),hS(Of(Uint8Array.from(n).reverse()))}function If(n,e){return Rf(n.toString(16).padStart(e*2,"0"))}function Yb(n,e){return If(n,e).reverse()}function qq(n){return Rf(fd(n))}function Rs(n,e,t){let r;if(typeof e=="string")try{r=Rf(e)}catch(a){throw new Error(n+" must be hex string or Uint8Array, cause: "+a)}else if(Iu(e))r=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(n+" of length "+t+" expected, got "+s);return r}function vm(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];wy(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const a=n[r];t.set(a,s),s+=a.length}return t}function Gq(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function Vq(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}const m1=n=>typeof n=="bigint"&&Kb<=n;function Qb(n,e,t){return m1(n)&&m1(e)&&m1(t)&&e<=n&&n<t}function Ao(n,e,t,r){if(!Qb(e,t,r))throw new Error("expected valid "+n+": "+t+" <= n < "+r+", got "+e)}function xU(n){let e;for(e=0;n>Kb;n>>=Wb,e+=1);return e}function Kq(n,e){return n>>BigInt(e)&Wb}function Wq(n,e,t){return n|(t?Wb:Kb)<<BigInt(e)}const dS=n=>(Hq<<BigInt(n-1))-Wb,y1=n=>new Uint8Array(n),LI=n=>Uint8Array.from(n);function PU(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=y1(n),s=y1(n),a=0;const c=()=>{r.fill(1),s.fill(0),a=0},u=(...p)=>t(s,r,...p),h=(p=y1())=>{s=u(LI([0]),p),r=u(),p.length!==0&&(s=u(LI([1]),p),r=u())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const m=[];for(;p<e;){r=u();const y=r.slice();m.push(y),p+=r.length}return vm(...m)};return(p,m)=>{c(),h(p);let y;for(;!(y=m(d()));)h();return c(),y}}const Yq={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||Iu(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Qf(n,e,t={}){const r=(s,a,c)=>{const u=Yq[a];if(typeof u!="function")throw new Error("invalid validator function");const h=n[s];if(!(c&&h===void 0)&&!u(h,n))throw new Error("param "+String(s)+" is invalid. Expected "+a+", got "+h)};for(const[s,a]of Object.entries(e))r(s,a,!1);for(const[s,a]of Object.entries(t))r(s,a,!0);return n}const Qq=()=>{throw new Error("not implemented")};function D_(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const a=n(t,...r);return e.set(t,a),a}}var Zq=Object.freeze({__proto__:null,isBytes:Iu,abytes:wy,abool:Tf,bytesToHex:Of,numberToHexUnpadded:fd,hexToNumber:hS,hexToBytes:Rf,bytesToNumberBE:bu,bytesToNumberLE:bm,numberToBytesBE:If,numberToBytesLE:Yb,numberToVarBytesBE:qq,ensureBytes:Rs,concatBytes:vm,equalBytes:Gq,utf8ToBytes:Vq,inRange:Qb,aInRange:Ao,bitLen:xU,bitGet:Kq,bitSet:Wq,bitMask:dS,createHmacDrbg:PU,validateObject:Qf,notImplemented:Qq,memoized:D_});const Jn=BigInt(0),Nn=BigInt(1),Ul=BigInt(2),Jq=BigInt(3),U_=BigInt(4),$I=BigInt(5),FI=BigInt(8);function is(n,e){const t=n%e;return t>=Jn?t:e+t}function DU(n,e,t){if(e<Jn)throw new Error("invalid exponent, negatives unsupported");if(t<=Jn)throw new Error("invalid modulus");if(t===Nn)return Jn;let r=Nn;for(;e>Jn;)e&Nn&&(r=r*n%t),n=n*n%t,e>>=Nn;return r}function bi(n,e,t){let r=n;for(;e-- >Jn;)r*=r,r%=t;return r}function k_(n,e){if(n===Jn)throw new Error("invert: expected non-zero number");if(e<=Jn)throw new Error("invert: expected positive modulus, got "+e);let t=is(n,e),r=e,s=Jn,a=Nn;for(;t!==Jn;){const c=r/t,u=r%t,h=s-a*c;r=t,t=u,s=a,a=h}if(r!==Nn)throw new Error("invert: does not exist");return is(s,e)}function Xq(n){const e=(n-Nn)/Ul;let t,r,s;for(t=n-Nn,r=0;t%Ul===Jn;t/=Ul,r++);for(s=Ul;s<n&&DU(s,e,n)!==n-Nn;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const c=(n+Nn)/U_;return function(u,h){const d=u.pow(h,c);if(!u.eql(u.sqr(d),h))throw new Error("Cannot find square root");return d}}const a=(t+Nn)/Ul;return function(c,u){if(c.pow(u,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let h=r,d=c.pow(c.mul(c.ONE,s),t),p=c.pow(u,a),m=c.pow(u,t);for(;!c.eql(m,c.ONE);){if(c.eql(m,c.ZERO))return c.ZERO;let y=1;for(let E=c.sqr(m);y<h&&!c.eql(E,c.ONE);y++)E=c.sqr(E);const b=c.pow(d,Nn<<BigInt(h-y-1));d=c.sqr(b),p=c.mul(p,b),m=c.mul(m,d),h=y}return p}}function eG(n){if(n%U_===Jq){const e=(n+Nn)/U_;return function(t,r){const s=t.pow(r,e);if(!t.eql(t.sqr(s),r))throw new Error("Cannot find square root");return s}}if(n%FI===$I){const e=(n-$I)/FI;return function(t,r){const s=t.mul(r,Ul),a=t.pow(s,e),c=t.mul(r,a),u=t.mul(t.mul(c,Ul),a),h=t.mul(c,t.sub(u,t.ONE));if(!t.eql(t.sqr(h),r))throw new Error("Cannot find square root");return h}}return Xq(n)}const tG=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nG(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=tG.reduce((r,s)=>(r[s]="function",r),e);return Qf(n,t)}function rG(n,e,t){if(t<Jn)throw new Error("invalid exponent, negatives unsupported");if(t===Jn)return n.ONE;if(t===Nn)return e;let r=n.ONE,s=e;for(;t>Jn;)t&Nn&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Nn;return r}function sG(n,e){const t=new Array(e.length),r=e.reduce((a,c,u)=>n.is0(c)?a:(t[u]=a,n.mul(a,c)),n.ONE),s=n.inv(r);return e.reduceRight((a,c,u)=>n.is0(c)?a:(t[u]=n.mul(a,t[u]),n.mul(a,c)),s),t}function UU(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function kU(n,e,t=!1,r={}){if(n<=Jn)throw new Error("invalid field: expected ORDER > 0, got "+n);const{nBitLength:s,nByteLength:a}=UU(n,e);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const u=Object.freeze({ORDER:n,isLE:t,BITS:s,BYTES:a,MASK:dS(s),ZERO:Jn,ONE:Nn,create:h=>is(h,n),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return Jn<=h&&h<n},is0:h=>h===Jn,isOdd:h=>(h&Nn)===Nn,neg:h=>is(-h,n),eql:(h,d)=>h===d,sqr:h=>is(h*h,n),add:(h,d)=>is(h+d,n),sub:(h,d)=>is(h-d,n),mul:(h,d)=>is(h*d,n),pow:(h,d)=>rG(u,h,d),div:(h,d)=>is(h*k_(d,n),n),sqrN:h=>h*h,addN:(h,d)=>h+d,subN:(h,d)=>h-d,mulN:(h,d)=>h*d,inv:h=>k_(h,n),sqrt:r.sqrt||(h=>(c||(c=eG(n)),c(u,h))),invertBatch:h=>sG(u,h),cmov:(h,d,p)=>p?d:h,toBytes:h=>t?Yb(h,a):If(h,a),fromBytes:h=>{if(h.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+h.length);return t?bm(h):bu(h)}});return Object.freeze(u)}function BU(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function MU(n){const e=BU(n);return e+Math.ceil(e/2)}function iG(n,e,t=!1){const r=n.length,s=BU(e),a=MU(e);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const c=t?bm(n):bu(n),u=is(c,e-Nn)+Nn;return t?Yb(u,s):If(u,s)}const jI=BigInt(0),o0=BigInt(1);function w1(n,e){const t=e.negate();return n?t:e}function LU(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function b1(n,e){LU(n,e);const t=Math.ceil(e/n)+1,r=2**(n-1);return{windows:t,windowSize:r}}function aG(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)})}function oG(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)})}const v1=new WeakMap,$U=new WeakMap;function E1(n){return $U.get(n)||1}function cG(n,e){return{constTimeNegate:w1,hasPrecomputes(t){return E1(t)!==1},unsafeLadder(t,r,s=n.ZERO){let a=t;for(;r>jI;)r&o0&&(s=s.add(a)),a=a.double(),r>>=o0;return s},precomputeWindow(t,r){const{windows:s,windowSize:a}=b1(r,e),c=[];let u=t,h=u;for(let d=0;d<s;d++){h=u,c.push(h);for(let p=1;p<a;p++)h=h.add(u),c.push(h);u=h.double()}return c},wNAF(t,r,s){const{windows:a,windowSize:c}=b1(t,e);let u=n.ZERO,h=n.BASE;const d=BigInt(2**t-1),p=2**t,m=BigInt(t);for(let y=0;y<a;y++){const b=y*c;let E=Number(s&d);s>>=m,E>c&&(E-=p,s+=o0);const v=b,A=b+Math.abs(E)-1,N=y%2!==0,I=E<0;E===0?h=h.add(w1(N,r[v])):u=u.add(w1(I,r[A]))}return{p:u,f:h}},wNAFUnsafe(t,r,s,a=n.ZERO){const{windows:c,windowSize:u}=b1(t,e),h=BigInt(2**t-1),d=2**t,p=BigInt(t);for(let m=0;m<c;m++){const y=m*u;if(s===jI)break;let b=Number(s&h);if(s>>=p,b>u&&(b-=d,s+=o0),b===0)continue;let E=r[y+Math.abs(b)-1];b<0&&(E=E.negate()),a=a.add(E)}return a},getPrecomputes(t,r,s){let a=v1.get(r);return a||(a=this.precomputeWindow(r,t),t!==1&&v1.set(r,s(a))),a},wNAFCached(t,r,s){const a=E1(t);return this.wNAF(a,this.getPrecomputes(a,t,s),r)},wNAFCachedUnsafe(t,r,s,a){const c=E1(t);return c===1?this.unsafeLadder(t,r,a):this.wNAFUnsafe(c,this.getPrecomputes(c,t,s),r,a)},setWindowSize(t,r){LU(r,e),$U.set(t,r),v1.delete(t)}}}function lG(n,e,t,r){if(aG(t,n),oG(r,e),t.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=n.ZERO,a=xU(BigInt(t.length)),c=a>12?a-3:a>4?a-2:a?2:1,u=(1<<c)-1,h=new Array(u+1).fill(s),d=Math.floor((e.BITS-1)/c)*c;let p=s;for(let m=d;m>=0;m-=c){h.fill(s);for(let b=0;b<r.length;b++){const E=r[b],v=Number(E>>BigInt(m)&BigInt(u));h[v]=h[v].add(t[b])}let y=s;for(let b=h.length-1,E=s;b>0;b--)E=E.add(h[b]),y=y.add(E);if(p=p.add(y),m!==0)for(let b=0;b<c;b++)p=p.double()}return p}function FU(n){return nG(n.Fp),Qf(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...UU(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Hh=BigInt(0),A1=BigInt(1);function uG(n){return Qf(n,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...n})}function hG(n){const e=uG(n),{P:t}=e,r=I=>is(I,t),s=e.montgomeryBits,a=Math.ceil(s/8),c=e.nByteLength,u=e.adjustScalarBytes||(I=>I),h=e.powPminus2||(I=>DU(I,t-BigInt(2),t));function d(I,P,k){const U=r(I*(P-k));return P=r(P-U),k=r(k+U),[P,k]}const p=(e.a-BigInt(2))/BigInt(4);function m(I,P){Ao("u",I,Hh,t),Ao("scalar",P,Hh,t);const k=P,U=I;let O=A1,B=Hh,M=I,$=A1,q=Hh,V;for(let de=BigInt(s-1);de>=Hh;de--){const Z=k>>de&A1;q^=Z,V=d(q,O,M),O=V[0],M=V[1],V=d(q,B,$),B=V[0],$=V[1],q=Z;const T=O+B,C=r(T*T),L=O-B,z=r(L*L),G=C-z,R=M+$,W=M-$,ne=r(W*T),ae=r(R*L),oe=ne+ae,ye=ne-ae;M=r(oe*oe),$=r(U*r(ye*ye)),O=r(C*z),B=r(G*(C+r(p*G)))}V=d(q,O,M),O=V[0],M=V[1],V=d(q,B,$),B=V[0],$=V[1];const te=h(B);return r(O*te)}function y(I){return Yb(r(I),a)}function b(I){const P=Rs("u coordinate",I,a);return c===32&&(P[31]&=127),bm(P)}function E(I){const P=Rs("scalar",I),k=P.length;if(k!==a&&k!==c){let U=""+a+" or "+c;throw new Error("invalid scalar, expected "+U+" bytes, got "+k)}return bm(u(P))}function v(I,P){const k=b(P),U=E(I),O=m(k,U);if(O===Hh)throw new Error("invalid private or public key received");return y(O)}const A=y(e.Gu);function N(I){return v(I,A)}return{scalarMult:v,scalarMultBase:N,getSharedSecret:(I,P)=>v(I,P),getPublicKey:I=>N(I),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:A}}const B_=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const dG=BigInt(1),HI=BigInt(2),fG=BigInt(3),pG=BigInt(5);BigInt(8);function gG(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),a=B_,c=n*n%a*n%a,u=bi(c,HI,a)*c%a,h=bi(u,dG,a)*n%a,d=bi(h,pG,a)*h%a,p=bi(d,e,a)*d%a,m=bi(p,t,a)*p%a,y=bi(m,r,a)*m%a,b=bi(y,s,a)*y%a,E=bi(b,s,a)*y%a,v=bi(E,e,a)*d%a;return{pow_p_5_8:bi(v,HI,a)*n%a,b2:c}}function mG(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}const M_=hG({P:B_,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:n=>{const e=B_,{pow_p_5_8:t,b2:r}=gG(n);return is(bi(t,fG,e)*r,e)},adjustScalarBytes:mG,randomBytes:Yf});function zI(n){n.lowS!==void 0&&Tf("lowS",n.lowS),n.prehash!==void 0&&Tf("prehash",n.prehash)}function yG(n){const e=FU(n);Qf(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:wG,hexToBytes:bG}=Zq;class vG extends Error{constructor(e=""){super(e)}}const ro={Err:vG,_tlv:{encode:(n,e)=>{const{Err:t}=ro;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const r=e.length/2,s=fd(r);if(s.length/2&128)throw new t("tlv.encode: long form length too big");const a=r>127?fd(s.length/2|128):"";return fd(n)+a+s+e},decode(n,e){const{Err:t}=ro;let r=0;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[r++]!==n)throw new t("tlv.decode: wrong tlv");const s=e[r++],a=!!(s&128);let c=0;if(!a)c=s;else{const h=s&127;if(!h)throw new t("tlv.decode(long): indefinite length not supported");if(h>4)throw new t("tlv.decode(long): byte length is too big");const d=e.subarray(r,r+h);if(d.length!==h)throw new t("tlv.decode: length bytes not complete");if(d[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const p of d)c=c<<8|p;if(r+=h,c<128)throw new t("tlv.decode(long): not minimal encoding")}const u=e.subarray(r,r+c);if(u.length!==c)throw new t("tlv.decode: wrong value length");return{v:u,l:e.subarray(r+c)}}},_int:{encode(n){const{Err:e}=ro;if(n<yo)throw new e("integer: negative integers are not allowed");let t=fd(n);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(n){const{Err:e}=ro;if(n[0]&128)throw new e("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return wG(n)}},toSig(n){const{Err:e,_int:t,_tlv:r}=ro,s=typeof n=="string"?bG(n):n;wy(s);const{v:a,l:c}=r.decode(48,s);if(c.length)throw new e("invalid signature: left bytes after parsing");const{v:u,l:h}=r.decode(2,a),{v:d,l:p}=r.decode(2,h);if(p.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(u),s:t.decode(d)}},hexFromSig(n){const{_tlv:e,_int:t}=ro,r=e.encode(2,t.encode(n.r)),s=e.encode(2,t.encode(n.s)),a=r+s;return e.encode(48,a)}},yo=BigInt(0),Vn=BigInt(1);BigInt(2);const qI=BigInt(3);BigInt(4);function EG(n){const e=yG(n),{Fp:t}=e,r=kU(e.n,e.nBitLength),s=e.toBytes||((v,A,N)=>{const I=A.toAffine();return vm(Uint8Array.from([4]),t.toBytes(I.x),t.toBytes(I.y))}),a=e.fromBytes||(v=>{const A=v.subarray(1),N=t.fromBytes(A.subarray(0,t.BYTES)),I=t.fromBytes(A.subarray(t.BYTES,2*t.BYTES));return{x:N,y:I}});function c(v){const{a:A,b:N}=e,I=t.sqr(v),P=t.mul(I,v);return t.add(t.add(P,t.mul(v,A)),N)}if(!t.eql(t.sqr(e.Gy),c(e.Gx)))throw new Error("bad generator point: equation left != right");function u(v){return Qb(v,Vn,e.n)}function h(v){const{allowedPrivateKeyLengths:A,nByteLength:N,wrapPrivateKey:I,n:P}=e;if(A&&typeof v!="bigint"){if(Iu(v)&&(v=Of(v)),typeof v!="string"||!A.includes(v.length))throw new Error("invalid private key");v=v.padStart(N*2,"0")}let k;try{k=typeof v=="bigint"?v:bu(Rs("private key",v,N))}catch{throw new Error("invalid private key, expected hex or "+N+" bytes, got "+typeof v)}return I&&(k=is(k,P)),Ao("private key",k,Vn,P),k}function d(v){if(!(v instanceof y))throw new Error("ProjectivePoint expected")}const p=D_((v,A)=>{const{px:N,py:I,pz:P}=v;if(t.eql(P,t.ONE))return{x:N,y:I};const k=v.is0();A==null&&(A=k?t.ONE:t.inv(P));const U=t.mul(N,A),O=t.mul(I,A),B=t.mul(P,A);if(k)return{x:t.ZERO,y:t.ZERO};if(!t.eql(B,t.ONE))throw new Error("invZ was invalid");return{x:U,y:O}}),m=D_(v=>{if(v.is0()){if(e.allowInfinityPoint&&!t.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:A,y:N}=v.toAffine();if(!t.isValid(A)||!t.isValid(N))throw new Error("bad point: x or y not FE");const I=t.sqr(N),P=c(A);if(!t.eql(I,P))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class y{constructor(A,N,I){if(this.px=A,this.py=N,this.pz=I,A==null||!t.isValid(A))throw new Error("x required");if(N==null||!t.isValid(N))throw new Error("y required");if(I==null||!t.isValid(I))throw new Error("z required");Object.freeze(this)}static fromAffine(A){const{x:N,y:I}=A||{};if(!A||!t.isValid(N)||!t.isValid(I))throw new Error("invalid affine point");if(A instanceof y)throw new Error("projective point not allowed");const P=k=>t.eql(k,t.ZERO);return P(N)&&P(I)?y.ZERO:new y(N,I,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const N=t.invertBatch(A.map(I=>I.pz));return A.map((I,P)=>I.toAffine(N[P])).map(y.fromAffine)}static fromHex(A){const N=y.fromAffine(a(Rs("pointHex",A)));return N.assertValidity(),N}static fromPrivateKey(A){return y.BASE.multiply(h(A))}static msm(A,N){return lG(y,r,A,N)}_setWindowSize(A){E.setWindowSize(this,A)}assertValidity(){m(this)}hasEvenY(){const{y:A}=this.toAffine();if(t.isOdd)return!t.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){d(A);const{px:N,py:I,pz:P}=this,{px:k,py:U,pz:O}=A,B=t.eql(t.mul(N,O),t.mul(k,P)),M=t.eql(t.mul(I,O),t.mul(U,P));return B&&M}negate(){return new y(this.px,t.neg(this.py),this.pz)}double(){const{a:A,b:N}=e,I=t.mul(N,qI),{px:P,py:k,pz:U}=this;let O=t.ZERO,B=t.ZERO,M=t.ZERO,$=t.mul(P,P),q=t.mul(k,k),V=t.mul(U,U),te=t.mul(P,k);return te=t.add(te,te),M=t.mul(P,U),M=t.add(M,M),O=t.mul(A,M),B=t.mul(I,V),B=t.add(O,B),O=t.sub(q,B),B=t.add(q,B),B=t.mul(O,B),O=t.mul(te,O),M=t.mul(I,M),V=t.mul(A,V),te=t.sub($,V),te=t.mul(A,te),te=t.add(te,M),M=t.add($,$),$=t.add(M,$),$=t.add($,V),$=t.mul($,te),B=t.add(B,$),V=t.mul(k,U),V=t.add(V,V),$=t.mul(V,te),O=t.sub(O,$),M=t.mul(V,q),M=t.add(M,M),M=t.add(M,M),new y(O,B,M)}add(A){d(A);const{px:N,py:I,pz:P}=this,{px:k,py:U,pz:O}=A;let B=t.ZERO,M=t.ZERO,$=t.ZERO;const q=e.a,V=t.mul(e.b,qI);let te=t.mul(N,k),de=t.mul(I,U),Z=t.mul(P,O),T=t.add(N,I),C=t.add(k,U);T=t.mul(T,C),C=t.add(te,de),T=t.sub(T,C),C=t.add(N,P);let L=t.add(k,O);return C=t.mul(C,L),L=t.add(te,Z),C=t.sub(C,L),L=t.add(I,P),B=t.add(U,O),L=t.mul(L,B),B=t.add(de,Z),L=t.sub(L,B),$=t.mul(q,C),B=t.mul(V,Z),$=t.add(B,$),B=t.sub(de,$),$=t.add(de,$),M=t.mul(B,$),de=t.add(te,te),de=t.add(de,te),Z=t.mul(q,Z),C=t.mul(V,C),de=t.add(de,Z),Z=t.sub(te,Z),Z=t.mul(q,Z),C=t.add(C,Z),te=t.mul(de,C),M=t.add(M,te),te=t.mul(L,C),B=t.mul(T,B),B=t.sub(B,te),te=t.mul(T,de),$=t.mul(L,$),$=t.add($,te),new y(B,M,$)}subtract(A){return this.add(A.negate())}is0(){return this.equals(y.ZERO)}wNAF(A){return E.wNAFCached(this,A,y.normalizeZ)}multiplyUnsafe(A){const{endo:N,n:I}=e;Ao("scalar",A,yo,I);const P=y.ZERO;if(A===yo)return P;if(this.is0()||A===Vn)return this;if(!N||E.hasPrecomputes(this))return E.wNAFCachedUnsafe(this,A,y.normalizeZ);let{k1neg:k,k1:U,k2neg:O,k2:B}=N.splitScalar(A),M=P,$=P,q=this;for(;U>yo||B>yo;)U&Vn&&(M=M.add(q)),B&Vn&&($=$.add(q)),q=q.double(),U>>=Vn,B>>=Vn;return k&&(M=M.negate()),O&&($=$.negate()),$=new y(t.mul($.px,N.beta),$.py,$.pz),M.add($)}multiply(A){const{endo:N,n:I}=e;Ao("scalar",A,Vn,I);let P,k;if(N){const{k1neg:U,k1:O,k2neg:B,k2:M}=N.splitScalar(A);let{p:$,f:q}=this.wNAF(O),{p:V,f:te}=this.wNAF(M);$=E.constTimeNegate(U,$),V=E.constTimeNegate(B,V),V=new y(t.mul(V.px,N.beta),V.py,V.pz),P=$.add(V),k=q.add(te)}else{const{p:U,f:O}=this.wNAF(A);P=U,k=O}return y.normalizeZ([P,k])[0]}multiplyAndAddUnsafe(A,N,I){const P=y.BASE,k=(O,B)=>B===yo||B===Vn||!O.equals(P)?O.multiplyUnsafe(B):O.multiply(B),U=k(this,N).add(k(A,I));return U.is0()?void 0:U}toAffine(A){return p(this,A)}isTorsionFree(){const{h:A,isTorsionFree:N}=e;if(A===Vn)return!0;if(N)return N(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:N}=e;return A===Vn?this:N?N(y,this):this.multiplyUnsafe(e.h)}toRawBytes(A=!0){return Tf("isCompressed",A),this.assertValidity(),s(y,this,A)}toHex(A=!0){return Tf("isCompressed",A),Of(this.toRawBytes(A))}}y.BASE=new y(e.Gx,e.Gy,t.ONE),y.ZERO=new y(t.ZERO,t.ONE,t.ZERO);const b=e.nBitLength,E=cG(y,e.endo?Math.ceil(b/2):b);return{CURVE:e,ProjectivePoint:y,normPrivateKeyToScalar:h,weierstrassEquation:c,isWithinCurveOrder:u}}function AG(n){const e=FU(n);return Qf(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function _G(n){const e=AG(n),{Fp:t,n:r}=e,s=t.BYTES+1,a=2*t.BYTES+1;function c(Z){return is(Z,r)}function u(Z){return k_(Z,r)}const{ProjectivePoint:h,normPrivateKeyToScalar:d,weierstrassEquation:p,isWithinCurveOrder:m}=EG({...e,toBytes(Z,T,C){const L=T.toAffine(),z=t.toBytes(L.x),G=vm;return Tf("isCompressed",C),C?G(Uint8Array.from([T.hasEvenY()?2:3]),z):G(Uint8Array.from([4]),z,t.toBytes(L.y))},fromBytes(Z){const T=Z.length,C=Z[0],L=Z.subarray(1);if(T===s&&(C===2||C===3)){const z=bu(L);if(!Qb(z,Vn,t.ORDER))throw new Error("Point is not on curve");const G=p(z);let R;try{R=t.sqrt(G)}catch(ne){const ae=ne instanceof Error?": "+ne.message:"";throw new Error("Point is not on curve"+ae)}const W=(R&Vn)===Vn;return(C&1)===1!==W&&(R=t.neg(R)),{x:z,y:R}}else if(T===a&&C===4){const z=t.fromBytes(L.subarray(0,t.BYTES)),G=t.fromBytes(L.subarray(t.BYTES,2*t.BYTES));return{x:z,y:G}}else{const z=s,G=a;throw new Error("invalid Point, expected length of "+z+", or uncompressed "+G+", got "+T)}}}),y=Z=>Of(If(Z,e.nByteLength));function b(Z){const T=r>>Vn;return Z>T}function E(Z){return b(Z)?c(-Z):Z}const v=(Z,T,C)=>bu(Z.slice(T,C));class A{constructor(T,C,L){this.r=T,this.s=C,this.recovery=L,this.assertValidity()}static fromCompact(T){const C=e.nByteLength;return T=Rs("compactSignature",T,C*2),new A(v(T,0,C),v(T,C,2*C))}static fromDER(T){const{r:C,s:L}=ro.toSig(Rs("DER",T));return new A(C,L)}assertValidity(){Ao("r",this.r,Vn,r),Ao("s",this.s,Vn,r)}addRecoveryBit(T){return new A(this.r,this.s,T)}recoverPublicKey(T){const{r:C,s:L,recovery:z}=this,G=O(Rs("msgHash",T));if(z==null||![0,1,2,3].includes(z))throw new Error("recovery id invalid");const R=z===2||z===3?C+e.n:C;if(R>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const W=(z&1)===0?"02":"03",ne=h.fromHex(W+y(R)),ae=u(R),oe=c(-G*ae),ye=c(L*ae),me=h.BASE.multiplyAndAddUnsafe(ne,oe,ye);if(!me)throw new Error("point at infinify");return me.assertValidity(),me}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Rf(this.toDERHex())}toDERHex(){return ro.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Rf(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const N={isValidPrivateKey(Z){try{return d(Z),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const Z=MU(e.n);return iG(e.randomBytes(Z),e.n)},precompute(Z=8,T=h.BASE){return T._setWindowSize(Z),T.multiply(BigInt(3)),T}};function I(Z,T=!0){return h.fromPrivateKey(Z).toRawBytes(T)}function P(Z){const T=Iu(Z),C=typeof Z=="string",L=(T||C)&&Z.length;return T?L===s||L===a:C?L===2*s||L===2*a:Z instanceof h}function k(Z,T,C=!0){if(P(Z))throw new Error("first arg must be private key");if(!P(T))throw new Error("second arg must be public key");return h.fromHex(T).multiply(d(Z)).toRawBytes(C)}const U=e.bits2int||function(Z){if(Z.length>8192)throw new Error("input is too large");const T=bu(Z),C=Z.length*8-e.nBitLength;return C>0?T>>BigInt(C):T},O=e.bits2int_modN||function(Z){return c(U(Z))},B=dS(e.nBitLength);function M(Z){return Ao("num < 2^"+e.nBitLength,Z,yo,B),If(Z,e.nByteLength)}function $(Z,T,C=q){if(["recovered","canonical"].some(Be=>Be in C))throw new Error("sign() legacy options not supported");const{hash:L,randomBytes:z}=e;let{lowS:G,prehash:R,extraEntropy:W}=C;G==null&&(G=!0),Z=Rs("msgHash",Z),zI(C),R&&(Z=Rs("prehashed msgHash",L(Z)));const ne=O(Z),ae=d(T),oe=[M(ae),M(ne)];if(W!=null&&W!==!1){const Be=W===!0?z(t.BYTES):W;oe.push(Rs("extraEntropy",Be))}const ye=vm(...oe),me=ne;function Ke(Be){const We=U(Be);if(!m(We))return;const Kt=u(We),an=h.BASE.multiply(We).toAffine(),tn=c(an.x);if(tn===yo)return;const Lt=c(Kt*c(me+tn*ae));if(Lt===yo)return;let fn=(an.x===tn?0:2)|Number(an.y&Vn),hi=Lt;return G&&b(Lt)&&(hi=E(Lt),fn^=1),new A(tn,hi,fn)}return{seed:ye,k2sig:Ke}}const q={lowS:e.lowS,prehash:!1},V={lowS:e.lowS,prehash:!1};function te(Z,T,C=q){const{seed:L,k2sig:z}=$(Z,T,C),G=e;return PU(G.hash.outputLen,G.nByteLength,G.hmac)(L,z)}h.BASE._setWindowSize(8);function de(Z,T,C,L=V){var Lt;const z=Z;T=Rs("msgHash",T),C=Rs("publicKey",C);const{lowS:G,prehash:R,format:W}=L;if(zI(L),"strict"in L)throw new Error("options.strict was renamed to lowS");if(W!==void 0&&W!=="compact"&&W!=="der")throw new Error("format must be compact or der");const ne=typeof z=="string"||Iu(z),ae=!ne&&!W&&typeof z=="object"&&z!==null&&typeof z.r=="bigint"&&typeof z.s=="bigint";if(!ne&&!ae)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let oe,ye;try{if(ae&&(oe=new A(z.r,z.s)),ne){try{W!=="compact"&&(oe=A.fromDER(z))}catch(fn){if(!(fn instanceof ro.Err))throw fn}!oe&&W!=="der"&&(oe=A.fromCompact(z))}ye=h.fromHex(C)}catch{return!1}if(!oe||G&&oe.hasHighS())return!1;R&&(T=e.hash(T));const{r:me,s:Ke}=oe,Be=O(T),We=u(Ke),Kt=c(Be*We),an=c(me*We),tn=(Lt=h.BASE.multiplyAndAddUnsafe(ye,Kt,an))==null?void 0:Lt.toAffine();return tn?c(tn.x)===me:!1}return{CURVE:e,getPublicKey:I,getSharedSecret:k,sign:te,verify:de,ProjectivePoint:h,Signature:A,utils:N}}function CG(n){return{hash:n,hmac:(e,...t)=>Vb(n,e,Oz(...t)),randomBytes:Yf}}function SG(n,e){const t=r=>_G({...n,...CG(r)});return{...t(e),create:t}}const jU=kU(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),NG=jU.create(BigInt("-3")),TG=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),OG=SG({a:NG,b:TG,Fp:jU,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},yy),HU="base10",jr="base16",Di="base64pad",wc="base64url",by="utf8",zU=0,_o=1,vy=2,RG=0,GI=1,Lg=12,fS=32;function IG(){const n=M_.utils.randomPrivateKey(),e=M_.getPublicKey(n);return{privateKey:cs(n,jr),publicKey:cs(e,jr)}}function L_(){const n=Yf(fS);return cs(n,jr)}function xG(n,e){const t=M_.getSharedSecret(oi(n,jr),oi(e,jr)),r=kq(yy,t,void 0,void 0,fS);return cs(r,jr)}function x0(n){const e=yy(oi(n,jr));return cs(e,jr)}function fa(n){const e=yy(oi(n,by));return cs(e,jr)}function qU(n){return oi(`${n}`,HU)}function xu(n){return Number(cs(n,HU))}function GU(n){return n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function VU(n){const e=n.replace(/-/g,"+").replace(/_/g,"/"),t=(4-e.length%4)%4;return e+"=".repeat(t)}function PG(n){const e=qU(typeof n.type<"u"?n.type:zU);if(xu(e)===_o&&typeof n.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof n.senderPublicKey<"u"?oi(n.senderPublicKey,jr):void 0,r=typeof n.iv<"u"?oi(n.iv,jr):Yf(Lg),s=oi(n.symKey,jr),a=RU(s,r).encrypt(oi(n.message,by)),c=KU({type:e,sealed:a,iv:r,senderPublicKey:t});return n.encoding===wc?GU(c):c}function DG(n){const e=oi(n.symKey,jr),{sealed:t,iv:r}=Em({encoded:n.encoded,encoding:n.encoding}),s=RU(e,r).decrypt(t);if(s===null)throw new Error("Failed to decrypt");return cs(s,by)}function UG(n,e){const t=qU(vy),r=Yf(Lg),s=oi(n,by),a=KU({type:t,sealed:s,iv:r});return e===wc?GU(a):a}function kG(n,e){const{sealed:t}=Em({encoded:n,encoding:e});return cs(t,by)}function KU(n){if(xu(n.type)===vy)return cs(Mg([n.type,n.sealed]),Di);if(xu(n.type)===_o){if(typeof n.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return cs(Mg([n.type,n.senderPublicKey,n.iv,n.sealed]),Di)}return cs(Mg([n.type,n.iv,n.sealed]),Di)}function Em(n){const e=(n.encoding||Di)===wc?VU(n.encoded):n.encoded,t=oi(e,Di),r=t.slice(RG,GI),s=GI;if(xu(r)===_o){const h=s+fS,d=h+Lg,p=t.slice(s,h),m=t.slice(h,d),y=t.slice(d);return{type:r,sealed:y,iv:m,senderPublicKey:p}}if(xu(r)===vy){const h=t.slice(s),d=Yf(Lg);return{type:r,sealed:h,iv:d}}const a=s+Lg,c=t.slice(s,a),u=t.slice(a);return{type:r,sealed:u,iv:c}}function BG(n,e){const t=Em({encoded:n,encoding:e==null?void 0:e.encoding});return WU({type:xu(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?cs(t.senderPublicKey,jr):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function WU(n){const e=(n==null?void 0:n.type)||zU;if(e===_o){if(typeof(n==null?void 0:n.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(n==null?void 0:n.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:n==null?void 0:n.senderPublicKey,receiverPublicKey:n==null?void 0:n.receiverPublicKey}}function VI(n){return n.type===_o&&typeof n.senderPublicKey=="string"&&typeof n.receiverPublicKey=="string"}function KI(n){return n.type===vy}function MG(n){const e=Buffer.from(n.x,"base64"),t=Buffer.from(n.y,"base64");return Mg([new Uint8Array([4]),e,t])}function LG(n,e){const[t,r,s]=n.split("."),a=Buffer.from(VU(s),"base64");if(a.length!==64)throw new Error("Invalid signature length");const c=a.slice(0,32),u=a.slice(32,64),h=`${t}.${r}`,d=yy(h),p=MG(e);if(!OG.verify(Mg([c,u]),d,p))throw new Error("Invalid signature");return C_(n).payload}const $G="irn";function sb(n){return(n==null?void 0:n.relay)||{protocol:$G}}function Ng(n){const e=qH[n];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${n}`);return e}function FG(n,e="-"){const t={},r="relay"+e;return Object.keys(n).forEach(s=>{if(s.startsWith(r)){const a=s.replace(r,""),c=n[s];t[a]=c}}),t}function WI(n){if(!n.includes("wc:")){const d=mU(n);d!=null&&d.includes("wc:")&&(n=d)}n=n.includes("wc://")?n.replace("wc://",""):n,n=n.includes("wc:")?n.replace("wc:",""):n;const e=n.indexOf(":"),t=n.indexOf("?")!==-1?n.indexOf("?"):void 0,r=n.substring(0,e),s=n.substring(e+1,t).split("@"),a=typeof t<"u"?n.substring(t):"",c=new URLSearchParams(a),u={};c.forEach((d,p)=>{u[p]=d});const h=typeof u.methods=="string"?u.methods.split(","):void 0;return{protocol:r,topic:jG(s[0]),version:parseInt(s[1],10),symKey:u.symKey,relay:FG(u),methods:h,expiryTimestamp:u.expiryTimestamp?parseInt(u.expiryTimestamp,10):void 0}}function jG(n){return n.startsWith("//")?n.substring(2):n}function HG(n,e="-"){const t="relay",r={};return Object.keys(n).forEach(s=>{const a=s,c=t+e+a;n[a]&&(r[c]=n[a])}),r}function YI(n){const e=new URLSearchParams,t=HG(n.relay);Object.keys(t).sort().forEach(s=>{e.set(s,t[s])}),e.set("symKey",n.symKey),n.expiryTimestamp&&e.set("expiryTimestamp",n.expiryTimestamp.toString()),n.methods&&e.set("methods",n.methods.join(","));const r=e.toString();return`${n.protocol}:${n.topic}@${n.version}?${r}`}function c0(n,e,t){return`${n}?wc_ev=${t}&topic=${e}`}var zG=Object.defineProperty,qG=Object.defineProperties,GG=Object.getOwnPropertyDescriptors,QI=Object.getOwnPropertySymbols,VG=Object.prototype.hasOwnProperty,KG=Object.prototype.propertyIsEnumerable,ZI=(n,e,t)=>e in n?zG(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,WG=(n,e)=>{for(var t in e||(e={}))VG.call(e,t)&&ZI(n,t,e[t]);if(QI)for(var t of QI(e))KG.call(e,t)&&ZI(n,t,e[t]);return n},YG=(n,e)=>qG(n,GG(e));function Zf(n){const e=[];return n.forEach(t=>{const[r,s]=t.split(":");e.push(`${r}:${s}`)}),e}function QG(n){const e=[];return Object.values(n).forEach(t=>{e.push(...Zf(t.accounts))}),e}function ZG(n,e){const t=[];return Object.values(n).forEach(r=>{Zf(r.accounts).includes(e)&&t.push(...r.methods)}),t}function JG(n,e){const t=[];return Object.values(n).forEach(r=>{Zf(r.accounts).includes(e)&&t.push(...r.events)}),t}function Zb(n){return n.includes(":")}function pd(n){return Zb(n)?n.split(":")[0]:n}function JI(n){var e,t,r;const s={};if(!Hc(n))return s;for(const[a,c]of Object.entries(n)){const u=Zb(a)?[a]:c.chains,h=c.methods||[],d=c.events||[],p=pd(a);s[p]=YG(WG({},s[p]),{chains:Aa(u,(e=s[p])==null?void 0:e.chains),methods:Aa(h,(t=s[p])==null?void 0:t.methods),events:Aa(d,(r=s[p])==null?void 0:r.events)})}return s}function XG(n){const e={};return n==null||n.forEach(t=>{var r;const[s,a]=t.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(t),(r=e[s].chains)==null||r.push(`${s}:${a}`)}),e}function XI(n,e){e=e.map(r=>r.replace("did:pkh:",""));const t=XG(e);for(const[r,s]of Object.entries(t))s.methods?s.methods=Aa(s.methods,n):s.methods=n,s.events=["chainChanged","accountsChanged"];return t}function eV(n,e){var t,r,s,a,c,u;const h=JI(n),d=JI(e),p={},m=Object.keys(h).concat(Object.keys(d));for(const y of m)p[y]={chains:Aa((t=h[y])==null?void 0:t.chains,(r=d[y])==null?void 0:r.chains),methods:Aa((s=h[y])==null?void 0:s.methods,(a=d[y])==null?void 0:a.methods),events:Aa((c=h[y])==null?void 0:c.events,(u=d[y])==null?void 0:u.events)};return p}const tV={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},nV={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ee(n,e){const{message:t,code:r}=nV[n];return{message:e?`${t} ${e}`:t,code:r}}function qt(n,e){const{message:t,code:r}=tV[n];return{message:e?`${t} ${e}`:t,code:r}}function jc(n,e){return!!Array.isArray(n)}function Hc(n){return Object.getPrototypeOf(n)===Object.prototype&&Object.keys(n).length}function cr(n){return typeof n>"u"}function xn(n,e){return e&&cr(n)?!0:typeof n=="string"&&!!n.trim().length}function pS(n,e){return e&&cr(n)?!0:typeof n=="number"&&!isNaN(n)}function rV(n,e){const{requiredNamespaces:t}=e,r=Object.keys(n.namespaces),s=Object.keys(t);let a=!0;return zl(s,r)?(r.forEach(c=>{const{accounts:u,methods:h,events:d}=n.namespaces[c],p=Zf(u),m=t[c];(!zl(hU(c,m),p)||!zl(m.methods,h)||!zl(m.events,d))&&(a=!1)}),a):!1}function ib(n){return xn(n,!1)&&n.includes(":")?n.split(":").length===2:!1}function sV(n){if(xn(n,!1)&&n.includes(":")){const e=n.split(":");if(e.length===3){const t=e[0]+":"+e[1];return!!e[2]&&ib(t)}}return!1}function iV(n){function e(t){try{return typeof new URL(t)<"u"}catch{return!1}}try{if(xn(n,!1)){if(e(n))return!0;const t=mU(n);return e(t)}}catch{}return!1}function aV(n){var e;return(e=n==null?void 0:n.proposer)==null?void 0:e.publicKey}function oV(n){return n==null?void 0:n.topic}function cV(n,e){let t=null;return xn(n==null?void 0:n.publicKey,!1)||(t=Ee("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function ex(n){let e=!0;return jc(n)?n.length&&(e=n.every(t=>xn(t,!1))):e=!1,e}function lV(n,e,t){let r=null;return jc(e)&&e.length?e.forEach(s=>{r||ib(s)||(r=qt("UNSUPPORTED_CHAINS",`${t}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):ib(n)||(r=qt("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function uV(n,e,t){let r=null;return Object.entries(n).forEach(([s,a])=>{if(r)return;const c=lV(s,hU(s,a),`${e} ${t}`);c&&(r=c)}),r}function hV(n,e){let t=null;return jc(n)?n.forEach(r=>{t||sV(r)||(t=qt("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):t=qt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function dV(n,e){let t=null;return Object.values(n).forEach(r=>{if(t)return;const s=hV(r==null?void 0:r.accounts,`${e} namespace`);s&&(t=s)}),t}function fV(n,e){let t=null;return ex(n==null?void 0:n.methods)?ex(n==null?void 0:n.events)||(t=qt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=qt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function YU(n,e){let t=null;return Object.values(n).forEach(r=>{if(t)return;const s=fV(r,`${e}, namespace`);s&&(t=s)}),t}function pV(n,e,t){let r=null;if(n&&Hc(n)){const s=YU(n,e);s&&(r=s);const a=uV(n,e,t);a&&(r=a)}else r=Ee("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return r}function _1(n,e){let t=null;if(n&&Hc(n)){const r=YU(n,e);r&&(t=r);const s=dV(n,e);s&&(t=s)}else t=Ee("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function QU(n){return xn(n.protocol,!0)}function gV(n,e){let t=!1;return n?n&&jc(n)&&n.length&&n.forEach(r=>{t=QU(r)}):t=!0,t}function mV(n){return typeof n=="number"}function ts(n){return typeof n<"u"&&typeof n!==null}function yV(n){return!(!n||typeof n!="object"||!n.code||!pS(n.code,!1)||!n.message||!xn(n.message,!1))}function wV(n){return!(cr(n)||!xn(n.method,!1))}function bV(n){return!(cr(n)||cr(n.result)&&cr(n.error)||!pS(n.id,!1)||!xn(n.jsonrpc,!1))}function vV(n){return!(cr(n)||!xn(n.name,!1))}function tx(n,e){return!(!ib(e)||!QG(n).includes(e))}function EV(n,e,t){return xn(t,!1)?ZG(n,e).includes(t):!1}function AV(n,e,t){return xn(t,!1)?JG(n,e).includes(t):!1}function nx(n,e,t){let r=null;const s=_V(n),a=CV(e),c=Object.keys(s),u=Object.keys(a),h=rx(Object.keys(n)),d=rx(Object.keys(e)),p=h.filter(m=>!d.includes(m));return p.length&&(r=Ee("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${p.toString()}
      Received: ${Object.keys(e).toString()}`)),zl(c,u)||(r=Ee("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.
      Required: ${c.toString()}
      Approved: ${u.toString()}`)),Object.keys(e).forEach(m=>{if(!m.includes(":")||r)return;const y=Zf(e[m].accounts);y.includes(m)||(r=Ee("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${m}
        Required: ${m}
        Approved: ${y.toString()}`))}),c.forEach(m=>{r||(zl(s[m].methods,a[m].methods)?zl(s[m].events,a[m].events)||(r=Ee("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${m}`)):r=Ee("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${m}`))}),r}function _V(n){const e={};return Object.keys(n).forEach(t=>{var r;t.includes(":")?e[t]=n[t]:(r=n[t].chains)==null||r.forEach(s=>{e[s]={methods:n[t].methods,events:n[t].events}})}),e}function rx(n){return[...new Set(n.map(e=>e.includes(":")?e.split(":")[0]:e))]}function CV(n){const e={};return Object.keys(n).forEach(t=>{if(t.includes(":"))e[t]=n[t];else{const r=Zf(n[t].accounts);r==null||r.forEach(s=>{e[s]={accounts:n[t].accounts.filter(a=>a.includes(`${s}:`)),methods:n[t].methods,events:n[t].events}})}}),e}function SV(n,e){return pS(n,!1)&&n<=e.max&&n>=e.min}function sx(){const n=gy();return new Promise(e=>{switch(n){case Ps.browser:e(NV());break;case Ps.reactNative:e(TV());break;case Ps.node:e(OV());break;default:e(!0)}})}function NV(){return Wf()&&(navigator==null?void 0:navigator.onLine)}async function TV(){if(el()&&typeof global<"u"&&global!=null&&global.NetInfo){const n=await(global==null?void 0:global.NetInfo.fetch());return n==null?void 0:n.isConnected}return!0}function OV(){return!0}function RV(n){switch(gy()){case Ps.browser:IV(n);break;case Ps.reactNative:xV(n);break}}function IV(n){!el()&&Wf()&&(window.addEventListener("online",()=>n(!0)),window.addEventListener("offline",()=>n(!1)))}function xV(n){el()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>n(e==null?void 0:e.isConnected)))}function PV(){var n;return Wf()&&To.getDocument()?((n=To.getDocument())==null?void 0:n.visibilityState)==="visible":!0}const C1={};class fg{static get(e){return C1[e]}static set(e,t){C1[e]=t}static delete(e){delete C1[e]}}const DV="PARSE_ERROR",UV="INVALID_REQUEST",kV="METHOD_NOT_FOUND",BV="INVALID_PARAMS",ZU="INTERNAL_ERROR",gS="SERVER_ERROR",MV=[-32700,-32600,-32601,-32602,-32603],$g={[DV]:{code:-32700,message:"Parse error"},[UV]:{code:-32600,message:"Invalid Request"},[kV]:{code:-32601,message:"Method not found"},[BV]:{code:-32602,message:"Invalid params"},[ZU]:{code:-32603,message:"Internal error"},[gS]:{code:-32e3,message:"Server error"}},JU=gS;function LV(n){return MV.includes(n)}function ix(n){return Object.keys($g).includes(n)?$g[n]:$g[JU]}function $V(n){const e=Object.values($g).find(t=>t.code===n);return e||$g[JU]}function XU(n,e,t){return n.message.includes("getaddrinfo ENOTFOUND")||n.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):n}var S1={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $_=function(n,e){return $_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)r.hasOwnProperty(s)&&(t[s]=r[s])},$_(n,e)};function FV(n,e){$_(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var F_=function(){return F_=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},F_.apply(this,arguments)};function jV(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function HV(n,e,t,r){var s=arguments.length,a=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,r);else for(var u=n.length-1;u>=0;u--)(c=n[u])&&(a=(s<3?c(a):s>3?c(e,t,a):c(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a}function zV(n,e){return function(t,r){e(t,r,n)}}function qV(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function GV(n,e,t,r){function s(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(p){try{d(r.next(p))}catch(m){c(m)}}function h(p){try{d(r.throw(p))}catch(m){c(m)}}function d(p){p.done?a(p.value):s(p.value).then(u,h)}d((r=r.apply(n,e||[])).next())})}function VV(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(d){return function(p){return h([d,p])}}function h(d){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,s&&(a=d[0]&2?s.return:d[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,d[1])).done)return a;switch(s=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,s=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){t.label=d[1];break}if(d[0]===6&&t.label<a[1]){t.label=a[1],a=d;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(d);break}a[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(p){d=[6,p],s=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function KV(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}function WV(n,e){for(var t in n)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function j_(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ek(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),s,a=[],c;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(u){c={error:u}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(c)throw c.error}}return a}function YV(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(ek(arguments[e]));return n}function QV(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),s=0,e=0;e<t;e++)for(var a=arguments[e],c=0,u=a.length;c<u;c++,s++)r[s]=a[c];return r}function Am(n){return this instanceof Am?(this.v=n,this):new Am(n)}function ZV(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),s,a=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(y){r[y]&&(s[y]=function(b){return new Promise(function(E,v){a.push([y,b,E,v])>1||u(y,b)})})}function u(y,b){try{h(r[y](b))}catch(E){m(a[0][3],E)}}function h(y){y.value instanceof Am?Promise.resolve(y.value.v).then(d,p):m(a[0][2],y)}function d(y){u("next",y)}function p(y){u("throw",y)}function m(y,b){y(b),a.shift(),a.length&&u(a[0][0],a[0][1])}}function JV(n){var e,t;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,a){e[s]=n[s]?function(c){return(t=!t)?{value:Am(n[s](c)),done:s==="return"}:a?a(c):c}:a}}function XV(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof j_=="function"?j_(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=n[a]&&function(c){return new Promise(function(u,h){c=n[a](c),s(u,h,c.done,c.value)})}}function s(a,c,u,h){Promise.resolve(h).then(function(d){a({value:d,done:u})},c)}}function eK(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function tK(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function nK(n){return n&&n.__esModule?n:{default:n}}function rK(n,e){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return e.get(n)}function sK(n,e,t){if(!e.has(n))throw new TypeError("attempted to set private field on non-instance");return e.set(n,t),t}const iK=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return F_},__asyncDelegator:JV,__asyncGenerator:ZV,__asyncValues:XV,__await:Am,__awaiter:GV,__classPrivateFieldGet:rK,__classPrivateFieldSet:sK,__createBinding:KV,__decorate:HV,__exportStar:WV,__extends:FV,__generator:VV,__importDefault:nK,__importStar:tK,__makeTemplateObject:eK,__metadata:qV,__param:zV,__read:ek,__rest:jV,__spread:YV,__spreadArrays:QV,__values:j_},Symbol.toStringTag,{value:"Module"})),aK=GP(iK);var Qa={},ax;function oK(){if(ax)return Qa;ax=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.isBrowserCryptoAvailable=Qa.getSubtleCrypto=Qa.getBrowerCrypto=void 0;function n(){return(ha==null?void 0:ha.crypto)||(ha==null?void 0:ha.msCrypto)||{}}Qa.getBrowerCrypto=n;function e(){const r=n();return r.subtle||r.webkitSubtle}Qa.getSubtleCrypto=e;function t(){return!!n()&&!!e()}return Qa.isBrowserCryptoAvailable=t,Qa}var Za={},ox;function cK(){if(ox)return Za;ox=1,Object.defineProperty(Za,"__esModule",{value:!0}),Za.isBrowser=Za.isNode=Za.isReactNative=void 0;function n(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Za.isReactNative=n;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Za.isNode=e;function t(){return!n()&&!e()}return Za.isBrowser=t,Za}var cx;function lK(){return cx||(cx=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});const e=aK;e.__exportStar(oK(),n),e.__exportStar(cK(),n)}(S1)),S1}var uK=lK();function ea(n=3){const e=Date.now()*Math.pow(10,n),t=Math.floor(Math.random()*Math.pow(10,n));return e+t}function ql(n=6){return BigInt(ea(n))}function $c(n,e,t){return{id:t||ea(),jsonrpc:"2.0",method:n,params:e}}function Jb(n,e){return{id:n,jsonrpc:"2.0",result:e}}function Xb(n,e,t){return{id:n,jsonrpc:"2.0",error:hK(e)}}function hK(n,e){return typeof n>"u"?ix(ZU):(typeof n=="string"&&(n=Object.assign(Object.assign({},ix(gS)),{message:n})),LV(n.code)&&(n=$V(n.code)),n)}let dK=class{},fK=class extends dK{constructor(){super()}},pK=class extends fK{constructor(e){super()}};const gK="^https?:",mK="^wss?:";function yK(n){const e=n.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function tk(n,e){const t=yK(n);return typeof t>"u"?!1:new RegExp(e).test(t)}function lx(n){return tk(n,gK)}function ux(n){return tk(n,mK)}function wK(n){return new RegExp("wss?://localhost(:d{2,5})?").test(n)}function nk(n){return typeof n=="object"&&"id"in n&&"jsonrpc"in n&&n.jsonrpc==="2.0"}function mS(n){return nk(n)&&"method"in n}function ev(n){return nk(n)&&(ta(n)||ii(n))}function ta(n){return"result"in n}function ii(n){return"error"in n}let li=class extends pK{constructor(e){super(e),this.events=new ci.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict($c(e.method,e.params||[],e.id||ql().toString()),t)}async requestStrict(e,t){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(a){s(a)}this.events.on(`${e.id}`,a=>{ii(a)?s(a.error):r(a.result)});try{await this.connection.send(e,t)}catch(a){s(a)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),ev(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const bK=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),vK=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",hx=n=>n.split("?")[0],dx=10,EK=bK();let AK=class{constructor(e){if(this.url=e,this.events=new ci.EventEmitter,this.registering=!1,!ux(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(No(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!ux(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((r,s)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),s(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,r)=>{const s=uK.isReactNative()?void 0:{rejectUnauthorized:!wK(e)},a=new EK(e,[],s);vK()?a.onerror=c=>{const u=c;r(this.emitError(u.error))}:a.on("error",c=>{r(this.emitError(c))}),a.onopen=()=>{this.onOpen(a),t(a)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?Tu(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const r=this.parseError(t),s=r.message||r.toString(),a=Xb(e,s);this.events.emit("payload",a)}parseError(e,t=this.url){return XU(e,hx(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>dx&&this.events.setMaxListeners(dx)}emitError(e){const t=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${hx(this.url)}`));return this.events.emit("register_error",t),t}};var _K={};const rk="wc",sk=2,H_="core",Na=`${rk}@2:${H_}:`,CK={logger:"error"},SK={database:":memory:"},NK="crypto",fx="client_ed25519_seed",TK=ve.ONE_DAY,OK="keychain",RK="0.3",IK="messages",xK="0.3",px=ve.SIX_HOURS,PK="publisher",ik="irn",DK="error",ak="wss://relay.walletconnect.org",UK="relayer",Wn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},kK="_subscription",Ws={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},BK=.1,z_="2.21.0",on={link_mode:"link_mode",relay:"relay"},P0={inbound:"inbound",outbound:"outbound"},MK="0.3",LK="WALLETCONNECT_CLIENT_ID",gx="WALLETCONNECT_LINK_MODE_APPS",_s={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},$K="subscription",FK="0.3",jK="pairing",HK="0.3",pg={wc_pairingDelete:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ve.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ve.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ve.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:0},res:{ttl:ve.ONE_DAY,prompt:!1,tag:0}}},kl={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},mi={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},zK="history",qK="0.3",GK="expirer",Js={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},VK="0.3",KK="verify-api",WK="https://verify.walletconnect.com",ok="https://verify.walletconnect.org",Fg=ok,YK=`${Fg}/v3`,QK=[WK,ok],ZK="echo",JK="https://echo.walletconnect.com",Xi={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Xa={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},yi={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},_l={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Cl={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},gg={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},XK=.1,eW="event-client",tW=86400,nW="https://pulse.walletconnect.org/batch";function rW(n,e){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var s=0;s<n.length;s++){var a=n.charAt(s),c=a.charCodeAt(0);if(t[c]!==255)throw new TypeError(a+" is ambiguous");t[c]=s}var u=n.length,h=n.charAt(0),d=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function m(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var v=0,A=0,N=0,I=E.length;N!==I&&E[N]===0;)N++,v++;for(var P=(I-N)*p+1>>>0,k=new Uint8Array(P);N!==I;){for(var U=E[N],O=0,B=P-1;(U!==0||O<A)&&B!==-1;B--,O++)U+=256*k[B]>>>0,k[B]=U%u>>>0,U=U/u>>>0;if(U!==0)throw new Error("Non-zero carry");A=O,N++}for(var M=P-A;M!==P&&k[M]===0;)M++;for(var $=h.repeat(v);M<P;++M)$+=n.charAt(k[M]);return $}function y(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var v=0;if(E[v]!==" "){for(var A=0,N=0;E[v]===h;)A++,v++;for(var I=(E.length-v)*d+1>>>0,P=new Uint8Array(I);E[v];){var k=t[E.charCodeAt(v)];if(k===255)return;for(var U=0,O=I-1;(k!==0||U<N)&&O!==-1;O--,U++)k+=u*P[O]>>>0,P[O]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");N=U,v++}if(E[v]!==" "){for(var B=I-N;B!==I&&P[B]===0;)B++;for(var M=new Uint8Array(A+(I-B)),$=A;B!==I;)M[$++]=P[B++];return M}}}function b(E){var v=y(E);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:y,decode:b}}var sW=rW,iW=sW;const ck=n=>{if(n instanceof Uint8Array&&n.constructor.name==="Uint8Array")return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")},aW=n=>new TextEncoder().encode(n),oW=n=>new TextDecoder().decode(n);class cW{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class lW{constructor(e,t,r){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return lk(this,e)}}class uW{constructor(e){this.decoders=e}or(e){return lk(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const lk=(n,e)=>new uW({...n.decoders||{[n.prefix]:n},...e.decoders||{[e.prefix]:e}});class hW{constructor(e,t,r,s){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=s,this.encoder=new cW(e,t,r),this.decoder=new lW(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const tv=({name:n,prefix:e,encode:t,decode:r})=>new hW(n,e,t,r),Ey=({prefix:n,name:e,alphabet:t})=>{const{encode:r,decode:s}=iW(t,e);return tv({prefix:n,name:e,encode:r,decode:a=>ck(s(a))})},dW=(n,e,t,r)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let a=n.length;for(;n[a-1]==="=";)--a;const c=new Uint8Array(a*t/8|0);let u=0,h=0,d=0;for(let p=0;p<a;++p){const m=s[n[p]];if(m===void 0)throw new SyntaxError(`Non-${r} character`);h=h<<t|m,u+=t,u>=8&&(u-=8,c[d++]=255&h>>u)}if(u>=t||255&h<<8-u)throw new SyntaxError("Unexpected end of data");return c},fW=(n,e,t)=>{const r=e[e.length-1]==="=",s=(1<<t)-1;let a="",c=0,u=0;for(let h=0;h<n.length;++h)for(u=u<<8|n[h],c+=8;c>t;)c-=t,a+=e[s&u>>c];if(c&&(a+=e[s&u<<t-c]),r)for(;a.length*t&7;)a+="=";return a},yr=({name:n,prefix:e,bitsPerChar:t,alphabet:r})=>tv({prefix:e,name:n,encode(s){return fW(s,r,t)},decode(s){return dW(s,r,t,n)}}),pW=tv({prefix:"\0",name:"identity",encode:n=>oW(n),decode:n=>aW(n)});var gW=Object.freeze({__proto__:null,identity:pW});const mW=yr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var yW=Object.freeze({__proto__:null,base2:mW});const wW=yr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var bW=Object.freeze({__proto__:null,base8:wW});const vW=Ey({prefix:"9",name:"base10",alphabet:"0123456789"});var EW=Object.freeze({__proto__:null,base10:vW});const AW=yr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),_W=yr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var CW=Object.freeze({__proto__:null,base16:AW,base16upper:_W});const SW=yr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),NW=yr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),TW=yr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),OW=yr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),RW=yr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),IW=yr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),xW=yr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),PW=yr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),DW=yr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var UW=Object.freeze({__proto__:null,base32:SW,base32upper:NW,base32pad:TW,base32padupper:OW,base32hex:RW,base32hexupper:IW,base32hexpad:xW,base32hexpadupper:PW,base32z:DW});const kW=Ey({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),BW=Ey({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var MW=Object.freeze({__proto__:null,base36:kW,base36upper:BW});const LW=Ey({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),$W=Ey({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var FW=Object.freeze({__proto__:null,base58btc:LW,base58flickr:$W});const jW=yr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),HW=yr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),zW=yr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),qW=yr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var GW=Object.freeze({__proto__:null,base64:jW,base64pad:HW,base64url:zW,base64urlpad:qW});const uk=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),VW=uk.reduce((n,e,t)=>(n[t]=e,n),[]),KW=uk.reduce((n,e,t)=>(n[e.codePointAt(0)]=t,n),[]);function WW(n){return n.reduce((e,t)=>(e+=VW[t],e),"")}function YW(n){const e=[];for(const t of n){const r=KW[t.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(r)}return new Uint8Array(e)}const QW=tv({prefix:"🚀",name:"base256emoji",encode:WW,decode:YW});var ZW=Object.freeze({__proto__:null,base256emoji:QW}),JW=hk,mx=128,XW=-128,eY=Math.pow(2,31);function hk(n,e,t){e=e||[],t=t||0;for(var r=t;n>=eY;)e[t++]=n&255|mx,n/=128;for(;n&XW;)e[t++]=n&255|mx,n>>>=7;return e[t]=n|0,hk.bytes=t-r+1,e}var tY=q_,nY=128,yx=127;function q_(n,r){var t=0,r=r||0,s=0,a=r,c,u=n.length;do{if(a>=u)throw q_.bytes=0,new RangeError("Could not decode varint");c=n[a++],t+=s<28?(c&yx)<<s:(c&yx)*Math.pow(2,s),s+=7}while(c>=nY);return q_.bytes=a-r,t}var rY=Math.pow(2,7),sY=Math.pow(2,14),iY=Math.pow(2,21),aY=Math.pow(2,28),oY=Math.pow(2,35),cY=Math.pow(2,42),lY=Math.pow(2,49),uY=Math.pow(2,56),hY=Math.pow(2,63),dY=function(n){return n<rY?1:n<sY?2:n<iY?3:n<aY?4:n<oY?5:n<cY?6:n<lY?7:n<uY?8:n<hY?9:10},fY={encode:JW,decode:tY,encodingLength:dY},dk=fY;const wx=(n,e,t=0)=>(dk.encode(n,e,t),e),bx=n=>dk.encodingLength(n),G_=(n,e)=>{const t=e.byteLength,r=bx(n),s=r+bx(t),a=new Uint8Array(s+t);return wx(n,a,0),wx(t,a,r),a.set(e,s),new pY(n,t,e,a)};class pY{constructor(e,t,r,s){this.code=e,this.size=t,this.digest=r,this.bytes=s}}const fk=({name:n,code:e,encode:t})=>new gY(n,e,t);class gY{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?G_(this.code,t):t.then(r=>G_(this.code,r))}else throw Error("Unknown type, must be binary type")}}const pk=n=>async e=>new Uint8Array(await crypto.subtle.digest(n,e)),mY=fk({name:"sha2-256",code:18,encode:pk("SHA-256")}),yY=fk({name:"sha2-512",code:19,encode:pk("SHA-512")});var wY=Object.freeze({__proto__:null,sha256:mY,sha512:yY});const gk=0,bY="identity",mk=ck,vY=n=>G_(gk,mk(n)),EY={code:gk,name:bY,encode:mk,digest:vY};var AY=Object.freeze({__proto__:null,identity:EY});new TextEncoder,new TextDecoder;const vx={...gW,...yW,...bW,...EW,...CW,...UW,...MW,...FW,...GW,...ZW};({...wY,...AY});function _Y(n=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(n):new Uint8Array(n)}function yk(n,e,t,r){return{name:n,prefix:e,encoder:{name:n,prefix:e,encode:t},decoder:{decode:r}}}const Ex=yk("utf8","u",n=>"u"+new TextDecoder("utf8").decode(n),n=>new TextEncoder().encode(n.substring(1))),N1=yk("ascii","a",n=>{let e="a";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return e},n=>{n=n.substring(1);const e=_Y(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e}),CY={utf8:Ex,"utf-8":Ex,hex:vx.base16,latin1:N1,ascii:N1,binary:N1,...vx};function SY(n,e="utf8"){const t=CY[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(n,"utf8"):t.decoder.decode(`${t.prefix}${n}`)}var NY=Object.defineProperty,TY=(n,e,t)=>e in n?NY(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Qi=(n,e,t)=>TY(n,typeof e!="symbol"?e+"":e,t);class OY{constructor(e,t){this.core=e,this.logger=t,Qi(this,"keychain",new Map),Qi(this,"name",OK),Qi(this,"version",RK),Qi(this,"initialized",!1),Qi(this,"storagePrefix",Na),Qi(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Qi(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Qi(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),Qi(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:a}=Ee("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(a)}return s}),Qi(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Or(t,this.name)}get context(){return ds(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,T_(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?O_(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Ee("NOT_INITIALIZED",this.name);throw new Error(e)}}}var RY=Object.defineProperty,IY=(n,e,t)=>e in n?RY(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,sr=(n,e,t)=>IY(n,typeof e!="symbol"?e+"":e,t);class xY{constructor(e,t,r){this.core=e,this.logger=t,sr(this,"name",NK),sr(this,"keychain"),sr(this,"randomSessionIdentifier",L_()),sr(this,"initialized",!1),sr(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),sr(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),sr(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),a=QR(s);return qD(a.publicKey)}),sr(this,"generateKeyPair",()=>{this.isInitialized();const s=IG();return this.setPrivateKey(s.publicKey,s.privateKey)}),sr(this,"signJWT",async s=>{this.isInitialized();const a=await this.getClientSeed(),c=QR(a),u=this.randomSessionIdentifier;return await jj(u,s,TK,c)}),sr(this,"generateSharedKey",(s,a,c)=>{this.isInitialized();const u=this.getPrivateKey(s),h=xG(u,a);return this.setSymKey(h,c)}),sr(this,"setSymKey",async(s,a)=>{this.isInitialized();const c=a||x0(s);return await this.keychain.set(c,s),c}),sr(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),sr(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),sr(this,"encode",async(s,a,c)=>{this.isInitialized();const u=WU(c),h=No(a);if(KI(u))return UG(h,c==null?void 0:c.encoding);if(VI(u)){const y=u.senderPublicKey,b=u.receiverPublicKey;s=await this.generateSharedKey(y,b)}const d=this.getSymKey(s),{type:p,senderPublicKey:m}=u;return PG({type:p,symKey:d,message:h,senderPublicKey:m,encoding:c==null?void 0:c.encoding})}),sr(this,"decode",async(s,a,c)=>{this.isInitialized();const u=BG(a,c);if(KI(u)){const h=kG(a,c==null?void 0:c.encoding);return Tu(h)}if(VI(u)){const h=u.receiverPublicKey,d=u.senderPublicKey;s=await this.generateSharedKey(h,d)}try{const h=this.getSymKey(s),d=DG({symKey:h,encoded:a,encoding:c==null?void 0:c.encoding});return Tu(d)}catch(h){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(h)}}),sr(this,"getPayloadType",(s,a=Di)=>{const c=Em({encoded:s,encoding:a});return xu(c.type)}),sr(this,"getPayloadSenderPublicKey",(s,a=Di)=>{const c=Em({encoded:s,encoding:a});return c.senderPublicKey?cs(c.senderPublicKey,jr):void 0}),this.core=e,this.logger=Or(t,this.name),this.keychain=r||new OY(this.core,this.logger)}get context(){return ds(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(fx)}catch{e=L_(),await this.keychain.set(fx,e)}return SY(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Ee("NOT_INITIALIZED",this.name);throw new Error(e)}}}var PY=Object.defineProperty,DY=Object.defineProperties,UY=Object.getOwnPropertyDescriptors,Ax=Object.getOwnPropertySymbols,kY=Object.prototype.hasOwnProperty,BY=Object.prototype.propertyIsEnumerable,V_=(n,e,t)=>e in n?PY(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,MY=(n,e)=>{for(var t in e||(e={}))kY.call(e,t)&&V_(n,t,e[t]);if(Ax)for(var t of Ax(e))BY.call(e,t)&&V_(n,t,e[t]);return n},LY=(n,e)=>DY(n,UY(e)),Es=(n,e,t)=>V_(n,typeof e!="symbol"?e+"":e,t);class $Y extends $${constructor(e,t){super(e,t),this.logger=e,this.core=t,Es(this,"messages",new Map),Es(this,"messagesWithoutClientAck",new Map),Es(this,"name",IK),Es(this,"version",xK),Es(this,"initialized",!1),Es(this,"storagePrefix",Na),Es(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Es(this,"set",async(r,s,a)=>{this.isInitialized();const c=fa(s);let u=this.messages.get(r);if(typeof u>"u"&&(u={}),typeof u[c]<"u")return c;if(u[c]=s,this.messages.set(r,u),a===P0.inbound){const h=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,LY(MY({},h),{[c]:s}))}return await this.persist(),c}),Es(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),Es(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const a of r){const c=this.messagesWithoutClientAck.get(a)||{};s[a]=Object.values(c)}return s}),Es(this,"has",(r,s)=>{this.isInitialized();const a=this.get(r),c=fa(s);return typeof a[c]<"u"}),Es(this,"ack",async(r,s)=>{this.isInitialized();const a=this.messagesWithoutClientAck.get(r);if(typeof a>"u")return;const c=fa(s);delete a[c],Object.keys(a).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,a),await this.persist()}),Es(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Or(e,this.name),this.core=t}get context(){return ds(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,T_(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,T_(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?O_(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?O_(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Ee("NOT_INITIALIZED",this.name);throw new Error(e)}}}var FY=Object.defineProperty,jY=Object.defineProperties,HY=Object.getOwnPropertyDescriptors,_x=Object.getOwnPropertySymbols,zY=Object.prototype.hasOwnProperty,qY=Object.prototype.propertyIsEnumerable,K_=(n,e,t)=>e in n?FY(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,l0=(n,e)=>{for(var t in e||(e={}))zY.call(e,t)&&K_(n,t,e[t]);if(_x)for(var t of _x(e))qY.call(e,t)&&K_(n,t,e[t]);return n},T1=(n,e)=>jY(n,HY(e)),wi=(n,e,t)=>K_(n,typeof e!="symbol"?e+"":e,t);class GY extends F${constructor(e,t){super(e,t),this.relayer=e,this.logger=t,wi(this,"events",new ci.EventEmitter),wi(this,"name",PK),wi(this,"queue",new Map),wi(this,"publishTimeout",ve.toMiliseconds(ve.ONE_MINUTE)),wi(this,"initialPublishTimeout",ve.toMiliseconds(ve.ONE_SECOND*15)),wi(this,"needsTransportRestart",!1),wi(this,"publish",async(r,s,a)=>{var c;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:a}});const u=(a==null?void 0:a.ttl)||px,h=sb(a),d=(a==null?void 0:a.prompt)||!1,p=(a==null?void 0:a.tag)||0,m=(a==null?void 0:a.id)||ql().toString(),y={topic:r,message:s,opts:{ttl:u,relay:h,prompt:d,tag:p,id:m,attestation:a==null?void 0:a.attestation,tvf:a==null?void 0:a.tvf}},b=`Failed to publish payload, please try again. id:${m} tag:${p}`;try{const E=new Promise(async v=>{const A=({id:I})=>{y.opts.id===I&&(this.removeRequestFromQueue(I),this.relayer.events.removeListener(Wn.publish,A),v(y))};this.relayer.events.on(Wn.publish,A);const N=Lc(new Promise((I,P)=>{this.rpcPublish({topic:r,message:s,ttl:u,prompt:d,tag:p,id:m,attestation:a==null?void 0:a.attestation,tvf:a==null?void 0:a.tvf}).then(I).catch(k=>{this.logger.warn(k,k==null?void 0:k.message),P(k)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${m} tag:${p}`);try{await N,this.events.removeListener(Wn.publish,A)}catch(I){this.queue.set(m,T1(l0({},y),{attempt:1})),this.logger.warn(I,I==null?void 0:I.message)}});this.logger.trace({type:"method",method:"publish",params:{id:m,topic:r,message:s,opts:a}}),await Lc(E,this.publishTimeout,b)}catch(E){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(E),(c=a==null?void 0:a.internal)!=null&&c.throwOnFailedPublish)throw E}finally{this.queue.delete(m)}}),wi(this,"on",(r,s)=>{this.events.on(r,s)}),wi(this,"once",(r,s)=>{this.events.once(r,s)}),wi(this,"off",(r,s)=>{this.events.off(r,s)}),wi(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=e,this.logger=Or(t,this.name),this.registerEventListeners()}get context(){return ds(this.logger)}async rpcPublish(e){var t,r,s,a;const{topic:c,message:u,ttl:h=px,prompt:d,tag:p,id:m,attestation:y,tvf:b}=e,E={method:Ng(sb().protocol).publish,params:l0({topic:c,message:u,ttl:h,prompt:d,tag:p,attestation:y},b),id:m};cr((t=E.params)==null?void 0:t.prompt)&&((r=E.params)==null||delete r.prompt),cr((s=E.params)==null?void 0:s.tag)&&((a=E.params)==null||delete a.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:E});const v=await this.relayer.request(E);return this.relayer.events.emit(Wn.publish,e),this.logger.debug("Successfully Published Payload"),v}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{const r=e.attempt+1;this.queue.set(t,T1(l0({},e),{attempt:r}));const{topic:s,message:a,opts:c,attestation:u}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(T1(l0({},e),{topic:s,message:a,ttl:c.ttl,prompt:c.prompt,tag:c.tag,id:c.id,attestation:u,tvf:c.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Gu.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Wn.connection_stalled);return}this.checkQueue()}),this.relayer.on(Wn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var VY=Object.defineProperty,KY=(n,e,t)=>e in n?VY(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,zh=(n,e,t)=>KY(n,typeof e!="symbol"?e+"":e,t);class WY{constructor(){zh(this,"map",new Map),zh(this,"set",(e,t)=>{const r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])}),zh(this,"get",e=>this.map.get(e)||[]),zh(this,"exists",(e,t)=>this.get(e).includes(t)),zh(this,"delete",(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,t))return;const s=r.filter(a=>a!==t);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),zh(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var YY=Object.defineProperty,QY=Object.defineProperties,ZY=Object.getOwnPropertyDescriptors,Cx=Object.getOwnPropertySymbols,JY=Object.prototype.hasOwnProperty,XY=Object.prototype.propertyIsEnumerable,W_=(n,e,t)=>e in n?YY(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,mg=(n,e)=>{for(var t in e||(e={}))JY.call(e,t)&&W_(n,t,e[t]);if(Cx)for(var t of Cx(e))XY.call(e,t)&&W_(n,t,e[t]);return n},O1=(n,e)=>QY(n,ZY(e)),Zt=(n,e,t)=>W_(n,typeof e!="symbol"?e+"":e,t);class eQ extends z${constructor(e,t){super(e,t),this.relayer=e,this.logger=t,Zt(this,"subscriptions",new Map),Zt(this,"topicMap",new WY),Zt(this,"events",new ci.EventEmitter),Zt(this,"name",$K),Zt(this,"version",FK),Zt(this,"pending",new Map),Zt(this,"cached",[]),Zt(this,"initialized",!1),Zt(this,"storagePrefix",Na),Zt(this,"subscribeTimeout",ve.toMiliseconds(ve.ONE_MINUTE)),Zt(this,"initialSubscribeTimeout",ve.toMiliseconds(ve.ONE_SECOND*15)),Zt(this,"clientId"),Zt(this,"batchSubscribeTopicsLimit",500),Zt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Zt(this,"subscribe",async(r,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const a=sb(s),c={topic:r,relay:a,transportType:s==null?void 0:s.transportType};this.pending.set(r,c);const u=await this.rpcSubscribe(r,a,s);return typeof u=="string"&&(this.onSubscribe(u,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),u}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}}),Zt(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),Zt(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),Zt(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(a=>a.topic===r))})),Zt(this,"on",(r,s)=>{this.events.on(r,s)}),Zt(this,"once",(r,s)=>{this.events.once(r,s)}),Zt(this,"off",(r,s)=>{this.events.off(r,s)}),Zt(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),Zt(this,"start",async()=>{await this.onConnect()}),Zt(this,"stop",async()=>{await this.onDisconnect()}),Zt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Zt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),Zt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Gu.pulse,async()=>{await this.checkPending()}),this.events.on(_s.created,async r=>{const s=_s.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(_s.deleted,async r=>{const s=_s.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=e,this.logger=Or(t,this.name),this.clientId=""}get context(){return ds(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const r=this.topicMap.get(e);await Promise.all(r.map(async s=>await this.unsubscribeById(e,s,t)))}async unsubscribeById(e,t,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{const s=sb(r);await this.restartToComplete({topic:e,id:t,relay:s}),await this.rpcUnsubscribe(e,t,s);const a=qt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,a),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,t,r){var s;(!r||(r==null?void 0:r.transportType)===on.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const a={method:Ng(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{const u=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===on.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(p=>this.logger.warn(p))},ve.toMiliseconds(ve.ONE_SECOND)),u;const h=new Promise(async p=>{const m=y=>{y.topic===e&&(this.events.removeListener(_s.created,m),p(y.id))};this.events.on(_s.created,m);try{const y=await Lc(new Promise((b,E)=>{this.relayer.request(a).catch(v=>{this.logger.warn(v,v==null?void 0:v.message),E(v)}).then(b)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(_s.created,m),p(y)}catch{}}),d=await Lc(h,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!d&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return d?u:null}catch(u){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Wn.connection_stalled),c)throw u}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,r={method:Ng(t.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Lc(new Promise(s=>{this.relayer.request(r).catch(a=>this.logger.warn(a)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Wn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t=e[0].relay,r={method:Ng(t.protocol).batchFetchMessages,params:{topics:e.map(a=>a.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await Lc(new Promise((a,c)=>{this.relayer.request(r).catch(u=>{this.logger.warn(u),c(u)}).then(a)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Wn.connection_stalled)}return s}rpcUnsubscribe(e,t,r){const s={method:Ng(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,t){this.setSubscription(e,O1(mg({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,mg({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,r){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,mg({},t)),this.topicMap.set(t.topic,e),this.events.emit(_s.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:r}=Ee("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(_s.deleted,O1(mg({},r),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(_s.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(_s.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:t}=Ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async t=>O1(mg({},t),{id:await this.getSubscriptionId(t.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await yz(ve.toMiliseconds(ve.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Ee("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return fa(e+await this.getClientId())}}var tQ=Object.defineProperty,Sx=Object.getOwnPropertySymbols,nQ=Object.prototype.hasOwnProperty,rQ=Object.prototype.propertyIsEnumerable,Y_=(n,e,t)=>e in n?tQ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Nx=(n,e)=>{for(var t in e||(e={}))nQ.call(e,t)&&Y_(n,t,e[t]);if(Sx)for(var t of Sx(e))rQ.call(e,t)&&Y_(n,t,e[t]);return n},St=(n,e,t)=>Y_(n,typeof e!="symbol"?e+"":e,t);class sQ extends j${constructor(e){super(e),St(this,"protocol","wc"),St(this,"version",2),St(this,"core"),St(this,"logger"),St(this,"events",new ci.EventEmitter),St(this,"provider"),St(this,"messages"),St(this,"subscriber"),St(this,"publisher"),St(this,"name",UK),St(this,"transportExplicitlyClosed",!1),St(this,"initialized",!1),St(this,"connectionAttemptInProgress",!1),St(this,"relayUrl"),St(this,"projectId"),St(this,"packageName"),St(this,"bundleId"),St(this,"hasExperiencedNetworkDisruption",!1),St(this,"pingTimeout"),St(this,"heartBeatTimeout",ve.toMiliseconds(ve.THIRTY_SECONDS+ve.FIVE_SECONDS)),St(this,"reconnectTimeout"),St(this,"connectPromise"),St(this,"reconnectInProgress",!1),St(this,"requestsInFlight",[]),St(this,"connectTimeout",ve.toMiliseconds(ve.ONE_SECOND*15)),St(this,"request",async t=>{var r,s;this.logger.debug("Publishing Request Payload");const a=t.id||ql().toString();await this.toEstablishConnection();try{this.logger.trace({id:a,method:t.method,topic:(r=t.params)==null?void 0:r.topic},"relayer.request - publishing...");const c=`${a}:${((s=t.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(c);const u=await this.provider.request(t);return this.requestsInFlight=this.requestsInFlight.filter(h=>h!==c),u}catch(c){throw this.logger.debug(`Failed to Publish Request: ${a}`),c}}),St(this,"resetPingTimeout",()=>{nb()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var t,r,s,a;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(a=(s=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||a.call(s)}catch(c){this.logger.warn(c,c==null?void 0:c.message)}},this.heartBeatTimeout))}),St(this,"onPayloadHandler",t=>{this.onProviderPayload(t),this.resetPingTimeout()}),St(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(Wn.connect)}),St(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),St(this,"onProviderErrorHandler",t=>{this.logger.fatal(`Fatal socket error: ${t.message}`),this.events.emit(Wn.error,t),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),St(this,"registerProviderListeners",()=>{this.provider.on(Ws.payload,this.onPayloadHandler),this.provider.on(Ws.connect,this.onConnectHandler),this.provider.on(Ws.disconnect,this.onDisconnectHandler),this.provider.on(Ws.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Or(e.logger,this.name):hy(qf({level:e.logger||DK})),this.messages=new $Y(this.logger,e.core),this.subscriber=new eQ(this,this.logger),this.publisher=new GY(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||ak,this.projectId=e.projectId,tz()?this.packageName=mI():nz()&&(this.bundleId=mI()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return ds(this.logger)}get connected(){var e,t,r;return((r=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,t,r;return((r=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,t,r){this.isInitialized(),await this.publisher.publish(e,t,r),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:on.relay},P0.outbound)}async subscribe(e,t){var r,s,a;this.isInitialized(),(!(t!=null&&t.transportType)||(t==null?void 0:t.transportType)==="relay")&&await this.toEstablishConnection();const c=typeof((r=t==null?void 0:t.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=t==null?void 0:t.internal)==null?void 0:s.throwOnFailedPublish;let u=((a=this.subscriber.topicMap.get(e))==null?void 0:a[0])||"",h;const d=p=>{p.topic===e&&(this.subscriber.off(_s.created,d),h())};return await Promise.all([new Promise(p=>{h=p,this.subscriber.on(_s.created,d)}),new Promise(async(p,m)=>{u=await this.subscriber.subscribe(e,Nx({internal:{throwOnFailedPublish:c}},t)).catch(y=>{c&&m(y)})||u,p()})]),u}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Lc(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,r)=>{await this.connect(e).then(t).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await sx())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const t=e.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const r of t)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:r}=e;if(!t.sessionExists){const s=Bn(ve.FIVE_MINUTES),a={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,a)}this.events.emit(Wn.message,e),await this.recordMessageEvent(e,P0.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(r,s)=>{const a=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Ws.disconnect,a),await Lc(new Promise((c,u)=>{this.provider.connect().then(c).catch(u)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(c=>{s(c)}).finally(()=>{this.provider.off(Ws.disconnect,a),clearTimeout(this.reconnectTimeout)}),await new Promise(async(c,u)=>{const h=()=>{u(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Ws.disconnect,h),await this.subscriber.start().then(c).catch(u).finally(()=>{this.provider.off(Ws.disconnect,h)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(r=>setTimeout(r,ve.toMiliseconds(t*1))),t++}}startPingTimeout(){var e,t,r,s,a;if(nb())try{(t=(e=this.provider)==null?void 0:e.connection)!=null&&t.socket&&((a=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||a.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(c){this.logger.warn(c,c==null?void 0:c.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new li(new AK(oz({sdkVersion:z_,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:r,message:s}=e;await this.messages.set(r,s,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;const s=this.messages.has(t,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),mS(e)){if(!e.method.endsWith(kK))return;const t=e.params,{topic:r,message:s,publishedAt:a,attestation:c}=t.data,u={topic:r,message:s,publishedAt:a,transportType:on.relay,attestation:c};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Nx({type:"event",event:t.id},u)),this.events.emit(t.id,u),await this.acknowledgePayload(e),await this.onMessageEvent(u)}else ev(e)&&this.events.emit(Wn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,P0.inbound),this.events.emit(Wn.message,e))}async acknowledgePayload(e){const t=Jb(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(Ws.payload,this.onPayloadHandler),this.provider.off(Ws.connect,this.onConnectHandler),this.provider.off(Ws.disconnect,this.onDisconnectHandler),this.provider.off(Ws.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await sx();RV(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Gu.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&PV())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(t){this.logger.warn(t,t==null?void 0:t.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Wn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},ve.toMiliseconds(BK)))))}isInitialized(){if(!this.initialized){const{message:e}=Ee("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function iQ(){}function Tx(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(n)==="[object Object]":!1}function Ox(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.prototype.propertyIsEnumerable.call(n,e))}function Rx(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const aQ="[object RegExp]",oQ="[object String]",cQ="[object Number]",lQ="[object Boolean]",Ix="[object Arguments]",uQ="[object Symbol]",hQ="[object Date]",dQ="[object Map]",fQ="[object Set]",pQ="[object Array]",gQ="[object Function]",mQ="[object ArrayBuffer]",R1="[object Object]",yQ="[object Error]",wQ="[object DataView]",bQ="[object Uint8Array]",vQ="[object Uint8ClampedArray]",EQ="[object Uint16Array]",AQ="[object Uint32Array]",_Q="[object BigUint64Array]",CQ="[object Int8Array]",SQ="[object Int16Array]",NQ="[object Int32Array]",TQ="[object BigInt64Array]",OQ="[object Float32Array]",RQ="[object Float64Array]";function IQ(n,e){return n===e||Number.isNaN(n)&&Number.isNaN(e)}function xQ(n,e,t){return Tg(n,e,void 0,void 0,void 0,void 0,t)}function Tg(n,e,t,r,s,a,c){const u=c(n,e,t,r,s,a);if(u!==void 0)return u;if(typeof n==typeof e)switch(typeof n){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return n===e;case"number":return n===e||Object.is(n,e);case"function":return n===e;case"object":return jg(n,e,a,c)}return jg(n,e,a,c)}function jg(n,e,t,r){if(Object.is(n,e))return!0;let s=Rx(n),a=Rx(e);if(s===Ix&&(s=R1),a===Ix&&(a=R1),s!==a)return!1;switch(s){case oQ:return n.toString()===e.toString();case cQ:{const h=n.valueOf(),d=e.valueOf();return IQ(h,d)}case lQ:case hQ:case uQ:return Object.is(n.valueOf(),e.valueOf());case aQ:return n.source===e.source&&n.flags===e.flags;case gQ:return n===e}t=t??new Map;const c=t.get(n),u=t.get(e);if(c!=null&&u!=null)return c===e;t.set(n,e),t.set(e,n);try{switch(s){case dQ:{if(n.size!==e.size)return!1;for(const[h,d]of n.entries())if(!e.has(h)||!Tg(d,e.get(h),h,n,e,t,r))return!1;return!0}case fQ:{if(n.size!==e.size)return!1;const h=Array.from(n.values()),d=Array.from(e.values());for(let p=0;p<h.length;p++){const m=h[p],y=d.findIndex(b=>Tg(m,b,void 0,n,e,t,r));if(y===-1)return!1;d.splice(y,1)}return!0}case pQ:case bQ:case vQ:case EQ:case AQ:case _Q:case CQ:case SQ:case NQ:case TQ:case OQ:case RQ:{if(typeof Buffer<"u"&&Buffer.isBuffer(n)!==Buffer.isBuffer(e)||n.length!==e.length)return!1;for(let h=0;h<n.length;h++)if(!Tg(n[h],e[h],h,n,e,t,r))return!1;return!0}case mQ:return n.byteLength!==e.byteLength?!1:jg(new Uint8Array(n),new Uint8Array(e),t,r);case wQ:return n.byteLength!==e.byteLength||n.byteOffset!==e.byteOffset?!1:jg(new Uint8Array(n),new Uint8Array(e),t,r);case yQ:return n.name===e.name&&n.message===e.message;case R1:{if(!(jg(n.constructor,e.constructor,t,r)||Tx(n)&&Tx(e)))return!1;const h=[...Object.keys(n),...Ox(n)],d=[...Object.keys(e),...Ox(e)];if(h.length!==d.length)return!1;for(let p=0;p<h.length;p++){const m=h[p],y=n[m];if(!Object.hasOwn(e,m))return!1;const b=e[m];if(!Tg(y,b,m,n,e,t,r))return!1}return!0}default:return!1}}finally{t.delete(n),t.delete(e)}}function PQ(n,e){return xQ(n,e,iQ)}var DQ=Object.defineProperty,xx=Object.getOwnPropertySymbols,UQ=Object.prototype.hasOwnProperty,kQ=Object.prototype.propertyIsEnumerable,Q_=(n,e,t)=>e in n?DQ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Px=(n,e)=>{for(var t in e||(e={}))UQ.call(e,t)&&Q_(n,t,e[t]);if(xx)for(var t of xx(e))kQ.call(e,t)&&Q_(n,t,e[t]);return n},Jr=(n,e,t)=>Q_(n,typeof e!="symbol"?e+"":e,t);class Ku extends H${constructor(e,t,r,s=Na,a=void 0){super(e,t,r,s),this.core=e,this.logger=t,this.name=r,Jr(this,"map",new Map),Jr(this,"version",MK),Jr(this,"cached",[]),Jr(this,"initialized",!1),Jr(this,"getKey"),Jr(this,"storagePrefix",Na),Jr(this,"recentlyDeleted",[]),Jr(this,"recentlyDeletedLimit",200),Jr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(c=>{this.getKey&&c!==null&&!cr(c)?this.map.set(this.getKey(c),c):aV(c)?this.map.set(c.id,c):oV(c)&&this.map.set(c.topic,c)}),this.cached=[],this.initialized=!0)}),Jr(this,"set",async(c,u)=>{this.isInitialized(),this.map.has(c)?await this.update(c,u):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:c,value:u}),this.map.set(c,u),await this.persist())}),Jr(this,"get",c=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:c}),this.getData(c))),Jr(this,"getAll",c=>(this.isInitialized(),c?this.values.filter(u=>Object.keys(c).every(h=>PQ(u[h],c[h]))):this.values)),Jr(this,"update",async(c,u)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:c,update:u});const h=Px(Px({},this.getData(c)),u);this.map.set(c,h),await this.persist()}),Jr(this,"delete",async(c,u)=>{this.isInitialized(),this.map.has(c)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:c,reason:u}),this.map.delete(c),this.addToRecentlyDeleted(c),await this.persist())}),this.logger=Or(t,this.name),this.storagePrefix=s,this.getKey=a}get context(){return ds(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:s}=Ee("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:r}=Ee("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:t}=Ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ee("NOT_INITIALIZED",this.name);throw new Error(e)}}}var BQ=Object.defineProperty,MQ=(n,e,t)=>e in n?BQ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gt=(n,e,t)=>MQ(n,typeof e!="symbol"?e+"":e,t);class LQ{constructor(e,t){this.core=e,this.logger=t,gt(this,"name",jK),gt(this,"version",HK),gt(this,"events",new ZC),gt(this,"pairings"),gt(this,"initialized",!1),gt(this,"storagePrefix",Na),gt(this,"ignoredPayloadTypes",[_o]),gt(this,"registeredMethods",[]),gt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),gt(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),gt(this,"create",async r=>{this.isInitialized();const s=L_(),a=await this.core.crypto.setSymKey(s),c=Bn(ve.FIVE_MINUTES),u={protocol:ik},h={topic:a,expiry:c,relay:u,active:!1,methods:r==null?void 0:r.methods},d=YI({protocol:this.core.protocol,version:this.core.version,topic:a,symKey:s,relay:u,expiryTimestamp:c,methods:r==null?void 0:r.methods});return this.events.emit(kl.create,h),this.core.expirer.set(a,c),await this.pairings.set(a,h),await this.core.relayer.subscribe(a,{transportType:r==null?void 0:r.transportType}),{topic:a,uri:d}}),gt(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[Xi.pairing_started]}});this.isValidPair(r,s);const{topic:a,symKey:c,relay:u,expiryTimestamp:h,methods:d}=WI(r.uri);s.props.properties.topic=a,s.addTrace(Xi.pairing_uri_validation_success),s.addTrace(Xi.pairing_uri_not_expired);let p;if(this.pairings.keys.includes(a)){if(p=this.pairings.get(a),s.addTrace(Xi.existing_pairing),p.active)throw s.setError(Xa.active_pairing_already_exists),new Error(`Pairing already exists: ${a}. Please try again with a new connection URI.`);s.addTrace(Xi.pairing_not_expired)}const m=h||Bn(ve.FIVE_MINUTES),y={topic:a,relay:u,expiry:m,active:!1,methods:d};this.core.expirer.set(a,m),await this.pairings.set(a,y),s.addTrace(Xi.store_new_pairing),r.activatePairing&&await this.activate({topic:a}),this.events.emit(kl.create,y),s.addTrace(Xi.emit_inactive_pairing),this.core.crypto.keychain.has(a)||await this.core.crypto.setSymKey(c,a),s.addTrace(Xi.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(Xa.no_internet_connection)}try{await this.core.relayer.subscribe(a,{relay:u})}catch(b){throw s.setError(Xa.subscribe_pairing_topic_failure),b}return s.addTrace(Xi.subscribe_pairing_topic_success),y}),gt(this,"activate",async({topic:r})=>{this.isInitialized();const s=Bn(ve.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),gt(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const a=await this.sendRequest(s,"wc_pairingPing",{}),{done:c,resolve:u,reject:h}=Il();this.events.once(xt("pairing_ping",a),({error:d})=>{d?h(d):u()}),await c()}}),gt(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),gt(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),gt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),gt(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",qt("USER_DISCONNECTED")),await this.deletePairing(s))}),gt(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:a,expiry:c,methods:u}=r,h=this.core.crypto.keychain.get(s);return YI({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:h,relay:a,expiryTimestamp:c,methods:u})}),gt(this,"sendRequest",async(r,s,a)=>{const c=$c(s,a),u=await this.core.crypto.encode(r,c),h=pg[s].req;return this.core.history.set(r,c),this.core.relayer.publish(r,u,h),c.id}),gt(this,"sendResult",async(r,s,a)=>{const c=Jb(r,a),u=await this.core.crypto.encode(s,c),h=(await this.core.history.get(s,r)).request.method,d=pg[h].res;await this.core.relayer.publish(s,u,d),await this.core.history.resolve(c)}),gt(this,"sendError",async(r,s,a)=>{const c=Xb(r,a),u=await this.core.crypto.encode(s,c),h=(await this.core.history.get(s,r)).request.method,d=pg[h]?pg[h].res:pg.unregistered_method.res;await this.core.relayer.publish(s,u,d),await this.core.history.resolve(c)}),gt(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,qt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),gt(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>mc(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),gt(this,"onRelayEventRequest",async r=>{const{topic:s,payload:a}=r;switch(a.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,a);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,a);default:return await this.onUnknownRpcMethodRequest(s,a)}}),gt(this,"onRelayEventResponse",async r=>{const{topic:s,payload:a}=r,c=(await this.core.history.get(s,a.id)).request.method;switch(c){case"wc_pairingPing":return this.onPairingPingResponse(s,a);default:return this.onUnknownRpcMethodResponse(c)}}),gt(this,"onPairingPingRequest",async(r,s)=>{const{id:a}=s;try{this.isValidPing({topic:r}),await this.sendResult(a,r,!0),this.events.emit(kl.ping,{id:a,topic:r})}catch(c){await this.sendError(a,r,c),this.logger.error(c)}}),gt(this,"onPairingPingResponse",(r,s)=>{const{id:a}=s;setTimeout(()=>{ta(s)?this.events.emit(xt("pairing_ping",a),{}):ii(s)&&this.events.emit(xt("pairing_ping",a),{error:s.error})},500)}),gt(this,"onPairingDeleteRequest",async(r,s)=>{const{id:a}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(kl.delete,{id:a,topic:r})}catch(c){await this.sendError(a,r,c),this.logger.error(c)}}),gt(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:a,method:c}=s;try{if(this.registeredMethods.includes(c))return;const u=qt("WC_METHOD_UNSUPPORTED",c);await this.sendError(a,r,u),this.logger.error(u)}catch(u){await this.sendError(a,r,u),this.logger.error(u)}}),gt(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(qt("WC_METHOD_UNSUPPORTED",r))}),gt(this,"isValidPair",(r,s)=>{var a;if(!ts(r)){const{message:u}=Ee("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(Xa.malformed_pairing_uri),new Error(u)}if(!iV(r.uri)){const{message:u}=Ee("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(Xa.malformed_pairing_uri),new Error(u)}const c=WI(r==null?void 0:r.uri);if(!((a=c==null?void 0:c.relay)!=null&&a.protocol)){const{message:u}=Ee("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(Xa.malformed_pairing_uri),new Error(u)}if(!(c!=null&&c.symKey)){const{message:u}=Ee("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(Xa.malformed_pairing_uri),new Error(u)}if(c!=null&&c.expiryTimestamp&&ve.toMiliseconds(c==null?void 0:c.expiryTimestamp)<Date.now()){s.setError(Xa.pairing_expired);const{message:u}=Ee("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(u)}}),gt(this,"isValidPing",async r=>{if(!ts(r)){const{message:a}=Ee("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(a)}const{topic:s}=r;await this.isValidPairingTopic(s)}),gt(this,"isValidDisconnect",async r=>{if(!ts(r)){const{message:a}=Ee("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(a)}const{topic:s}=r;await this.isValidPairingTopic(s)}),gt(this,"isValidPairingTopic",async r=>{if(!xn(r,!1)){const{message:s}=Ee("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=Ee("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(mc(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=Ee("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=e,this.logger=Or(t,this.name),this.pairings=new Ku(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ds(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Ee("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Wn.message,async e=>{const{topic:t,message:r,transportType:s}=e;if(this.pairings.keys.includes(t)&&s!==on.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const a=await this.core.crypto.decode(t,r);mS(a)?(this.core.history.set(t,a),await this.onRelayEventRequest({topic:t,payload:a})):ev(a)&&(await this.core.history.resolve(a),await this.onRelayEventResponse({topic:t,payload:a}),this.core.history.delete(t,a.id)),await this.core.relayer.messages.ack(t,r)}catch(a){this.logger.error(a)}})}registerExpirerEvents(){this.core.expirer.on(Js.expired,async e=>{const{topic:t}=gU(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(kl.expire,{topic:t}))})}}var $Q=Object.defineProperty,FQ=(n,e,t)=>e in n?$Q(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ir=(n,e,t)=>FQ(n,typeof e!="symbol"?e+"":e,t);class jQ extends L${constructor(e,t){super(e,t),this.core=e,this.logger=t,ir(this,"records",new Map),ir(this,"events",new ci.EventEmitter),ir(this,"name",zK),ir(this,"version",qK),ir(this,"cached",[]),ir(this,"initialized",!1),ir(this,"storagePrefix",Na),ir(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ir(this,"set",(r,s,a)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:a}),this.records.has(s.id))return;const c={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:a,expiry:Bn(ve.THIRTY_DAYS)};this.records.set(c.id,c),this.persist(),this.events.emit(mi.created,c)}),ir(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=ii(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(mi.updated,s))}),ir(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),ir(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(a=>{if(a.topic===r){if(typeof s<"u"&&a.id!==s)return;this.records.delete(a.id),this.events.emit(mi.deleted,a)}}),this.persist()}),ir(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),ir(this,"on",(r,s)=>{this.events.on(r,s)}),ir(this,"once",(r,s)=>{this.events.once(r,s)}),ir(this,"off",(r,s)=>{this.events.off(r,s)}),ir(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Or(t,this.name)}get context(){return ds(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const r={topic:t.topic,request:$c(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:r}=Ee("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(mi.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:t}=Ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(mi.created,e=>{const t=mi.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(mi.updated,e=>{const t=mi.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(mi.deleted,e=>{const t=mi.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(Gu.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{ve.toMiliseconds(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(mi.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ee("NOT_INITIALIZED",this.name);throw new Error(e)}}}var HQ=Object.defineProperty,zQ=(n,e,t)=>e in n?HQ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Er=(n,e,t)=>zQ(n,typeof e!="symbol"?e+"":e,t);class qQ extends q${constructor(e,t){super(e,t),this.core=e,this.logger=t,Er(this,"expirations",new Map),Er(this,"events",new ci.EventEmitter),Er(this,"name",GK),Er(this,"version",VK),Er(this,"cached",[]),Er(this,"initialized",!1),Er(this,"storagePrefix",Na),Er(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Er(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),Er(this,"set",(r,s)=>{this.isInitialized();const a=this.formatTarget(r),c={target:a,expiry:s};this.expirations.set(a,c),this.checkExpiry(a,c),this.events.emit(Js.created,{target:a,expiration:c})}),Er(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),Er(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),a=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Js.deleted,{target:s,expiration:a})}}),Er(this,"on",(r,s)=>{this.events.on(r,s)}),Er(this,"once",(r,s)=>{this.events.once(r,s)}),Er(this,"off",(r,s)=>{this.events.off(r,s)}),Er(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Or(t,this.name)}get context(){return ds(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return cz(e);if(typeof e=="number")return lz(e);const{message:t}=Ee("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Js.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:t}=Ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:r}=Ee("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return t}checkExpiry(e,t){const{expiry:r}=t;ve.toMiliseconds(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Js.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(Gu.pulse,()=>this.checkExpirations()),this.events.on(Js.created,e=>{const t=Js.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Js.expired,e=>{const t=Js.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Js.deleted,e=>{const t=Js.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ee("NOT_INITIALIZED",this.name);throw new Error(e)}}}var GQ=Object.defineProperty,VQ=(n,e,t)=>e in n?GQ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,In=(n,e,t)=>VQ(n,typeof e!="symbol"?e+"":e,t);class KQ extends G${constructor(e,t,r){super(e,t,r),this.core=e,this.logger=t,this.store=r,In(this,"name",KK),In(this,"abortController"),In(this,"isDevEnv"),In(this,"verifyUrlV3",YK),In(this,"storagePrefix",Na),In(this,"version",sk),In(this,"publicKey"),In(this,"fetchPromise"),In(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ve.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),In(this,"register",async s=>{if(!Wf()||this.isDevEnv)return;const a=window.location.origin,{id:c,decryptedId:u}=s,h=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${a}&id=${c}&decryptedId=${u}`;try{const d=To.getDocument(),p=this.startAbortTimer(ve.ONE_SECOND*5),m=await new Promise((y,b)=>{const E=()=>{window.removeEventListener("message",A),d.body.removeChild(v),b("attestation aborted")};this.abortController.signal.addEventListener("abort",E);const v=d.createElement("iframe");v.src=h,v.style.display="none",v.addEventListener("error",E,{signal:this.abortController.signal});const A=N=>{if(N.data&&typeof N.data=="string")try{const I=JSON.parse(N.data);if(I.type==="verify_attestation"){if(C_(I.attestation).payload.id!==c)return;clearInterval(p),d.body.removeChild(v),this.abortController.signal.removeEventListener("abort",E),window.removeEventListener("message",A),y(I.attestation===null?"":I.attestation)}}catch(I){this.logger.warn(I)}};d.body.appendChild(v),window.addEventListener("message",A,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",m),m}catch(d){this.logger.warn(d)}return""}),In(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:a,hash:c,encryptedId:u}=s;if(a===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(a){if(C_(a).payload.id!==u)return;const d=await this.isValidJwtAttestation(a);if(d){if(!d.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return d}}if(!c)return;const h=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(c,h)}),In(this,"fetchAttestation",async(s,a)=>{this.logger.debug(`resolving attestation: ${s} from url: ${a}`);const c=this.startAbortTimer(ve.ONE_SECOND*5),u=await fetch(`${a}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(c),u.status===200?await u.json():void 0}),In(this,"getVerifyUrl",s=>{let a=s||Fg;return QK.includes(a)||(this.logger.info(`verify url: ${a}, not included in trusted list, assigning default: ${Fg}`),a=Fg),a}),In(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(ve.FIVE_SECONDS),a=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await a.json()}catch(s){this.logger.warn(s)}}),In(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),In(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),In(this,"isValidJwtAttestation",async s=>{const a=await this.getPublicKey();try{if(a)return this.validateAttestation(s,a)}catch(u){this.logger.error(u),this.logger.warn("error validating attestation")}const c=await this.fetchAndPersistPublicKey();try{if(c)return this.validateAttestation(s,c)}catch(u){this.logger.error(u),this.logger.warn("error validating attestation")}}),In(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),In(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async a=>{const c=await this.fetchPublicKey();c&&(await this.persistPublicKey(c),a(c))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),In(this,"validateAttestation",(s,a)=>{const c=LG(s,a.publicKey),u={hasExpired:ve.toMiliseconds(c.exp)<Date.now(),payload:c};if(u.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:u.payload.origin,isScam:u.payload.isScam,isVerified:u.payload.isVerified}}),this.logger=Or(t,this.name),this.abortController=new AbortController,this.isDevEnv=oS(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return ds(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ve.toMiliseconds(e))}}var WQ=Object.defineProperty,YQ=(n,e,t)=>e in n?WQ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Dx=(n,e,t)=>YQ(n,typeof e!="symbol"?e+"":e,t);class QQ extends V${constructor(e,t){super(e,t),this.projectId=e,this.logger=t,Dx(this,"context",ZK),Dx(this,"registerDeviceToken",async r=>{const{clientId:s,token:a,notificationType:c,enableEncrypted:u=!1}=r,h=`${JK}/${this.projectId}/clients`;await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:c,token:a,always_raw:u})})}),this.logger=Or(t,this.context)}}var ZQ=Object.defineProperty,Ux=Object.getOwnPropertySymbols,JQ=Object.prototype.hasOwnProperty,XQ=Object.prototype.propertyIsEnumerable,Z_=(n,e,t)=>e in n?ZQ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,yg=(n,e)=>{for(var t in e||(e={}))JQ.call(e,t)&&Z_(n,t,e[t]);if(Ux)for(var t of Ux(e))XQ.call(e,t)&&Z_(n,t,e[t]);return n},Hn=(n,e,t)=>Z_(n,typeof e!="symbol"?e+"":e,t);class eZ extends K${constructor(e,t,r=!0){super(e,t,r),this.core=e,this.logger=t,Hn(this,"context",eW),Hn(this,"storagePrefix",Na),Hn(this,"storageVersion",XK),Hn(this,"events",new Map),Hn(this,"shouldPersist",!1),Hn(this,"init",async()=>{if(!oS())try{const s={eventId:wI(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:fU(this.core.relayer.protocol,this.core.relayer.version,z_)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),Hn(this,"createEvent",s=>{const{event:a="ERROR",type:c="",properties:{topic:u,trace:h}}=s,d=wI(),p=this.core.projectId||"",m=Date.now(),y=yg({eventId:d,timestamp:m,props:{event:a,type:c,properties:{topic:u,trace:h}},bundleId:p,domain:this.getAppDomain()},this.setMethods(d));return this.telemetryEnabled&&(this.events.set(d,y),this.shouldPersist=!0),y}),Hn(this,"getEvent",s=>{const{eventId:a,topic:c}=s;if(a)return this.events.get(a);const u=Array.from(this.events.values()).find(h=>h.props.properties.topic===c);if(u)return yg(yg({},u),this.setMethods(u.eventId))}),Hn(this,"deleteEvent",s=>{const{eventId:a}=s;this.events.delete(a),this.shouldPersist=!0}),Hn(this,"setEventListeners",()=>{this.core.heartbeat.on(Gu.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{ve.fromMiliseconds(Date.now())-ve.fromMiliseconds(s.timestamp)>tW&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),Hn(this,"setMethods",s=>({addTrace:a=>this.addTrace(s,a),setError:a=>this.setError(s,a)})),Hn(this,"addTrace",(s,a)=>{const c=this.events.get(s);c&&(c.props.properties.trace.push(a),this.events.set(s,c),this.shouldPersist=!0)}),Hn(this,"setError",(s,a)=>{const c=this.events.get(s);c&&(c.props.type=a,c.timestamp=Date.now(),this.events.set(s,c),this.shouldPersist=!0)}),Hn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Hn(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(a=>{this.events.set(a.eventId,yg(yg({},a),this.setMethods(a.eventId)))})}catch(s){this.logger.warn(s)}}),Hn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[a,c]of this.events)c.props.type&&s.push(c);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const a of s)this.events.delete(a.eventId),this.shouldPersist=!0}catch(a){this.logger.warn(a)}}),Hn(this,"sendEvent",async s=>{const a=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${nW}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${z_}${a}`,{method:"POST",body:JSON.stringify(s)})}),Hn(this,"getAppDomain",()=>dU().url),this.logger=Or(t,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var tZ=Object.defineProperty,kx=Object.getOwnPropertySymbols,nZ=Object.prototype.hasOwnProperty,rZ=Object.prototype.propertyIsEnumerable,J_=(n,e,t)=>e in n?tZ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Bx=(n,e)=>{for(var t in e||(e={}))nZ.call(e,t)&&J_(n,t,e[t]);if(kx)for(var t of kx(e))rZ.call(e,t)&&J_(n,t,e[t]);return n},sn=(n,e,t)=>J_(n,typeof e!="symbol"?e+"":e,t);let sZ=class wk extends U${constructor(e){var t;super(e),sn(this,"protocol",rk),sn(this,"version",sk),sn(this,"name",H_),sn(this,"relayUrl"),sn(this,"projectId"),sn(this,"customStoragePrefix"),sn(this,"events",new ci.EventEmitter),sn(this,"logger"),sn(this,"heartbeat"),sn(this,"relayer"),sn(this,"crypto"),sn(this,"storage"),sn(this,"history"),sn(this,"expirer"),sn(this,"pairing"),sn(this,"verify"),sn(this,"echoClient"),sn(this,"linkModeSupportedApps"),sn(this,"eventClient"),sn(this,"initialized",!1),sn(this,"logChunkController"),sn(this,"on",(u,h)=>this.events.on(u,h)),sn(this,"once",(u,h)=>this.events.once(u,h)),sn(this,"off",(u,h)=>this.events.off(u,h)),sn(this,"removeListener",(u,h)=>this.events.removeListener(u,h)),sn(this,"dispatchEnvelope",({topic:u,message:h,sessionExists:d})=>{if(!u||!h)return;const p={topic:u,message:h,publishedAt:Date.now(),transportType:on.link_mode};this.relayer.onLinkMessageEvent(p,{sessionExists:d})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(u){console.warn("Failed to copy global core",u)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||ak,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=qf({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:CK.logger,name:H_}),{logger:a,chunkLoggerController:c}=XC({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=c,(t=this.logChunkController)!=null&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var u,h;(u=this.logChunkController)!=null&&u.downloadLogsBlobInBrowser&&((h=this.logChunkController)==null||h.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Or(a,this.name),this.heartbeat=new D6,this.crypto=new xY(this,this.logger,e==null?void 0:e.keychain),this.history=new jQ(this,this.logger),this.expirer=new qQ(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new g$(Bx(Bx({},SK),e==null?void 0:e.storageOptions)),this.relayer=new sQ({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new LQ(this,this.logger),this.verify=new KQ(this,this.logger,this.storage),this.echoClient=new QQ(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new eZ(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new wk(e);await t.initialize();const r=await t.crypto.getClientId();return await t.storage.setItem(LK,r),t}get context(){return ds(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(gx,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(gx)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const t=`_walletConnectCore_${e}`,r=`${t}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[t]}catch(t){console.warn("Failed to get global WalletConnect core",t);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((t=e.opts)==null?void 0:t.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&_K.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const iZ=sZ,bk="wc",vk=2,Ek="client",yS=`${bk}@${vk}:${Ek}:`,I1={name:Ek,logger:"error"},Mx="WALLETCONNECT_DEEPLINK_CHOICE",aZ="proposal",Lx="Proposal expired",oZ="session",qh=ve.SEVEN_DAYS,cZ="engine",zn={wc_sessionPropose:{req:{ttl:ve.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ve.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ve.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ve.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ve.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ve.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ve.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ve.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ve.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ve.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ve.FIVE_MINUTES,prompt:!1,tag:1119}}},x1={min:ve.FIVE_MINUTES,max:ve.SEVEN_DAYS},Zi={idle:"IDLE",active:"ACTIVE"},$x={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},lZ="request",uZ=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],hZ="wc",dZ="auth",fZ="authKeys",pZ="pairingTopics",gZ="requests",nv=`${hZ}@${1.5}:${dZ}:`,D0=`${nv}:PUB_KEY`;var mZ=Object.defineProperty,yZ=Object.defineProperties,wZ=Object.getOwnPropertyDescriptors,Fx=Object.getOwnPropertySymbols,bZ=Object.prototype.hasOwnProperty,vZ=Object.prototype.propertyIsEnumerable,X_=(n,e,t)=>e in n?mZ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Jt=(n,e)=>{for(var t in e||(e={}))bZ.call(e,t)&&X_(n,t,e[t]);if(Fx)for(var t of Fx(e))vZ.call(e,t)&&X_(n,t,e[t]);return n},Pr=(n,e)=>yZ(n,wZ(e)),fe=(n,e,t)=>X_(n,typeof e!="symbol"?e+"":e,t);class EZ extends Z${constructor(e){super(e),fe(this,"name",cZ),fe(this,"events",new ZC),fe(this,"initialized",!1),fe(this,"requestQueue",{state:Zi.idle,queue:[]}),fe(this,"sessionRequestQueue",{state:Zi.idle,queue:[]}),fe(this,"requestQueueDelay",ve.ONE_SECOND),fe(this,"expectedPairingMethodMap",new Map),fe(this,"recentlyDeletedMap",new Map),fe(this,"recentlyDeletedLimit",200),fe(this,"relayMessageCache",[]),fe(this,"pendingSessions",new Map),fe(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(zn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ve.toMiliseconds(this.requestQueueDelay)))}),fe(this,"connect",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Pr(Jt({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=eV(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:a,optionalNamespaces:c,sessionProperties:u,scopedProperties:h,relays:d}=r;let p=s,m,y=!1;try{if(p){const O=this.client.core.pairing.pairings.get(p);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),y=O.active}}catch(O){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),O}if(!p||!y){const{topic:O,uri:B}=await this.client.core.pairing.create();p=O,m=B}if(!p){const{message:O}=Ee("NO_MATCHING_KEY",`connect() pairing topic: ${p}`);throw new Error(O)}const b=await this.client.core.crypto.generateKeyPair(),E=zn.wc_sessionPropose.req.ttl||ve.FIVE_MINUTES,v=Bn(E),A=Pr(Jt(Jt({requiredNamespaces:a,optionalNamespaces:c,relays:d??[{protocol:ik}],proposer:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:v,pairingTopic:p},u&&{sessionProperties:u}),h&&{scopedProperties:h}),{id:ea()}),N=xt("session_connect",A.id),{reject:I,resolve:P,done:k}=Il(E,Lx),U=({id:O})=>{O===A.id&&(this.client.events.off("proposal_expire",U),this.pendingSessions.delete(A.id),this.events.emit(N,{error:{message:Lx,code:0}}))};return this.client.events.on("proposal_expire",U),this.events.once(N,({error:O,session:B})=>{this.client.events.off("proposal_expire",U),O?I(O):B&&P(B)}),await this.sendRequest({topic:p,method:"wc_sessionPropose",params:A,throwOnFailedPublish:!0,clientRpcId:A.id}),await this.setProposal(A.id,A),{uri:m,approval:k}}),fe(this,"pair",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(t)}catch(r){throw this.client.logger.error("pair() failed"),r}}),fe(this,"approve",async t=>{var r,s,a;const c=this.client.core.eventClient.createEvent({properties:{topic:(r=t==null?void 0:t.id)==null?void 0:r.toString(),trace:[yi.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch($){throw c.setError(_l.no_internet_connection),$}try{await this.isValidProposalId(t==null?void 0:t.id)}catch($){throw this.client.logger.error(`approve() -> proposal.get(${t==null?void 0:t.id}) failed`),c.setError(_l.proposal_not_found),$}try{await this.isValidApprove(t)}catch($){throw this.client.logger.error("approve() -> isValidApprove() failed"),c.setError(_l.session_approve_namespace_validation_failure),$}const{id:u,relayProtocol:h,namespaces:d,sessionProperties:p,scopedProperties:m,sessionConfig:y}=t,b=this.client.proposal.get(u);this.client.core.eventClient.deleteEvent({eventId:c.eventId});const{pairingTopic:E,proposer:v,requiredNamespaces:A,optionalNamespaces:N}=b;let I=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:E});I||(I=(a=this.client.core.eventClient)==null?void 0:a.createEvent({type:yi.session_approve_started,properties:{topic:E,trace:[yi.session_approve_started,yi.session_namespaces_validation_success]}}));const P=await this.client.core.crypto.generateKeyPair(),k=v.publicKey,U=await this.client.core.crypto.generateSharedKey(P,k),O=Jt(Jt(Jt({relay:{protocol:h??"irn"},namespaces:d,controller:{publicKey:P,metadata:this.client.metadata},expiry:Bn(qh)},p&&{sessionProperties:p}),m&&{scopedProperties:m}),y&&{sessionConfig:y}),B=on.relay;I.addTrace(yi.subscribing_session_topic);try{await this.client.core.relayer.subscribe(U,{transportType:B})}catch($){throw I.setError(_l.subscribe_session_topic_failure),$}I.addTrace(yi.subscribe_session_topic_success);const M=Pr(Jt({},O),{topic:U,requiredNamespaces:A,optionalNamespaces:N,pairingTopic:E,acknowledged:!1,self:O.controller,peer:{publicKey:v.publicKey,metadata:v.metadata},controller:P,transportType:on.relay});await this.client.session.set(U,M),I.addTrace(yi.store_session);try{I.addTrace(yi.publishing_session_settle),await this.sendRequest({topic:U,method:"wc_sessionSettle",params:O,throwOnFailedPublish:!0}).catch($=>{throw I==null||I.setError(_l.session_settle_publish_failure),$}),I.addTrace(yi.session_settle_publish_success),I.addTrace(yi.publishing_session_approve),await this.sendResult({id:u,topic:E,result:{relay:{protocol:h??"irn"},responderPublicKey:P},throwOnFailedPublish:!0}).catch($=>{throw I==null||I.setError(_l.session_approve_publish_failure),$}),I.addTrace(yi.session_approve_publish_success)}catch($){throw this.client.logger.error($),this.client.session.delete(U,qt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(U),$}return this.client.core.eventClient.deleteEvent({eventId:I.eventId}),await this.client.core.pairing.updateMetadata({topic:E,metadata:v.metadata}),await this.client.proposal.delete(u,qt("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:E}),await this.setExpiry(U,Bn(qh)),{topic:U,acknowledged:()=>Promise.resolve(this.client.session.get(U))}}),fe(this,"reject",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(t)}catch(c){throw this.client.logger.error("reject() -> isValidReject() failed"),c}const{id:r,reason:s}=t;let a;try{a=this.client.proposal.get(r).pairingTopic}catch(c){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),c}a&&(await this.sendError({id:r,topic:a,error:s,rpcOpts:zn.wc_sessionPropose.reject}),await this.client.proposal.delete(r,qt("USER_DISCONNECTED")))}),fe(this,"update",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(t)}catch(m){throw this.client.logger.error("update() -> isValidUpdate() failed"),m}const{topic:r,namespaces:s}=t,{done:a,resolve:c,reject:u}=Il(),h=ea(),d=ql().toString(),p=this.client.session.get(r).namespaces;return this.events.once(xt("session_update",h),({error:m})=>{m?u(m):c()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:h,relayRpcId:d}).catch(m=>{this.client.logger.error(m),this.client.session.update(r,{namespaces:p}),u(m)}),{acknowledged:a}}),fe(this,"extend",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(t)}catch(h){throw this.client.logger.error("extend() -> isValidExtend() failed"),h}const{topic:r}=t,s=ea(),{done:a,resolve:c,reject:u}=Il();return this.events.once(xt("session_extend",s),({error:h})=>{h?u(h):c()}),await this.setExpiry(r,Bn(qh)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(h=>{u(h)}),{acknowledged:a}}),fe(this,"request",async t=>{this.isInitialized();try{await this.isValidRequest(t)}catch(N){throw this.client.logger.error("request() -> isValidRequest() failed"),N}const{chainId:r,request:s,topic:a,expiry:c=zn.wc_sessionRequest.req.ttl}=t,u=this.client.session.get(a);(u==null?void 0:u.transportType)===on.relay&&await this.confirmOnlineStateOrThrow();const h=ea(),d=ql().toString(),{done:p,resolve:m,reject:y}=Il(c,"Request expired. Please try again.");this.events.once(xt("session_request",h),({error:N,result:I})=>{N?y(N):m(I)});const b="wc_sessionRequest",E=this.getAppLinkIfEnabled(u.peer.metadata,u.transportType);if(E)return await this.sendRequest({clientRpcId:h,relayRpcId:d,topic:a,method:b,params:{request:Pr(Jt({},s),{expiryTimestamp:Bn(c)}),chainId:r},expiry:c,throwOnFailedPublish:!0,appLink:E}).catch(N=>y(N)),this.client.events.emit("session_request_sent",{topic:a,request:s,chainId:r,id:h}),await p();const v={request:Pr(Jt({},s),{expiryTimestamp:Bn(c)}),chainId:r},A=this.shouldSetTVF(b,v);return await Promise.all([new Promise(async N=>{await this.sendRequest(Jt({clientRpcId:h,relayRpcId:d,topic:a,method:b,params:v,expiry:c,throwOnFailedPublish:!0},A&&{tvf:this.getTVFParams(h,v)})).catch(I=>y(I)),this.client.events.emit("session_request_sent",{topic:a,request:s,chainId:r,id:h}),N()}),new Promise(async N=>{var I;if(!((I=u.sessionConfig)!=null&&I.disableDeepLink)){const P=await fz(this.client.core.storage,Mx);await uz({id:h,topic:a,wcDeepLink:P})}N()}),p()]).then(N=>N[2])}),fe(this,"respond",async t=>{this.isInitialized(),await this.isValidRespond(t);const{topic:r,response:s}=t,{id:a}=s,c=this.client.session.get(r);c.transportType===on.relay&&await this.confirmOnlineStateOrThrow();const u=this.getAppLinkIfEnabled(c.peer.metadata,c.transportType);ta(s)?await this.sendResult({id:a,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:u}):ii(s)&&await this.sendError({id:a,topic:r,error:s.error,appLink:u}),this.cleanupAfterResponse(t)}),fe(this,"ping",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(t)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=t;if(this.client.session.keys.includes(r)){const s=ea(),a=ql().toString(),{done:c,resolve:u,reject:h}=Il();this.events.once(xt("session_ping",s),({error:d})=>{d?h(d):u()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:a}),c()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),fe(this,"emit",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(t);const{topic:r,event:s,chainId:a}=t,c=ql().toString(),u=ea();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:a},throwOnFailedPublish:!0,relayRpcId:c,clientRpcId:u})}),fe(this,"disconnect",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(t);const{topic:r}=t;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:qt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=Ee("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),fe(this,"find",t=>(this.isInitialized(),this.client.session.getAll().filter(r=>rV(r,t)))),fe(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),fe(this,"authenticate",async(t,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(t);const a=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),c=a?on.link_mode:on.relay;c===on.relay&&await this.confirmOnlineStateOrThrow();const{chains:u,statement:h="",uri:d,domain:p,nonce:m,type:y,exp:b,nbf:E,methods:v=[],expiry:A}=t,N=[...t.resources||[]],{topic:I,uri:P}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:c});this.client.logger.info({message:"Generated new pairing",pairing:{topic:I,uri:P}});const k=await this.client.core.crypto.generateKeyPair(),U=x0(k);if(await Promise.all([this.client.auth.authKeys.set(D0,{responseTopic:U,publicKey:k}),this.client.auth.pairingTopics.set(U,{topic:U,pairingTopic:I})]),await this.client.core.relayer.subscribe(U,{transportType:c}),this.client.logger.info(`sending request to new pairing topic: ${I}`),v.length>0){const{namespace:G}=Ed(u[0]);let R=iq(G,"request",v);I0(N)&&(R=oq(R,N.pop())),N.push(R)}const O=A&&A>zn.wc_sessionAuthenticate.req.ttl?A:zn.wc_sessionAuthenticate.req.ttl,B={authPayload:{type:y??"caip122",chains:u,statement:h,aud:d,domain:p,version:"1",nonce:m,iat:new Date().toISOString(),exp:b,nbf:E,resources:N},requester:{publicKey:k,metadata:this.client.metadata},expiryTimestamp:Bn(O)},M={eip155:{chains:u,methods:[...new Set(["personal_sign",...v])],events:["chainChanged","accountsChanged"]}},$={requiredNamespaces:{},optionalNamespaces:M,relays:[{protocol:"irn"}],pairingTopic:I,proposer:{publicKey:k,metadata:this.client.metadata},expiryTimestamp:Bn(zn.wc_sessionPropose.req.ttl),id:ea()},{done:q,resolve:V,reject:te}=Il(O,"Request expired"),de=ea(),Z=xt("session_connect",$.id),T=xt("session_request",de),C=async({error:G,session:R})=>{this.events.off(T,L),G?te(G):R&&V({session:R})},L=async G=>{var R,W,ne;if(await this.deletePendingAuthRequest(de,{message:"fulfilled",code:0}),G.error){const We=qt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return G.error.code===We.code?void 0:(this.events.off(Z,C),te(G.error.message))}await this.deleteProposal($.id),this.events.off(Z,C);const{cacaos:ae,responder:oe}=G.result,ye=[],me=[];for(const We of ae){await NI({cacao:We,projectId:this.client.core.projectId})||(this.client.logger.error(We,"Signature verification failed"),te(qt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Kt}=We,an=I0(Kt.resources),tn=[R_(Kt.iss)],Lt=rb(Kt.iss);if(an){const fn=TI(an),hi=OI(an);ye.push(...fn),tn.push(...hi)}for(const fn of tn)me.push(`${fn}:${Lt}`)}const Ke=await this.client.core.crypto.generateSharedKey(k,oe.publicKey);let Be;ye.length>0&&(Be={topic:Ke,acknowledged:!0,self:{publicKey:k,metadata:this.client.metadata},peer:oe,controller:oe.publicKey,expiry:Bn(qh),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:I,namespaces:XI([...new Set(ye)],[...new Set(me)]),transportType:c},await this.client.core.relayer.subscribe(Ke,{transportType:c}),await this.client.session.set(Ke,Be),I&&await this.client.core.pairing.updateMetadata({topic:I,metadata:oe.metadata}),Be=this.client.session.get(Ke)),(R=this.client.metadata.redirect)!=null&&R.linkMode&&(W=oe.metadata.redirect)!=null&&W.linkMode&&(ne=oe.metadata.redirect)!=null&&ne.universal&&r&&(this.client.core.addLinkModeSupportedApp(oe.metadata.redirect.universal),this.client.session.update(Ke,{transportType:on.link_mode})),V({auths:ae,session:Be})};this.events.once(Z,C),this.events.once(T,L);let z;try{if(a){const G=$c("wc_sessionAuthenticate",B,de);this.client.core.history.set(I,G);const R=await this.client.core.crypto.encode("",G,{type:vy,encoding:wc});z=c0(r,I,R)}else await Promise.all([this.sendRequest({topic:I,method:"wc_sessionAuthenticate",params:B,expiry:t.expiry,throwOnFailedPublish:!0,clientRpcId:de}),this.sendRequest({topic:I,method:"wc_sessionPropose",params:$,expiry:zn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:$.id})])}catch(G){throw this.events.off(Z,C),this.events.off(T,L),G}return await this.setProposal($.id,$),await this.setAuthRequest(de,{request:Pr(Jt({},B),{verifyContext:{}}),pairingTopic:I,transportType:c}),{uri:z??P,response:q}}),fe(this,"approveSessionAuthenticate",async t=>{const{id:r,auths:s}=t,a=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Cl.authenticated_session_approve_started]}});try{this.isInitialized()}catch(A){throw a.setError(gg.no_internet_connection),A}const c=this.getPendingAuthRequest(r);if(!c)throw a.setError(gg.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const u=c.transportType||on.relay;u===on.relay&&await this.confirmOnlineStateOrThrow();const h=c.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),p=x0(h),m={type:_o,receiverPublicKey:h,senderPublicKey:d},y=[],b=[];for(const A of s){if(!await NI({cacao:A,projectId:this.client.core.projectId})){a.setError(gg.invalid_cacao);const U=qt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:p,error:U,encodeOpts:m}),new Error(U.message)}a.addTrace(Cl.cacaos_verified);const{p:N}=A,I=I0(N.resources),P=[R_(N.iss)],k=rb(N.iss);if(I){const U=TI(I),O=OI(I);y.push(...U),P.push(...O)}for(const U of P)b.push(`${U}:${k}`)}const E=await this.client.core.crypto.generateSharedKey(d,h);a.addTrace(Cl.create_authenticated_session_topic);let v;if((y==null?void 0:y.length)>0){v={topic:E,acknowledged:!0,self:{publicKey:d,metadata:this.client.metadata},peer:{publicKey:h,metadata:c.requester.metadata},controller:h,expiry:Bn(qh),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:c.pairingTopic,namespaces:XI([...new Set(y)],[...new Set(b)]),transportType:u},a.addTrace(Cl.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(E,{transportType:u})}catch(A){throw a.setError(gg.subscribe_authenticated_session_topic_failure),A}a.addTrace(Cl.subscribe_authenticated_session_topic_success),await this.client.session.set(E,v),a.addTrace(Cl.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:c.pairingTopic,metadata:c.requester.metadata})}a.addTrace(Cl.publishing_authenticated_session_approve);try{await this.sendResult({topic:p,id:r,result:{cacaos:s,responder:{publicKey:d,metadata:this.client.metadata}},encodeOpts:m,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(c.requester.metadata,u)})}catch(A){throw a.setError(gg.authenticated_session_approve_publish_failure),A}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:c.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:a.eventId}),{session:v}}),fe(this,"rejectSessionAuthenticate",async t=>{this.isInitialized();const{id:r,reason:s}=t,a=this.getPendingAuthRequest(r);if(!a)throw new Error(`Could not find pending auth request with id ${r}`);a.transportType===on.relay&&await this.confirmOnlineStateOrThrow();const c=a.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),h=x0(c),d={type:_o,receiverPublicKey:c,senderPublicKey:u};await this.sendError({id:r,topic:h,error:s,encodeOpts:d,rpcOpts:zn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(a.requester.metadata,a.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.client.proposal.delete(r,qt("USER_DISCONNECTED"))}),fe(this,"formatAuthMessage",t=>{this.isInitialized();const{request:r,iss:s}=t;return CU(r,s)}),fe(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const t=this.relayMessageCache.shift();t&&await this.onRelayMessage(t)}catch(t){this.client.logger.error(t)}},50)}),fe(this,"cleanupDuplicatePairings",async t=>{if(t.pairingTopic)try{const r=this.client.core.pairing.pairings.get(t.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(a=>{var c,u;return((c=a.peerMetadata)==null?void 0:c.url)&&((u=a.peerMetadata)==null?void 0:u.url)===t.peer.metadata.url&&a.topic&&a.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(a=>this.client.core.pairing.disconnect({topic:a.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),fe(this,"deleteSession",async t=>{var r;const{topic:s,expirerHasDeleted:a=!1,emitEvent:c=!0,id:u=0}=t,{self:h}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,qt("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(h.publicKey)&&await this.client.core.crypto.deleteKeyPair(h.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),a||this.client.core.expirer.del(s),this.client.core.storage.removeItem(Mx).catch(d=>this.client.logger.warn(d)),this.getPendingSessionRequests().forEach(d=>{d.topic===s&&this.deletePendingSessionRequest(d.id,qt("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Zi.idle),c&&this.client.events.emit("session_delete",{id:u,topic:s})}),fe(this,"deleteProposal",async(t,r)=>{if(r)try{const s=this.client.proposal.get(t),a=this.client.core.eventClient.getEvent({topic:s.pairingTopic});a==null||a.setError(_l.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(t,qt("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,"proposal")}),fe(this,"deletePendingSessionRequest",async(t,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,r),s?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(a=>a.id!==t),s&&(this.sessionRequestQueue.state=Zi.idle,this.client.events.emit("session_request_expire",{id:t}))}),fe(this,"deletePendingAuthRequest",async(t,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(t,r),s?Promise.resolve():this.client.core.expirer.del(t)])}),fe(this,"setExpiry",async(t,r)=>{this.client.session.keys.includes(t)&&(this.client.core.expirer.set(t,r),await this.client.session.update(t,{expiry:r}))}),fe(this,"setProposal",async(t,r)=>{this.client.core.expirer.set(t,Bn(zn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(t,r)}),fe(this,"setAuthRequest",async(t,r)=>{const{request:s,pairingTopic:a,transportType:c=on.relay}=r;this.client.core.expirer.set(t,s.expiryTimestamp),await this.client.auth.requests.set(t,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:t,pairingTopic:a,verifyContext:s.verifyContext,transportType:c})}),fe(this,"setPendingSessionRequest",async t=>{const{id:r,topic:s,params:a,verifyContext:c}=t,u=a.request.expiryTimestamp||Bn(zn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,u),await this.client.pendingRequest.set(r,{id:r,topic:s,params:a,verifyContext:c})}),fe(this,"sendRequest",async t=>{const{topic:r,method:s,params:a,expiry:c,relayRpcId:u,clientRpcId:h,throwOnFailedPublish:d,appLink:p,tvf:m}=t,y=$c(s,a,h);let b;const E=!!p;try{const N=E?wc:Di;b=await this.client.core.crypto.encode(r,y,{encoding:N})}catch(N){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),N}let v;if(uZ.includes(s)){const N=fa(JSON.stringify(y)),I=fa(b);v=await this.client.core.verify.register({id:I,decryptedId:N})}const A=zn[s].req;if(A.attestation=v,c&&(A.ttl=c),u&&(A.id=u),this.client.core.history.set(r,y),E){const N=c0(p,r,b);await global.Linking.openURL(N,this.client.name)}else{const N=zn[s].req;c&&(N.ttl=c),u&&(N.id=u),N.tvf=Pr(Jt({},m),{correlationId:y.id}),d?(N.internal=Pr(Jt({},N.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,b,N)):this.client.core.relayer.publish(r,b,N).catch(I=>this.client.logger.error(I))}return y.id}),fe(this,"sendResult",async t=>{const{id:r,topic:s,result:a,throwOnFailedPublish:c,encodeOpts:u,appLink:h}=t,d=Jb(r,a);let p;const m=h&&typeof(global==null?void 0:global.Linking)<"u";try{const E=m?wc:Di;p=await this.client.core.crypto.encode(s,d,Pr(Jt({},u||{}),{encoding:E}))}catch(E){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),E}let y,b;try{y=await this.client.core.history.get(s,r);const E=y.request;try{this.shouldSetTVF(E.method,E.params)&&(b=this.getTVFParams(r,E.params,a))}catch(v){this.client.logger.warn("sendResult() -> getTVFParams() failed",v)}}catch(E){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),E}if(m){const E=c0(h,s,p);await global.Linking.openURL(E,this.client.name)}else{const E=y.request.method,v=zn[E].res;v.tvf=Pr(Jt({},b),{correlationId:r}),c?(v.internal=Pr(Jt({},v.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,p,v)):this.client.core.relayer.publish(s,p,v).catch(A=>this.client.logger.error(A))}await this.client.core.history.resolve(d)}),fe(this,"sendError",async t=>{const{id:r,topic:s,error:a,encodeOpts:c,rpcOpts:u,appLink:h}=t,d=Xb(r,a);let p;const m=h&&typeof(global==null?void 0:global.Linking)<"u";try{const b=m?wc:Di;p=await this.client.core.crypto.encode(s,d,Pr(Jt({},c||{}),{encoding:b}))}catch(b){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),b}let y;try{y=await this.client.core.history.get(s,r)}catch(b){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),b}if(m){const b=c0(h,s,p);await global.Linking.openURL(b,this.client.name)}else{const b=y.request.method,E=u||zn[b].res;this.client.core.relayer.publish(s,p,E)}await this.client.core.history.resolve(d)}),fe(this,"cleanup",async()=>{const t=[],r=[];this.client.session.getAll().forEach(s=>{let a=!1;mc(s.expiry)&&(a=!0),this.client.core.crypto.keychain.has(s.topic)||(a=!0),a&&t.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{mc(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...t.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),fe(this,"onProviderMessageEvent",async t=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(t):await this.onRelayMessage(t)}),fe(this,"onRelayEventRequest",async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()}),fe(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Zi.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Zi.active;const t=this.requestQueue.queue.shift();if(t)try{await this.processRequest(t)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Zi.idle}),fe(this,"processRequest",async t=>{const{topic:r,payload:s,attestation:a,transportType:c,encryptedId:u}=t,h=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:h}))switch(h){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:a,encryptedId:u});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:a,encryptedId:u,transportType:c});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:a,encryptedId:u,transportType:c});default:return this.client.logger.info(`Unsupported request method ${h}`)}}),fe(this,"onRelayEventResponse",async t=>{const{topic:r,payload:s,transportType:a}=t,c=(await this.client.core.history.get(r,s.id)).request.method;switch(c){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,a);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${c}`)}}),fe(this,"onRelayEventUnknownPayload",t=>{const{topic:r}=t,{message:s}=Ee("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),fe(this,"shouldIgnorePairingRequest",t=>{const{topic:r,requestMethod:s}=t,a=this.expectedPairingMethodMap.get(r);return!a||a.includes(s)?!1:!!(a.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),fe(this,"onSessionProposeRequest",async t=>{const{topic:r,payload:s,attestation:a,encryptedId:c}=t,{params:u,id:h}=s;try{const d=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),d==null||d.setError(Xa.proposal_listener_not_found)),this.isValidConnect(Jt({},s.params));const p=u.expiryTimestamp||Bn(zn.wc_sessionPropose.req.ttl),m=Jt({id:h,pairingTopic:r,expiryTimestamp:p},u);await this.setProposal(h,m);const y=await this.getVerifyContext({attestationId:a,hash:fa(JSON.stringify(s)),encryptedId:c,metadata:m.proposer.metadata});d==null||d.addTrace(Xi.emit_session_proposal),this.client.events.emit("session_proposal",{id:h,params:m,verifyContext:y})}catch(d){await this.sendError({id:h,topic:r,error:d,rpcOpts:zn.wc_sessionPropose.autoReject}),this.client.logger.error(d)}}),fe(this,"onSessionProposeResponse",async(t,r,s)=>{const{id:a}=r;if(ta(r)){const{result:c}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:c});const u=this.client.proposal.get(a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:u});const h=u.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:h});const d=c.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:d});const p=await this.client.core.crypto.generateSharedKey(h,d);this.pendingSessions.set(a,{sessionTopic:p,pairingTopic:t,proposalId:a,publicKey:h});const m=await this.client.core.relayer.subscribe(p,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:m}),await this.client.core.pairing.activate({topic:t})}else if(ii(r)){await this.client.proposal.delete(a,qt("USER_DISCONNECTED"));const c=xt("session_connect",a);if(this.events.listenerCount(c)===0)throw new Error(`emitting ${c} without any listeners, 954`);this.events.emit(c,{error:r.error})}}),fe(this,"onSessionSettleRequest",async(t,r)=>{const{id:s,params:a}=r;try{this.isValidSessionSettleRequest(a);const{relay:c,controller:u,expiry:h,namespaces:d,sessionProperties:p,scopedProperties:m,sessionConfig:y}=r.params,b=[...this.pendingSessions.values()].find(A=>A.sessionTopic===t);if(!b)return this.client.logger.error(`Pending session not found for topic ${t}`);const E=this.client.proposal.get(b.proposalId),v=Pr(Jt(Jt(Jt({topic:t,relay:c,expiry:h,namespaces:d,acknowledged:!0,pairingTopic:b.pairingTopic,requiredNamespaces:E.requiredNamespaces,optionalNamespaces:E.optionalNamespaces,controller:u.publicKey,self:{publicKey:b.publicKey,metadata:this.client.metadata},peer:{publicKey:u.publicKey,metadata:u.metadata}},p&&{sessionProperties:p}),m&&{scopedProperties:m}),y&&{sessionConfig:y}),{transportType:on.relay});await this.client.session.set(v.topic,v),await this.setExpiry(v.topic,v.expiry),await this.client.core.pairing.updateMetadata({topic:b.pairingTopic,metadata:v.peer.metadata}),this.client.events.emit("session_connect",{session:v}),this.events.emit(xt("session_connect",b.proposalId),{session:v}),this.pendingSessions.delete(b.proposalId),this.deleteProposal(b.proposalId,!1),this.cleanupDuplicatePairings(v),await this.sendResult({id:r.id,topic:t,result:!0,throwOnFailedPublish:!0})}catch(c){await this.sendError({id:s,topic:t,error:c}),this.client.logger.error(c)}}),fe(this,"onSessionSettleResponse",async(t,r)=>{const{id:s}=r;ta(r)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(xt("session_approve",s),{})):ii(r)&&(await this.client.session.delete(t,qt("USER_DISCONNECTED")),this.events.emit(xt("session_approve",s),{error:r.error}))}),fe(this,"onSessionUpdateRequest",async(t,r)=>{const{params:s,id:a}=r;try{const c=`${t}_session_update`,u=fg.get(c);if(u&&this.isRequestOutOfSync(u,a)){this.client.logger.warn(`Discarding out of sync request - ${a}`),this.sendError({id:a,topic:t,error:qt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Jt({topic:t},s));try{fg.set(c,a),await this.client.session.update(t,{namespaces:s.namespaces}),await this.sendResult({id:a,topic:t,result:!0,throwOnFailedPublish:!0})}catch(h){throw fg.delete(c),h}this.client.events.emit("session_update",{id:a,topic:t,params:s})}catch(c){await this.sendError({id:a,topic:t,error:c}),this.client.logger.error(c)}}),fe(this,"isRequestOutOfSync",(t,r)=>r.toString().slice(0,-3)<t.toString().slice(0,-3)),fe(this,"onSessionUpdateResponse",(t,r)=>{const{id:s}=r,a=xt("session_update",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);ta(r)?this.events.emit(xt("session_update",s),{}):ii(r)&&this.events.emit(xt("session_update",s),{error:r.error})}),fe(this,"onSessionExtendRequest",async(t,r)=>{const{id:s}=r;try{this.isValidExtend({topic:t}),await this.setExpiry(t,Bn(qh)),await this.sendResult({id:s,topic:t,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:s,topic:t})}catch(a){await this.sendError({id:s,topic:t,error:a}),this.client.logger.error(a)}}),fe(this,"onSessionExtendResponse",(t,r)=>{const{id:s}=r,a=xt("session_extend",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);ta(r)?this.events.emit(xt("session_extend",s),{}):ii(r)&&this.events.emit(xt("session_extend",s),{error:r.error})}),fe(this,"onSessionPingRequest",async(t,r)=>{const{id:s}=r;try{this.isValidPing({topic:t}),await this.sendResult({id:s,topic:t,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:t})}catch(a){await this.sendError({id:s,topic:t,error:a}),this.client.logger.error(a)}}),fe(this,"onSessionPingResponse",(t,r)=>{const{id:s}=r,a=xt("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners 2176`);ta(r)?this.events.emit(xt("session_ping",s),{}):ii(r)&&this.events.emit(xt("session_ping",s),{error:r.error})},500)}),fe(this,"onSessionDeleteRequest",async(t,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:t,reason:r.params}),Promise.all([new Promise(a=>{this.client.core.relayer.once(Wn.publish,async()=>{a(await this.deleteSession({topic:t,id:s}))})}),this.sendResult({id:s,topic:t,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:t,error:qt("USER_DISCONNECTED")})]).catch(a=>this.client.logger.error(a))}catch(a){this.client.logger.error(a)}}),fe(this,"onSessionRequest",async t=>{var r,s,a;const{topic:c,payload:u,attestation:h,encryptedId:d,transportType:p}=t,{id:m,params:y}=u;try{await this.isValidRequest(Jt({topic:c},y));const b=this.client.session.get(c),E=await this.getVerifyContext({attestationId:h,hash:fa(JSON.stringify($c("wc_sessionRequest",y,m))),encryptedId:d,metadata:b.peer.metadata,transportType:p}),v={id:m,topic:c,params:y,verifyContext:E};await this.setPendingSessionRequest(v),p===on.link_mode&&(r=b.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=b.peer.metadata.redirect)==null?void 0:s.universal),(a=this.client.signConfig)!=null&&a.disableRequestQueue?this.emitSessionRequest(v):(this.addSessionRequestToSessionRequestQueue(v),this.processSessionRequestQueue())}catch(b){await this.sendError({id:m,topic:c,error:b}),this.client.logger.error(b)}}),fe(this,"onSessionRequestResponse",(t,r)=>{const{id:s}=r,a=xt("session_request",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);ta(r)?this.events.emit(xt("session_request",s),{result:r.result}):ii(r)&&this.events.emit(xt("session_request",s),{error:r.error})}),fe(this,"onSessionEventRequest",async(t,r)=>{const{id:s,params:a}=r;try{const c=`${t}_session_event_${a.event.name}`,u=fg.get(c);if(u&&this.isRequestOutOfSync(u,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(Jt({topic:t},a)),this.client.events.emit("session_event",{id:s,topic:t,params:a}),fg.set(c,s)}catch(c){await this.sendError({id:s,topic:t,error:c}),this.client.logger.error(c)}}),fe(this,"onSessionAuthenticateResponse",(t,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:t,payload:r}),ta(r)?this.events.emit(xt("session_request",s),{result:r.result}):ii(r)&&this.events.emit(xt("session_request",s),{error:r.error})}),fe(this,"onSessionAuthenticateRequest",async t=>{var r;const{topic:s,payload:a,attestation:c,encryptedId:u,transportType:h}=t;try{const{requester:d,authPayload:p,expiryTimestamp:m}=a.params,y=await this.getVerifyContext({attestationId:c,hash:fa(JSON.stringify(a)),encryptedId:u,metadata:d.metadata,transportType:h}),b={requester:d,pairingTopic:s,id:a.id,authPayload:p,verifyContext:y,expiryTimestamp:m};await this.setAuthRequest(a.id,{request:b,pairingTopic:s,transportType:h}),h===on.link_mode&&(r=d.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(d.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:a.params,id:a.id,verifyContext:y})}catch(d){this.client.logger.error(d);const p=a.params.requester.publicKey,m=await this.client.core.crypto.generateKeyPair(),y=this.getAppLinkIfEnabled(a.params.requester.metadata,h),b={type:_o,receiverPublicKey:p,senderPublicKey:m};await this.sendError({id:a.id,topic:s,error:d,encodeOpts:b,rpcOpts:zn.wc_sessionAuthenticate.autoReject,appLink:y})}}),fe(this,"addSessionRequestToSessionRequestQueue",t=>{this.sessionRequestQueue.queue.push(t)}),fe(this,"cleanupAfterResponse",t=>{this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Zi.idle,this.processSessionRequestQueue()},ve.toMiliseconds(this.requestQueueDelay))}),fe(this,"cleanupPendingSentRequestsForTopic",({topic:t,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(a=>a.topic===t&&a.request.method==="wc_sessionRequest").forEach(a=>{const c=a.request.id,u=xt("session_request",c);if(this.events.listenerCount(u)===0)throw new Error(`emitting ${u} without any listeners`);this.events.emit(xt("session_request",a.request.id),{error:r})})}),fe(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Zi.active){this.client.logger.info("session request queue is already active.");return}const t=this.sessionRequestQueue.queue[0];if(!t){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Zi.active,this.emitSessionRequest(t)}catch(r){this.client.logger.error(r)}}),fe(this,"emitSessionRequest",t=>{this.client.events.emit("session_request",t)}),fe(this,"onPairingCreated",t=>{if(t.methods&&this.expectedPairingMethodMap.set(t.topic,t.methods),t.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===t.topic);r&&this.onSessionProposeRequest({topic:t.topic,payload:$c("wc_sessionPropose",Pr(Jt({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id)})}),fe(this,"isValidConnect",async t=>{if(!ts(t)){const{message:d}=Ee("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(d)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:a,sessionProperties:c,scopedProperties:u,relays:h}=t;if(cr(r)||await this.isValidPairingTopic(r),!gV(h)){const{message:d}=Ee("MISSING_OR_INVALID",`connect() relays: ${h}`);throw new Error(d)}if(!cr(s)&&Hc(s)!==0){const d="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(d):this.client.logger.warn(d),this.validateNamespaces(s,"requiredNamespaces")}if(!cr(a)&&Hc(a)!==0&&this.validateNamespaces(a,"optionalNamespaces"),cr(c)||this.validateSessionProps(c,"sessionProperties"),!cr(u)){this.validateSessionProps(u,"scopedProperties");const d=Object.keys(s||{}).concat(Object.keys(a||{}));if(!Object.keys(u).every(p=>d.includes(p)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(u)}, required/optional namespaces: ${JSON.stringify(d)}`)}}),fe(this,"validateNamespaces",(t,r)=>{const s=pV(t,"connect()",r);if(s)throw new Error(s.message)}),fe(this,"isValidApprove",async t=>{if(!ts(t))throw new Error(Ee("MISSING_OR_INVALID",`approve() params: ${t}`).message);const{id:r,namespaces:s,relayProtocol:a,sessionProperties:c,scopedProperties:u}=t;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const h=this.client.proposal.get(r),d=_1(s,"approve()");if(d)throw new Error(d.message);const p=nx(h.requiredNamespaces,s,"approve()");if(p)throw new Error(p.message);if(!xn(a,!0)){const{message:m}=Ee("MISSING_OR_INVALID",`approve() relayProtocol: ${a}`);throw new Error(m)}if(cr(c)||this.validateSessionProps(c,"sessionProperties"),!cr(u)){this.validateSessionProps(u,"scopedProperties");const m=new Set(Object.keys(s));if(!Object.keys(u).every(y=>m.has(y)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(u)}, approved namespaces: ${Array.from(m).join(", ")}`)}}),fe(this,"isValidReject",async t=>{if(!ts(t)){const{message:a}=Ee("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(a)}const{id:r,reason:s}=t;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!yV(s)){const{message:a}=Ee("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(a)}}),fe(this,"isValidSessionSettleRequest",t=>{if(!ts(t)){const{message:d}=Ee("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(d)}const{relay:r,controller:s,namespaces:a,expiry:c}=t;if(!QU(r)){const{message:d}=Ee("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(d)}const u=cV(s,"onSessionSettleRequest()");if(u)throw new Error(u.message);const h=_1(a,"onSessionSettleRequest()");if(h)throw new Error(h.message);if(mc(c)){const{message:d}=Ee("EXPIRED","onSessionSettleRequest()");throw new Error(d)}}),fe(this,"isValidUpdate",async t=>{if(!ts(t)){const{message:h}=Ee("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(h)}const{topic:r,namespaces:s}=t;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const a=this.client.session.get(r),c=_1(s,"update()");if(c)throw new Error(c.message);const u=nx(a.requiredNamespaces,s,"update()");if(u)throw new Error(u.message)}),fe(this,"isValidExtend",async t=>{if(!ts(t)){const{message:s}=Ee("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(s)}const{topic:r}=t;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),fe(this,"isValidRequest",async t=>{if(!ts(t)){const{message:h}=Ee("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(h)}const{topic:r,request:s,chainId:a,expiry:c}=t;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:u}=this.client.session.get(r);if(!tx(u,a)){const{message:h}=Ee("MISSING_OR_INVALID",`request() chainId: ${a}`);throw new Error(h)}if(!wV(s)){const{message:h}=Ee("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(h)}if(!EV(u,a,s.method)){const{message:h}=Ee("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(h)}if(c&&!SV(c,x1)){const{message:h}=Ee("MISSING_OR_INVALID",`request() expiry: ${c}. Expiry must be a number (in seconds) between ${x1.min} and ${x1.max}`);throw new Error(h)}}),fe(this,"isValidRespond",async t=>{var r;if(!ts(t)){const{message:c}=Ee("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(c)}const{topic:s,response:a}=t;try{await this.isValidSessionTopic(s)}catch(c){throw(r=t==null?void 0:t.response)!=null&&r.id&&this.cleanupAfterResponse(t),c}if(!bV(a)){const{message:c}=Ee("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(a)}`);throw new Error(c)}}),fe(this,"isValidPing",async t=>{if(!ts(t)){const{message:s}=Ee("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(s)}const{topic:r}=t;await this.isValidSessionOrPairingTopic(r)}),fe(this,"isValidEmit",async t=>{if(!ts(t)){const{message:u}=Ee("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(u)}const{topic:r,event:s,chainId:a}=t;await this.isValidSessionTopic(r);const{namespaces:c}=this.client.session.get(r);if(!tx(c,a)){const{message:u}=Ee("MISSING_OR_INVALID",`emit() chainId: ${a}`);throw new Error(u)}if(!vV(s)){const{message:u}=Ee("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(u)}if(!AV(c,a,s.name)){const{message:u}=Ee("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(u)}}),fe(this,"isValidDisconnect",async t=>{if(!ts(t)){const{message:s}=Ee("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(s)}const{topic:r}=t;await this.isValidSessionOrPairingTopic(r)}),fe(this,"isValidAuthenticate",t=>{const{chains:r,uri:s,domain:a,nonce:c}=t;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!xn(s,!1))throw new Error("uri is required parameter");if(!xn(a,!1))throw new Error("domain is required parameter");if(!xn(c,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(h=>Ed(h).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:u}=Ed(r[0]);if(u!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),fe(this,"getVerifyContext",async t=>{const{attestationId:r,hash:s,encryptedId:a,metadata:c,transportType:u}=t,h={verified:{verifyUrl:c.verifyUrl||Fg,validation:"UNKNOWN",origin:c.url||""}};try{if(u===on.link_mode){const p=this.getAppLinkIfEnabled(c,u);return h.verified.validation=p&&new URL(p).origin===new URL(c.url).origin?"VALID":"INVALID",h}const d=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:a,verifyUrl:c.verifyUrl});d&&(h.verified.origin=d.origin,h.verified.isScam=d.isScam,h.verified.validation=d.origin===new URL(c.url).origin?"VALID":"INVALID")}catch(d){this.client.logger.warn(d)}return this.client.logger.debug(`Verify context: ${JSON.stringify(h)}`),h}),fe(this,"validateSessionProps",(t,r)=>{Object.values(t).forEach((s,a)=>{if(s==null){const{message:c}=Ee("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(t)[a]}`);throw new Error(c)}})}),fe(this,"getPendingAuthRequest",t=>{const r=this.client.auth.requests.get(t);return typeof r=="object"?r:void 0}),fe(this,"addToRecentlyDeleted",(t,r)=>{if(this.recentlyDeletedMap.set(t,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const a=this.recentlyDeletedLimit/2;for(const c of this.recentlyDeletedMap.keys()){if(s++>=a)break;this.recentlyDeletedMap.delete(c)}}}),fe(this,"checkRecentlyDeleted",t=>{const r=this.recentlyDeletedMap.get(t);if(r){const{message:s}=Ee("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${t}`);throw new Error(s)}}),fe(this,"isLinkModeEnabled",(t,r)=>{var s,a,c,u,h,d,p,m,y;return!t||r!==on.link_mode?!1:((a=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:a.linkMode)===!0&&((u=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:u.universal)!==void 0&&((d=(h=this.client.metadata)==null?void 0:h.redirect)==null?void 0:d.universal)!==""&&((p=t==null?void 0:t.redirect)==null?void 0:p.universal)!==void 0&&((m=t==null?void 0:t.redirect)==null?void 0:m.universal)!==""&&((y=t==null?void 0:t.redirect)==null?void 0:y.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(t.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),fe(this,"getAppLinkIfEnabled",(t,r)=>{var s;return this.isLinkModeEnabled(t,r)?(s=t==null?void 0:t.redirect)==null?void 0:s.universal:void 0}),fe(this,"handleLinkModeMessage",({url:t})=>{if(!t||!t.includes("wc_ev")||!t.includes("topic"))return;const r=yI(t,"topic")||"",s=decodeURIComponent(yI(t,"wc_ev")||""),a=this.client.session.keys.includes(r);a&&this.client.session.update(r,{transportType:on.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:a})}),fe(this,"registerLinkModeListeners",async()=>{var t;if(oS()||el()&&(t=this.client.metadata.redirect)!=null&&t.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),fe(this,"shouldSetTVF",(t,r)=>{if(!r||t!=="wc_sessionRequest")return!1;const{request:s}=r;return Object.keys($x).includes(s.method)}),fe(this,"getTVFParams",(t,r,s)=>{var a,c;try{const u=r.request.method,h=this.extractTxHashesFromResult(u,s);return Pr(Jt({correlationId:t,rpcMethods:[u],chainId:r.chainId},this.isValidContractData(r.request.params)&&{contractAddresses:[(c=(a=r.request.params)==null?void 0:a[0])==null?void 0:c.to]}),{txHashes:h})}catch(u){this.client.logger.warn("Error getting TVF params",u)}return{}}),fe(this,"isValidContractData",t=>{var r;if(!t)return!1;try{const s=(t==null?void 0:t.data)||((r=t==null?void 0:t[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const a=s.slice(2);return/^[0-9a-fA-F]*$/.test(a)?a.length%2===0:!1}catch{}return!1}),fe(this,"extractTxHashesFromResult",(t,r)=>{try{const s=$x[t];if(typeof r=="string")return[r];const a=r[s.key];if(jc(a))return t==="solana_signAllTransactions"?a.map(c=>Gz(c)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,s]of Object.entries(t))for(const a of s)try{await this.onProviderMessageEvent({topic:r,message:a,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${a}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Ee("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Wn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:t,message:r,attestation:s,transportType:a}=e,{publicKey:c}=this.client.auth.authKeys.keys.includes(D0)?this.client.auth.authKeys.get(D0):{publicKey:void 0};try{const u=await this.client.core.crypto.decode(t,r,{receiverPublicKey:c,encoding:a===on.link_mode?wc:Di});mS(u)?(this.client.core.history.set(t,u),await this.onRelayEventRequest({topic:t,payload:u,attestation:s,transportType:a,encryptedId:fa(r)})):ev(u)?(await this.client.core.history.resolve(u),await this.onRelayEventResponse({topic:t,payload:u,transportType:a}),this.client.core.history.delete(t,u.id)):await this.onRelayEventUnknownPayload({topic:t,payload:u,transportType:a}),await this.client.core.relayer.messages.ack(t,r)}catch(u){this.client.logger.error(u)}}registerExpirerEvents(){this.client.core.expirer.on(Js.expired,async e=>{const{topic:t,id:r}=gU(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Ee("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,Ee("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(kl.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(kl.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!xn(e,!1)){const{message:t}=Ee("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=Ee("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(mc(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=Ee("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!xn(e,!1)){const{message:t}=Ee("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:t}=Ee("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(mc(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=Ee("EXPIRED",`session topic: ${e}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=Ee("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(xn(e,!1)){const{message:t}=Ee("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{const{message:t}=Ee("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!mV(e)){const{message:t}=Ee("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=Ee("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(mc(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=Ee("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}}class AZ extends Ku{constructor(e,t){super(e,t,aZ,yS),this.core=e,this.logger=t}}let _Z=class extends Ku{constructor(e,t){super(e,t,oZ,yS),this.core=e,this.logger=t}};class CZ extends Ku{constructor(e,t){super(e,t,lZ,yS,r=>r.id),this.core=e,this.logger=t}}class SZ extends Ku{constructor(e,t){super(e,t,fZ,nv,()=>D0),this.core=e,this.logger=t}}class NZ extends Ku{constructor(e,t){super(e,t,pZ,nv),this.core=e,this.logger=t}}class TZ extends Ku{constructor(e,t){super(e,t,gZ,nv,r=>r.id),this.core=e,this.logger=t}}var OZ=Object.defineProperty,RZ=(n,e,t)=>e in n?OZ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,P1=(n,e,t)=>RZ(n,typeof e!="symbol"?e+"":e,t);class IZ{constructor(e,t){this.core=e,this.logger=t,P1(this,"authKeys"),P1(this,"pairingTopics"),P1(this,"requests"),this.authKeys=new SZ(this.core,this.logger),this.pairingTopics=new NZ(this.core,this.logger),this.requests=new TZ(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var xZ=Object.defineProperty,PZ=(n,e,t)=>e in n?xZ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,mt=(n,e,t)=>PZ(n,typeof e!="symbol"?e+"":e,t);let DZ=class Ak extends Q${constructor(e){super(e),mt(this,"protocol",bk),mt(this,"version",vk),mt(this,"name",I1.name),mt(this,"metadata"),mt(this,"core"),mt(this,"logger"),mt(this,"events",new ci.EventEmitter),mt(this,"engine"),mt(this,"session"),mt(this,"proposal"),mt(this,"pendingRequest"),mt(this,"auth"),mt(this,"signConfig"),mt(this,"on",(r,s)=>this.events.on(r,s)),mt(this,"once",(r,s)=>this.events.once(r,s)),mt(this,"off",(r,s)=>this.events.off(r,s)),mt(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),mt(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),mt(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),mt(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),mt(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),mt(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),mt(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),mt(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),mt(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),mt(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),mt(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),mt(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),mt(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),mt(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),mt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),mt(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(a){throw this.logger.error(a.message),a}}),mt(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),mt(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),mt(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||I1.name,this.metadata=sz(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const t=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:hy(qf({level:(e==null?void 0:e.logger)||I1.logger}));this.core=(e==null?void 0:e.core)||new iZ(e),this.logger=Or(t,this.name),this.session=new _Z(this.core,this.logger),this.proposal=new AZ(this.core,this.logger),this.pendingRequest=new CZ(this.core,this.logger),this.engine=new EZ(this),this.auth=new IZ(this.core,this.logger)}static async init(e){const t=new Ak(e);return await t.initialize(),t}get context(){return ds(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},ve.toMiliseconds(ve.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var u0={exports:{}},jx;function UZ(){return jx||(jx=1,function(n,e){var t=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof ha<"u"&&ha,r=function(){function a(){this.fetch=!1,this.DOMException=t.DOMException}return a.prototype=t,new a}();(function(a){(function(c){var u=typeof a<"u"&&a||typeof self<"u"&&self||typeof ha<"u"&&ha||{},h={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};function d(T){return T&&DataView.prototype.isPrototypeOf(T)}if(h.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=ArrayBuffer.isView||function(T){return T&&p.indexOf(Object.prototype.toString.call(T))>-1};function y(T){if(typeof T!="string"&&(T=String(T)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(T)||T==="")throw new TypeError('Invalid character in header field name: "'+T+'"');return T.toLowerCase()}function b(T){return typeof T!="string"&&(T=String(T)),T}function E(T){var C={next:function(){var L=T.shift();return{done:L===void 0,value:L}}};return h.iterable&&(C[Symbol.iterator]=function(){return C}),C}function v(T){this.map={},T instanceof v?T.forEach(function(C,L){this.append(L,C)},this):Array.isArray(T)?T.forEach(function(C){if(C.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+C.length);this.append(C[0],C[1])},this):T&&Object.getOwnPropertyNames(T).forEach(function(C){this.append(C,T[C])},this)}v.prototype.append=function(T,C){T=y(T),C=b(C);var L=this.map[T];this.map[T]=L?L+", "+C:C},v.prototype.delete=function(T){delete this.map[y(T)]},v.prototype.get=function(T){return T=y(T),this.has(T)?this.map[T]:null},v.prototype.has=function(T){return this.map.hasOwnProperty(y(T))},v.prototype.set=function(T,C){this.map[y(T)]=b(C)},v.prototype.forEach=function(T,C){for(var L in this.map)this.map.hasOwnProperty(L)&&T.call(C,this.map[L],L,this)},v.prototype.keys=function(){var T=[];return this.forEach(function(C,L){T.push(L)}),E(T)},v.prototype.values=function(){var T=[];return this.forEach(function(C){T.push(C)}),E(T)},v.prototype.entries=function(){var T=[];return this.forEach(function(C,L){T.push([L,C])}),E(T)},h.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function A(T){if(!T._noBody){if(T.bodyUsed)return Promise.reject(new TypeError("Already read"));T.bodyUsed=!0}}function N(T){return new Promise(function(C,L){T.onload=function(){C(T.result)},T.onerror=function(){L(T.error)}})}function I(T){var C=new FileReader,L=N(C);return C.readAsArrayBuffer(T),L}function P(T){var C=new FileReader,L=N(C),z=/charset=([A-Za-z0-9_-]+)/.exec(T.type),G=z?z[1]:"utf-8";return C.readAsText(T,G),L}function k(T){for(var C=new Uint8Array(T),L=new Array(C.length),z=0;z<C.length;z++)L[z]=String.fromCharCode(C[z]);return L.join("")}function U(T){if(T.slice)return T.slice(0);var C=new Uint8Array(T.byteLength);return C.set(new Uint8Array(T)),C.buffer}function O(){return this.bodyUsed=!1,this._initBody=function(T){this.bodyUsed=this.bodyUsed,this._bodyInit=T,T?typeof T=="string"?this._bodyText=T:h.blob&&Blob.prototype.isPrototypeOf(T)?this._bodyBlob=T:h.formData&&FormData.prototype.isPrototypeOf(T)?this._bodyFormData=T:h.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)?this._bodyText=T.toString():h.arrayBuffer&&h.blob&&d(T)?(this._bodyArrayBuffer=U(T.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(T)||m(T))?this._bodyArrayBuffer=U(T):this._bodyText=T=Object.prototype.toString.call(T):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof T=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h.blob&&(this.blob=function(){var T=A(this);if(T)return T;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var T=A(this);return T||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(h.blob)return this.blob().then(I);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var T=A(this);if(T)return T;if(this._bodyBlob)return P(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(k(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(q)}),this.json=function(){return this.text().then(JSON.parse)},this}var B=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function M(T){var C=T.toUpperCase();return B.indexOf(C)>-1?C:T}function $(T,C){if(!(this instanceof $))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');C=C||{};var L=C.body;if(T instanceof $){if(T.bodyUsed)throw new TypeError("Already read");this.url=T.url,this.credentials=T.credentials,C.headers||(this.headers=new v(T.headers)),this.method=T.method,this.mode=T.mode,this.signal=T.signal,!L&&T._bodyInit!=null&&(L=T._bodyInit,T.bodyUsed=!0)}else this.url=String(T);if(this.credentials=C.credentials||this.credentials||"same-origin",(C.headers||!this.headers)&&(this.headers=new v(C.headers)),this.method=M(C.method||this.method||"GET"),this.mode=C.mode||this.mode||null,this.signal=C.signal||this.signal||function(){if("AbortController"in u){var R=new AbortController;return R.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&L)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(L),(this.method==="GET"||this.method==="HEAD")&&(C.cache==="no-store"||C.cache==="no-cache")){var z=/([?&])_=[^&]*/;if(z.test(this.url))this.url=this.url.replace(z,"$1_="+new Date().getTime());else{var G=/\?/;this.url+=(G.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}$.prototype.clone=function(){return new $(this,{body:this._bodyInit})};function q(T){var C=new FormData;return T.trim().split("&").forEach(function(L){if(L){var z=L.split("="),G=z.shift().replace(/\+/g," "),R=z.join("=").replace(/\+/g," ");C.append(decodeURIComponent(G),decodeURIComponent(R))}}),C}function V(T){var C=new v,L=T.replace(/\r?\n[\t ]+/g," ");return L.split("\r").map(function(z){return z.indexOf(`
`)===0?z.substr(1,z.length):z}).forEach(function(z){var G=z.split(":"),R=G.shift().trim();if(R){var W=G.join(":").trim();try{C.append(R,W)}catch(ne){console.warn("Response "+ne.message)}}}),C}O.call($.prototype);function te(T,C){if(!(this instanceof te))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(C||(C={}),this.type="default",this.status=C.status===void 0?200:C.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=C.statusText===void 0?"":""+C.statusText,this.headers=new v(C.headers),this.url=C.url||"",this._initBody(T)}O.call(te.prototype),te.prototype.clone=function(){return new te(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},te.error=function(){var T=new te(null,{status:200,statusText:""});return T.ok=!1,T.status=0,T.type="error",T};var de=[301,302,303,307,308];te.redirect=function(T,C){if(de.indexOf(C)===-1)throw new RangeError("Invalid status code");return new te(null,{status:C,headers:{location:T}})},c.DOMException=u.DOMException;try{new c.DOMException}catch{c.DOMException=function(C,L){this.message=C,this.name=L;var z=Error(C);this.stack=z.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function Z(T,C){return new Promise(function(L,z){var G=new $(T,C);if(G.signal&&G.signal.aborted)return z(new c.DOMException("Aborted","AbortError"));var R=new XMLHttpRequest;function W(){R.abort()}R.onload=function(){var oe={statusText:R.statusText,headers:V(R.getAllResponseHeaders()||"")};G.url.indexOf("file://")===0&&(R.status<200||R.status>599)?oe.status=200:oe.status=R.status,oe.url="responseURL"in R?R.responseURL:oe.headers.get("X-Request-URL");var ye="response"in R?R.response:R.responseText;setTimeout(function(){L(new te(ye,oe))},0)},R.onerror=function(){setTimeout(function(){z(new TypeError("Network request failed"))},0)},R.ontimeout=function(){setTimeout(function(){z(new TypeError("Network request timed out"))},0)},R.onabort=function(){setTimeout(function(){z(new c.DOMException("Aborted","AbortError"))},0)};function ne(oe){try{return oe===""&&u.location.href?u.location.href:oe}catch{return oe}}if(R.open(G.method,ne(G.url),!0),G.credentials==="include"?R.withCredentials=!0:G.credentials==="omit"&&(R.withCredentials=!1),"responseType"in R&&(h.blob?R.responseType="blob":h.arrayBuffer&&(R.responseType="arraybuffer")),C&&typeof C.headers=="object"&&!(C.headers instanceof v||u.Headers&&C.headers instanceof u.Headers)){var ae=[];Object.getOwnPropertyNames(C.headers).forEach(function(oe){ae.push(y(oe)),R.setRequestHeader(oe,b(C.headers[oe]))}),G.headers.forEach(function(oe,ye){ae.indexOf(ye)===-1&&R.setRequestHeader(ye,oe)})}else G.headers.forEach(function(oe,ye){R.setRequestHeader(ye,oe)});G.signal&&(G.signal.addEventListener("abort",W),R.onreadystatechange=function(){R.readyState===4&&G.signal.removeEventListener("abort",W)}),R.send(typeof G._bodyInit>"u"?null:G._bodyInit)})}return Z.polyfill=!0,u.fetch||(u.fetch=Z,u.Headers=v,u.Request=$,u.Response=te),c.Headers=v,c.Request=$,c.Response=te,c.fetch=Z,Object.defineProperty(c,"__esModule",{value:!0}),c})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=t.fetch?t:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,n.exports=e}(u0,u0.exports)),u0.exports}var kZ=UZ();const Hx=oy(kZ);var BZ=Object.defineProperty,MZ=Object.defineProperties,LZ=Object.getOwnPropertyDescriptors,zx=Object.getOwnPropertySymbols,$Z=Object.prototype.hasOwnProperty,FZ=Object.prototype.propertyIsEnumerable,qx=(n,e,t)=>e in n?BZ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Gx=(n,e)=>{for(var t in e||(e={}))$Z.call(e,t)&&qx(n,t,e[t]);if(zx)for(var t of zx(e))FZ.call(e,t)&&qx(n,t,e[t]);return n},Vx=(n,e)=>MZ(n,LZ(e));const jZ={Accept:"application/json","Content-Type":"application/json"},HZ="POST",Kx={headers:jZ,method:HZ},Wx=10;let Fi=class{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new ci.EventEmitter,this.isAvailable=!1,this.registering=!1,!lx(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const t=No(e),r=await(await Hx(this.url,Vx(Gx({},Kx),{body:t}))).json();this.onPayload({data:r})}catch(t){this.onError(e.id,t)}}async register(e=this.url){if(!lx(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((r,s)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),s(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=No({id:1,jsonrpc:"2.0",method:"test",params:[]});await Hx(e,Vx(Gx({},Kx),{body:t}))}this.onOpen()}catch(t){const r=this.parseError(t);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?Tu(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const r=this.parseError(t),s=r.message||r.toString(),a=Xb(e,s);this.events.emit("payload",a)}parseError(e,t=this.url){return XU(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Wx&&this.events.setMaxListeners(Wx)}};const Yx="error",zZ="wss://relay.walletconnect.org",qZ="wc",GZ="universal_provider",h0=`${qZ}@2:${GZ}:`,_k="https://rpc.walletconnect.org/v1/",ad="generic",VZ=`${_k}bundler`,ui={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function KZ(){}function wS(n){return n==null||typeof n!="object"&&typeof n!="function"}function bS(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function WZ(n){if(wS(n))return n;if(Array.isArray(n)||bS(n)||n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);const e=Object.getPrototypeOf(n),t=e.constructor;if(n instanceof Date||n instanceof Map||n instanceof Set)return new t(n);if(n instanceof RegExp){const r=new t(n);return r.lastIndex=n.lastIndex,r}if(n instanceof DataView)return new t(n.buffer.slice(0));if(n instanceof Error){const r=new t(n.message);return r.stack=n.stack,r.name=n.name,r.cause=n.cause,r}if(typeof File<"u"&&n instanceof File)return new t([n],n.name,{type:n.type,lastModified:n.lastModified});if(typeof n=="object"){const r=Object.create(e);return Object.assign(r,n)}return n}function Qx(n){return typeof n=="object"&&n!==null}function Ck(n){return Object.getOwnPropertySymbols(n).filter(e=>Object.prototype.propertyIsEnumerable.call(n,e))}function Sk(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const YZ="[object RegExp]",Nk="[object String]",Tk="[object Number]",Ok="[object Boolean]",Rk="[object Arguments]",QZ="[object Symbol]",ZZ="[object Date]",JZ="[object Map]",XZ="[object Set]",eJ="[object Array]",tJ="[object ArrayBuffer]",nJ="[object Object]",rJ="[object DataView]",sJ="[object Uint8Array]",iJ="[object Uint8ClampedArray]",aJ="[object Uint16Array]",oJ="[object Uint32Array]",cJ="[object Int8Array]",lJ="[object Int16Array]",uJ="[object Int32Array]",hJ="[object Float32Array]",dJ="[object Float64Array]";function fJ(n,e){return gd(n,void 0,n,new Map,e)}function gd(n,e,t,r=new Map,s=void 0){const a=s==null?void 0:s(n,e,t,r);if(a!=null)return a;if(wS(n))return n;if(r.has(n))return r.get(n);if(Array.isArray(n)){const c=new Array(n.length);r.set(n,c);for(let u=0;u<n.length;u++)c[u]=gd(n[u],u,t,r,s);return Object.hasOwn(n,"index")&&(c.index=n.index),Object.hasOwn(n,"input")&&(c.input=n.input),c}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp){const c=new RegExp(n.source,n.flags);return c.lastIndex=n.lastIndex,c}if(n instanceof Map){const c=new Map;r.set(n,c);for(const[u,h]of n)c.set(u,gd(h,u,t,r,s));return c}if(n instanceof Set){const c=new Set;r.set(n,c);for(const u of n)c.add(gd(u,void 0,t,r,s));return c}if(typeof Buffer<"u"&&Buffer.isBuffer(n))return n.subarray();if(bS(n)){const c=new(Object.getPrototypeOf(n)).constructor(n.length);r.set(n,c);for(let u=0;u<n.length;u++)c[u]=gd(n[u],u,t,r,s);return c}if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer)return n.slice(0);if(n instanceof DataView){const c=new DataView(n.buffer.slice(0),n.byteOffset,n.byteLength);return r.set(n,c),Bl(c,n,t,r,s),c}if(typeof File<"u"&&n instanceof File){const c=new File([n],n.name,{type:n.type});return r.set(n,c),Bl(c,n,t,r,s),c}if(n instanceof Blob){const c=new Blob([n],{type:n.type});return r.set(n,c),Bl(c,n,t,r,s),c}if(n instanceof Error){const c=new n.constructor;return r.set(n,c),c.message=n.message,c.name=n.name,c.stack=n.stack,c.cause=n.cause,Bl(c,n,t,r,s),c}if(typeof n=="object"&&pJ(n)){const c=Object.create(Object.getPrototypeOf(n));return r.set(n,c),Bl(c,n,t,r,s),c}return n}function Bl(n,e,t=n,r,s){const a=[...Object.keys(e),...Ck(e)];for(let c=0;c<a.length;c++){const u=a[c],h=Object.getOwnPropertyDescriptor(n,u);(h==null||h.writable)&&(n[u]=gd(e[u],u,t,r,s))}}function pJ(n){switch(Sk(n)){case Rk:case eJ:case tJ:case rJ:case Ok:case ZZ:case hJ:case dJ:case cJ:case lJ:case uJ:case JZ:case Tk:case nJ:case YZ:case XZ:case Nk:case QZ:case sJ:case iJ:case aJ:case oJ:return!0;default:return!1}}function gJ(n,e){return fJ(n,(t,r,s,a)=>{if(typeof n=="object")switch(Object.prototype.toString.call(n)){case Tk:case Nk:case Ok:{const c=new n.constructor(n==null?void 0:n.valueOf());return Bl(c,n),c}case Rk:{const c={};return Bl(c,n),c.length=n.length,c[Symbol.iterator]=n[Symbol.iterator],c}default:return}})}function Zx(n){return gJ(n)}function Jx(n){return n!==null&&typeof n=="object"&&Sk(n)==="[object Arguments]"}function mJ(n){return bS(n)}function yJ(n){var t;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const r=n[Symbol.toStringTag];return r==null||!((t=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&t.writable)?!1:n.toString()===`[object ${r}]`}let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function wJ(n,...e){const t=e.slice(0,-1),r=e[e.length-1];let s=n;for(let a=0;a<t.length;a++){const c=t[a];s=eC(s,c,r,new Map)}return s}function eC(n,e,t,r){if(wS(n)&&(n=Object(n)),e==null||typeof e!="object")return n;if(r.has(e))return WZ(r.get(e));if(r.set(e,n),Array.isArray(e)){e=e.slice();for(let a=0;a<e.length;a++)e[a]=e[a]??void 0}const s=[...Object.keys(e),...Ck(e)];for(let a=0;a<s.length;a++){const c=s[a];let u=e[c],h=n[c];if(Jx(u)&&(u={...u}),Jx(h)&&(h={...h}),typeof Buffer<"u"&&Buffer.isBuffer(u)&&(u=Zx(u)),Array.isArray(u))if(typeof h=="object"&&h!=null){const p=[],m=Reflect.ownKeys(h);for(let y=0;y<m.length;y++){const b=m[y];p[b]=h[b]}h=p}else h=[];const d=t(h,u,c,n,e,r);d!=null?n[c]=d:Array.isArray(u)||Qx(h)&&Qx(u)?n[c]=eC(h,u,t,r):h==null&&yJ(u)?n[c]=eC({},u,t,r):h==null&&mJ(u)?n[c]=Zx(u):(h===void 0||u!==void 0)&&(n[c]=u)}return n}function bJ(n,...e){return wJ(n,...e,KZ)}var vJ=Object.defineProperty,EJ=Object.defineProperties,AJ=Object.getOwnPropertyDescriptors,Xx=Object.getOwnPropertySymbols,_J=Object.prototype.hasOwnProperty,CJ=Object.prototype.propertyIsEnumerable,e3=(n,e,t)=>e in n?vJ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,d0=(n,e)=>{for(var t in e||(e={}))_J.call(e,t)&&e3(n,t,e[t]);if(Xx)for(var t of Xx(e))CJ.call(e,t)&&e3(n,t,e[t]);return n},SJ=(n,e)=>EJ(n,AJ(e));function Ds(n,e,t){var r;const s=Ed(n);return((r=e.rpcMap)==null?void 0:r[s.reference])||`${_k}?chainId=${s.namespace}:${s.reference}&projectId=${t}`}function Wu(n){return n.includes(":")?n.split(":")[1]:n}function Ik(n){return n.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function NJ(n,e){const t=Object.keys(e.namespaces).filter(s=>s.includes(n));if(!t.length)return[];const r=[];return t.forEach(s=>{const a=e.namespaces[s].accounts;r.push(...a)}),r}function f0(n={},e={}){const t=t3(n),r=t3(e);return bJ(t,r)}function t3(n){var e,t,r,s,a;const c={};if(!Hc(n))return c;for(const[u,h]of Object.entries(n)){const d=Zb(u)?[u]:h.chains,p=h.methods||[],m=h.events||[],y=h.rpcMap||{},b=pd(u);c[b]=SJ(d0(d0({},c[b]),h),{chains:Aa(d,(e=c[b])==null?void 0:e.chains),methods:Aa(p,(t=c[b])==null?void 0:t.methods),events:Aa(m,(r=c[b])==null?void 0:r.events)}),(Hc(y)||Hc(((s=c[b])==null?void 0:s.rpcMap)||{}))&&(c[b].rpcMap=d0(d0({},y),(a=c[b])==null?void 0:a.rpcMap))}return c}function n3(n){return n.includes(":")?n.split(":")[2]:n}function r3(n){const e={};for(const[t,r]of Object.entries(n)){const s=r.methods||[],a=r.events||[],c=r.accounts||[],u=Zb(t)?[t]:r.chains?r.chains:Ik(r.accounts);e[t]={chains:u,methods:s,events:a,accounts:c}}return e}function D1(n){return typeof n=="number"?n:n.includes("0x")?parseInt(n,16):(n=n.includes(":")?n.split(":")[1]:n,isNaN(Number(n))?n:Number(n))}const xk={},Ot=n=>xk[n],U1=(n,e)=>{xk[n]=e};var TJ=Object.defineProperty,OJ=(n,e,t)=>e in n?TJ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Gh=(n,e,t)=>OJ(n,typeof e!="symbol"?e+"":e,t);class RJ{constructor(e){Gh(this,"name","polkadot"),Gh(this,"client"),Gh(this,"httpProviders"),Gh(this,"events"),Gh(this,"namespace"),Gh(this,"chainId"),this.namespace=e.namespace,this.events=Ot("events"),this.client=Ot("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(ui.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var r;const s=Wu(t);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){const r=t||Ds(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new li(new Fi(r,Ot("disableProviderPing")))}}var IJ=Object.defineProperty,xJ=Object.defineProperties,PJ=Object.getOwnPropertyDescriptors,s3=Object.getOwnPropertySymbols,DJ=Object.prototype.hasOwnProperty,UJ=Object.prototype.propertyIsEnumerable,tC=(n,e,t)=>e in n?IJ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,i3=(n,e)=>{for(var t in e||(e={}))DJ.call(e,t)&&tC(n,t,e[t]);if(s3)for(var t of s3(e))UJ.call(e,t)&&tC(n,t,e[t]);return n},a3=(n,e)=>xJ(n,PJ(e)),Vh=(n,e,t)=>tC(n,typeof e!="symbol"?e+"":e,t);class kJ{constructor(e){Vh(this,"name","eip155"),Vh(this,"client"),Vh(this,"chainId"),Vh(this,"namespace"),Vh(this,"httpProviders"),Vh(this,"events"),this.namespace=e.namespace,this.events=Ot("events"),this.client=Ot("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(ui.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const r=t||Ds(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new li(new Fi(r,Ot("disableProviderPing")))}setHttpProvider(e,t){const r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var r;const s=parseInt(Wu(t));e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[t])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,r;let s=e.request.params?(t=e.request.params[0])==null?void 0:t.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const a=parseInt(s,16);if(this.isChainApproved(a))this.setDefaultChain(`${a}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${a}`);else throw new Error(`Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var t,r,s,a,c;const u=(r=(t=e.request)==null?void 0:t.params)==null?void 0:r[0],h=((a=(s=e.request)==null?void 0:s.params)==null?void 0:a[1])||[],d=`${u}${h.join(",")}`;if(!u)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const p=this.client.session.get(e.topic),m=((c=p==null?void 0:p.sessionProperties)==null?void 0:c.capabilities)||{};if(m!=null&&m[d])return m==null?void 0:m[d];const y=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:a3(i3({},p.sessionProperties||{}),{capabilities:a3(i3({},m||{}),{[d]:y})})})}catch(b){console.warn("Failed to update session with capabilities",b)}return y}async getCallStatus(e){var t,r;const s=this.client.session.get(e.topic),a=(t=s.sessionProperties)==null?void 0:t.bundler_name;if(a){const u=this.getBundlerUrl(e.chainId,a);try{return await this.getUserOperationReceipt(u,e)}catch(h){console.warn("Failed to fetch call status from bundler",h,u)}}const c=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(c)try{return await this.getUserOperationReceipt(c,e)}catch(u){console.warn("Failed to fetch call status from custom bundler",u,c)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var r;const s=new URL(e),a=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($c("eth_getUserOperationReceipt",[(r=t.request.params)==null?void 0:r[0]]))});if(!a.ok)throw new Error(`Failed to fetch user operation receipt - ${a.status}`);return await a.json()}getBundlerUrl(e,t){return`${VZ}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`}}var BJ=Object.defineProperty,MJ=(n,e,t)=>e in n?BJ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Kh=(n,e,t)=>MJ(n,typeof e!="symbol"?e+"":e,t);class LJ{constructor(e){Kh(this,"name","solana"),Kh(this,"client"),Kh(this,"httpProviders"),Kh(this,"events"),Kh(this,"namespace"),Kh(this,"chainId"),this.namespace=e.namespace,this.events=Ot("events"),this.client=Ot("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(ui.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var r;const s=Wu(t);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){const r=t||Ds(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new li(new Fi(r,Ot("disableProviderPing")))}}var $J=Object.defineProperty,FJ=(n,e,t)=>e in n?$J(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Wh=(n,e,t)=>FJ(n,typeof e!="symbol"?e+"":e,t);class jJ{constructor(e){Wh(this,"name","cosmos"),Wh(this,"client"),Wh(this,"httpProviders"),Wh(this,"events"),Wh(this,"namespace"),Wh(this,"chainId"),this.namespace=e.namespace,this.events=Ot("events"),this.client=Ot("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(ui.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var r;const s=Wu(t);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){const r=t||Ds(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new li(new Fi(r,Ot("disableProviderPing")))}}var HJ=Object.defineProperty,zJ=(n,e,t)=>e in n?HJ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Yh=(n,e,t)=>zJ(n,typeof e!="symbol"?e+"":e,t);class qJ{constructor(e){Yh(this,"name","algorand"),Yh(this,"client"),Yh(this,"httpProviders"),Yh(this,"events"),Yh(this,"namespace"),Yh(this,"chainId"),this.namespace=e.namespace,this.events=Ot("events"),this.client=Ot("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){const r=t||Ds(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(ui.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var r;e[t]=this.createHttpProvider(t,(r=this.namespace.rpcMap)==null?void 0:r[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){const r=t||Ds(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new li(new Fi(r,Ot("disableProviderPing")))}}var GJ=Object.defineProperty,VJ=(n,e,t)=>e in n?GJ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Qh=(n,e,t)=>VJ(n,typeof e!="symbol"?e+"":e,t);class KJ{constructor(e){Qh(this,"name","cip34"),Qh(this,"client"),Qh(this,"httpProviders"),Qh(this,"events"),Qh(this,"namespace"),Qh(this,"chainId"),this.namespace=e.namespace,this.events=Ot("events"),this.client=Ot("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(ui.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{const r=this.getCardanoRPCUrl(t),s=Wu(t);e[s]=this.createHttpProvider(s,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){const t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){const r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){const r=t||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new li(new Fi(r,Ot("disableProviderPing")))}}var WJ=Object.defineProperty,YJ=(n,e,t)=>e in n?WJ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Zh=(n,e,t)=>YJ(n,typeof e!="symbol"?e+"":e,t);class QJ{constructor(e){Zh(this,"name","elrond"),Zh(this,"client"),Zh(this,"httpProviders"),Zh(this,"events"),Zh(this,"namespace"),Zh(this,"chainId"),this.namespace=e.namespace,this.events=Ot("events"),this.client=Ot("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(ui.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var r;const s=Wu(t);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){const r=t||Ds(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new li(new Fi(r,Ot("disableProviderPing")))}}var ZJ=Object.defineProperty,JJ=(n,e,t)=>e in n?ZJ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Jh=(n,e,t)=>JJ(n,typeof e!="symbol"?e+"":e,t);class XJ{constructor(e){Jh(this,"name","multiversx"),Jh(this,"client"),Jh(this,"httpProviders"),Jh(this,"events"),Jh(this,"namespace"),Jh(this,"chainId"),this.namespace=e.namespace,this.events=Ot("events"),this.client=Ot("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(ui.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var r;const s=Wu(t);e[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){const r=t||Ds(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new li(new Fi(r,Ot("disableProviderPing")))}}var eX=Object.defineProperty,tX=(n,e,t)=>e in n?eX(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Xh=(n,e,t)=>tX(n,typeof e!="symbol"?e+"":e,t);class nX{constructor(e){Xh(this,"name","near"),Xh(this,"client"),Xh(this,"httpProviders"),Xh(this,"events"),Xh(this,"namespace"),Xh(this,"chainId"),this.namespace=e.namespace,this.events=Ot("events"),this.client=Ot("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const r=t||Ds(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(ui.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var r;e[t]=this.createHttpProvider(t,(r=this.namespace.rpcMap)==null?void 0:r[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){const r=t||Ds(e,this.namespace);return typeof r>"u"?void 0:new li(new Fi(r,Ot("disableProviderPing")))}}var rX=Object.defineProperty,sX=(n,e,t)=>e in n?rX(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ed=(n,e,t)=>sX(n,typeof e!="symbol"?e+"":e,t);class iX{constructor(e){ed(this,"name","tezos"),ed(this,"client"),ed(this,"httpProviders"),ed(this,"events"),ed(this,"namespace"),ed(this,"chainId"),this.namespace=e.namespace,this.events=Ot("events"),this.client=Ot("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const r=t||Ds(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(ui.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{e[t]=this.createHttpProvider(t)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){const r=t||Ds(e,this.namespace);return typeof r>"u"?void 0:new li(new Fi(r))}}var aX=Object.defineProperty,oX=(n,e,t)=>e in n?aX(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,td=(n,e,t)=>oX(n,typeof e!="symbol"?e+"":e,t);class cX{constructor(e){td(this,"name",ad),td(this,"client"),td(this,"httpProviders"),td(this,"events"),td(this,"namespace"),td(this,"chainId"),this.namespace=e.namespace,this.events=Ot("events"),this.client=Ot("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(ui.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){var e,t;const r={};return(t=(e=this.namespace)==null?void 0:e.accounts)==null||t.forEach(s=>{const a=Ed(s);r[`${a.namespace}:${a.reference}`]=this.createHttpProvider(s)}),r}getHttpProvider(e){const t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){const r=t||Ds(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new li(new Fi(r,Ot("disableProviderPing")))}}var lX=Object.defineProperty,uX=Object.defineProperties,hX=Object.getOwnPropertyDescriptors,o3=Object.getOwnPropertySymbols,dX=Object.prototype.hasOwnProperty,fX=Object.prototype.propertyIsEnumerable,nC=(n,e,t)=>e in n?lX(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,p0=(n,e)=>{for(var t in e||(e={}))dX.call(e,t)&&nC(n,t,e[t]);if(o3)for(var t of o3(e))fX.call(e,t)&&nC(n,t,e[t]);return n},k1=(n,e)=>uX(n,hX(e)),Ys=(n,e,t)=>nC(n,typeof e!="symbol"?e+"":e,t);let pX=class Pk{constructor(e){Ys(this,"client"),Ys(this,"namespaces"),Ys(this,"optionalNamespaces"),Ys(this,"sessionProperties"),Ys(this,"scopedProperties"),Ys(this,"events",new ZC),Ys(this,"rpcProviders",{}),Ys(this,"session"),Ys(this,"providerOpts"),Ys(this,"logger"),Ys(this,"uri"),Ys(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:hy(qf({level:(e==null?void 0:e.logger)||Yx})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const t=new Pk(e);return await t.initialize(),t}async request(e,t,r){const[s,a]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:p0({},e),chainId:`${s}:${a}`,topic:this.session.topic,expiry:r})}sendAsync(e,t,r,s){const a=new Date().getTime();this.request(e,r,s).then(c=>t(null,Jb(a,c))).catch(c=>t(c,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:qt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(e,t);r&&(this.uri=r,this.events.emit("display_uri",r));const a=await s();if(this.session=a.session,this.session){const c=r3(this.session.namespaces);this.namespaces=f0(this.namespaces,c),await this.persist("namespaces",this.namespaces),this.onConnect()}return a}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){const{uri:t,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});t&&(this.uri=t,this.events.emit("display_uri",t));const s=await r();this.session=s;const a=r3(s.namespaces);return this.namespaces=f0(this.namespaces,a),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[r,s]=this.validateChain(e),a=this.getProvider(r);a.name===ad?a.setDefaultChain(`${r}:${s}`,t):a.setDefaultChain(s,t)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if(jc(t)){for(const r of t)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,t;if(this.client=this.providerOpts.client||await DZ.init({core:this.providerOpts.core,logger:this.providerOpts.logger||Yx,relayUrl:this.providerOpts.relayUrl||zZ,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(t=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:t.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(t=>pd(t)))];U1("client",this.client),U1("events",this.events),U1("disableProviderPing",this.disableProviderPing),e.forEach(t=>{if(!this.session)return;const r=NJ(t,this.session),s=Ik(r),a=f0(this.namespaces,this.optionalNamespaces),c=k1(p0({},a[t]),{accounts:r,chains:s});switch(t){case"eip155":this.rpcProviders[t]=new kJ({namespace:c});break;case"algorand":this.rpcProviders[t]=new qJ({namespace:c});break;case"solana":this.rpcProviders[t]=new LJ({namespace:c});break;case"cosmos":this.rpcProviders[t]=new jJ({namespace:c});break;case"polkadot":this.rpcProviders[t]=new RJ({namespace:c});break;case"cip34":this.rpcProviders[t]=new KJ({namespace:c});break;case"elrond":this.rpcProviders[t]=new QJ({namespace:c});break;case"multiversx":this.rpcProviders[t]=new XJ({namespace:c});break;case"near":this.rpcProviders[t]=new nX({namespace:c});break;case"tezos":this.rpcProviders[t]=new iX({namespace:c});break;default:this.rpcProviders[ad]?this.rpcProviders[ad].updateNamespace(c):this.rpcProviders[ad]=new cX({namespace:c})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var t;const{topic:r}=e;r===((t=this.session)==null?void 0:t.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var t;const{params:r,topic:s}=e;if(s!==((t=this.session)==null?void 0:t.topic))return;const{event:a}=r;if(a.name==="accountsChanged"){const c=a.data;c&&jc(c)&&this.events.emit("accountsChanged",c.map(n3))}else if(a.name==="chainChanged"){const c=r.chainId,u=r.event.data,h=pd(c),d=D1(c)!==D1(u)?`${h}:${D1(u)}`:c;this.onChainChanged(d)}else this.events.emit(a.name,a.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var r,s;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:a}=t,c=(s=this.client)==null?void 0:s.session.get(e);this.session=k1(p0({},c),{namespaces:a}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{var t;e.topic===((t=this.session)==null?void 0:t.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",k1(p0({},qt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(ui.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[ad]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace((t=this.session)==null?void 0:t.namespaces[e])})}setNamespaces(e){const{namespaces:t={},optionalNamespaces:r={},sessionProperties:s,scopedProperties:a}=e;this.optionalNamespaces=f0(t,r),this.sessionProperties=s,this.scopedProperties=a}validateChain(e){const[t,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,r];if(t&&!Object.keys(this.namespaces||{}).map(c=>pd(c)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&r)return[t,r];const s=pd(Object.keys(this.namespaces)[0]),a=this.rpcProviders[s].getDefaultChain();return[s,a]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,t=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(e);if(!s)return;this.updateNamespaceChain(r,s),this.events.emit("chainChanged",s);const a=this.getProvider(r).getDefaultChain();t||this.getProvider(r).setDefaultChain(s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:a,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:t,newChainId:r}){var s,a;try{if(t===r)return;const c=(a=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:a.accounts;if(!c)return;const u=c.filter(h=>h.includes(`${r}:`)).map(n3);if(!jc(u))return;this.events.emit("accountsChanged",u)}catch(c){this.logger.warn("Failed to emit accountsChanged on chain change",c)}}updateNamespaceChain(e,t){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${t}`,s={chains:[],methods:[],events:[],defaultChain:t};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=t):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,t){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${h0}/${e}${s}`,t)}async getFromStore(e){var t;const r=((t=this.session)==null?void 0:t.topic)||"";return await this.client.core.storage.getItem(`${h0}/${e}${r}`)}async deleteFromStore(e){var t;const r=((t=this.session)==null?void 0:t.topic)||"";await this.client.core.storage.removeItem(`${h0}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const t=await this.client.core.storage.getKeys();for(const r of t)r.startsWith(h0)&&await this.client.core.storage.removeItem(r)}catch(t){this.logger.warn("Failed to cleanup storage",t)}}};const Hg={getSIWX(){return ge.state.siwx},async initializeIfEnabled(){var a;const n=ge.state.siwx,e=j.getActiveCaipAddress();if(!(n&&e))return;const[t,r,s]=e.split(":");if(j.checkIfSupportedNetwork(t))try{if((await n.getSessions(`${t}:${r}`,s)).length)return;await Qn.open({view:"SIWXSignMessage"})}catch(c){console.error("SIWXUtil:initializeIfEnabled",c),hn.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((a=ze._getClient())==null?void 0:a.disconnect().catch(console.error)),at.reset("Connect"),xi.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const n=ge.state.siwx,e=ke.getPlainAddress(j.getActiveCaipAddress()),t=j.getActiveCaipNetwork(),r=ze._getClient();if(!n)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!t)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await n.createMessage({chainId:t.caipNetworkId,accountAddress:e}),a=s.toString();Ne.getConnectorId(t.chainNamespace)===we.CONNECTOR_ID.AUTH&&at.pushTransactionStack({});const u=await r.signMessage(a);await n.addSession({data:s,message:a,signature:u}),Qn.close(),hn.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const a=this.getSIWXEventProperties();(!Qn.state.open||at.state.view==="ApproveTransaction")&&await Qn.open({view:"SIWXSignMessage"}),a.isSmartAccount?xi.showError("This application might not support Smart Accounts"):xi.showError("Signature declined"),hn.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:a}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){var n;try{const e=this.getSIWX();((n=e==null?void 0:e.getRequired)==null?void 0:n.call(e))?await ze.disconnect():Qn.close(),at.reset("Connect"),hn.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const n=ge.state.siwx,e=ke.getPlainAddress(j.getActiveCaipAddress()),t=j.getActiveCaipNetwork();return n&&e&&t?n.getSessions(t.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const n=this.getSIWX();if(n){const t=at.state.view==="ApproveTransaction",r=at.state.view==="SIWXSignMessage";if(t||r)return((e=n.getRequired)==null?void 0:e.call(n))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:n,chains:e,methods:t}){var u,h,d;const r=Hg.getSIWX(),s=new Set(e.map(p=>p.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const a=await r.createMessage({chainId:((u=j.getActiveCaipNetwork())==null?void 0:u.caipNetworkId)||"",accountAddress:""}),c=await n.authenticate({nonce:a.nonce,domain:a.domain,uri:a.uri,exp:a.expirationTime,iat:a.issuedAt,nbf:a.notBefore,requestId:a.requestId,version:a.version,resources:a.resources,statement:a.statement,chainId:a.chainId,methods:t,chains:[a.chainId,...e.filter(p=>p!==a.chainId)]});if(xi.showLoading("Authenticating...",{autoClose:!1}),Ce.setConnectedWalletInfo({...c.session.peer.metadata,name:c.session.peer.metadata.name,icon:(h=c.session.peer.metadata.icons)==null?void 0:h[0],type:"WALLET_CONNECT"},Array.from(s)[0]),(d=c==null?void 0:c.auths)!=null&&d.length){const p=c.auths.map(m=>{const y=n.client.formatAuthMessage({request:m.p,iss:m.p.iss});return{data:{...m.p,accountAddress:m.p.iss.split(":").slice(-1).join(""),chainId:m.p.iss.split(":").slice(2,4).join(":"),uri:m.p.aud,version:m.p.version||a.version,expirationTime:m.p.exp,issuedAt:m.p.iat,notBefore:m.p.nbf},message:y,signature:m.s.s,cacao:m}});try{await r.setSessions(p),hn.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Hg.getSIWXEventProperties()})}catch(m){throw console.error("SIWX:universalProviderAuth - failed to set sessions",m),hn.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Hg.getSIWXEventProperties()}),await n.disconnect().catch(console.error),m}finally{xi.hide()}}return!0},getSIWXEventProperties(){var e,t;const n=j.state.activeChain;return{network:((e=j.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((t=Ce.state.preferredAccountTypes)==null?void 0:t[n])===dr.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const n=this.getSIWX();n&&await n.setSessions([])}};var B1={exports:{}},M1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c3;function gX(){if(c3)return M1;c3=1;var n=Lb();function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,a=n.useLayoutEffect,c=n.useDebugValue;function u(m,y){var b=y(),E=r({inst:{value:b,getSnapshot:y}}),v=E[0].inst,A=E[1];return a(function(){v.value=b,v.getSnapshot=y,h(v)&&A({inst:v})},[m,b,y]),s(function(){return h(v)&&A({inst:v}),m(function(){h(v)&&A({inst:v})})},[m]),c(b),b}function h(m){var y=m.getSnapshot;m=m.value;try{var b=y();return!t(m,b)}catch{return!0}}function d(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return M1.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,M1}var l3;function mX(){return l3||(l3=1,B1.exports=gX()),B1.exports}var yX=mX();const wX=oy(yX),bX={},{use:u3}=gM,{useSyncExternalStore:vX}=wX,EX=(n,e)=>{const t=dn.useRef();dn.useEffect(()=>{t.current=TM(n,e)}),dn.useDebugValue(t.current)},AX=new WeakMap;function vS(n,e){const r=dn.useRef(),s=dn.useRef();let a=!0;const c=vX(dn.useCallback(d=>{const p=pr(n,d);return d(),p},[n,void 0]),()=>{const d=Su(n,u3);try{if(!a&&r.current&&s.current&&!WP(r.current,d,s.current,new WeakMap))return r.current}catch{}return d},()=>Su(n,u3));a=!1;const u=new WeakMap;dn.useEffect(()=>{r.current=c,s.current=u}),(bX?"production":void 0)!=="production"&&EX(c,u);const h=dn.useMemo(()=>new WeakMap,[]);return KP(c,u,h,AX)}function g0(n,e){return Ne.getConnectorId(n)===e}function _X(n){const e=Array.from(j.state.chains.keys());let t=[];return n?(t.push([n,j.state.chains.get(n)]),g0(n,we.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==n&&g0(r,we.CONNECTOR_ID.WALLET_CONNECT)&&t.push([r,j.state.chains.get(r)])}):g0(n,we.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==n&&g0(r,we.CONNECTOR_ID.AUTH)&&t.push([r,j.state.chains.get(r)])})):t=Array.from(j.state.chains.entries()),t}function ES(){const{activeCaipNetwork:n}=vS(j.state);return{caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId}}function AS(n){var c,u;const e=vS(j.state),t=e.activeChain;if(!t)return{allAccounts:[],address:void 0,caipAddress:void 0,status:void 0,isConnected:!1,embeddedWalletInfo:void 0};const r=(c=e.chains.get(t))==null?void 0:c.accountState,s=Ne.getAuthConnector(t),a=Se.getConnectedConnectorId(t);return{allAccounts:(r==null?void 0:r.allAccounts)||[],caipAddress:r==null?void 0:r.caipAddress,address:ke.getPlainAddress(r==null?void 0:r.caipAddress),isConnected:!!(r!=null&&r.caipAddress),status:r==null?void 0:r.status,embeddedWalletInfo:s&&a===we.CONNECTOR_ID.AUTH?{user:r!=null&&r.user?{...r.user,username:Se.getConnectedSocialUsername()}:void 0,authProvider:(r==null?void 0:r.socialProvider)||"email",accountType:(u=r==null?void 0:r.preferredAccountTypes)==null?void 0:u[t],isSmartAccountDeployed:!!(r!=null&&r.smartAccountDeployed)}:void 0}}function CX(){async function n(e){await ze.disconnect(e==null?void 0:e.namespace)}return{disconnect:n}}const Xt={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},ma={ConnectorExplorerIds:{[we.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[we.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[we.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[we.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[we.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Xt.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[Xt.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[Xt.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[Xt.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[Xt.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[Xt.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[Xt.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[Xt.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[Xt.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[Xt.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[Xt.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[we.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[we.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[we.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[we.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[we.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[we.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[we.CONNECTOR_ID.INJECTED]:"Browser Wallet",[we.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[we.CONNECTOR_ID.COINBASE]:"Coinbase",[we.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[we.CONNECTOR_ID.LEDGER]:"Ledger",[we.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[we.CONNECTOR_ID.INJECTED]:"INJECTED",[we.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[we.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[we.CONNECTOR_ID.AUTH]:"AUTH"}},rv={getCaipTokens(n){if(!n)return;const e={};return Object.entries(n).forEach(([t,r])=>{e[`${Xt.EIP155}:${t}`]=r}),e},isLowerCaseMatch(n,e){return(n==null?void 0:n.toLowerCase())===(e==null?void 0:e.toLowerCase())}},SX=new AbortController,pa={EmbeddedWalletAbortController:SX,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${NX()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function NX(){return typeof window<"u"}const TX={createLogger(n,e="error"){const t=qf({level:e}),{logger:r}=XC({opts:t});return r.error=(...s)=>{for(const a of s)if(a instanceof Error){n(a,...s);return}n(void 0,...s)},r}},OX="rpc.walletconnect.org";function h3(n,e){const t=new URL("https://rpc.walletconnect.org/v1/");return t.searchParams.set("chainId",n),t.searchParams.set("projectId",e),t.toString()}const L1=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],od={extendRpcUrlWithProjectId(n,e){let t=!1;try{t=new URL(n).host===OX}catch{t=!1}if(t){const r=new URL(n);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return n},isCaipNetwork(n){return"chainNamespace"in n&&"caipNetworkId"in n},getChainNamespace(n){return this.isCaipNetwork(n)?n.chainNamespace:we.CHAIN.EVM},getCaipNetworkId(n){return this.isCaipNetwork(n)?n.caipNetworkId:`${we.CHAIN.EVM}:${n.id}`},getDefaultRpcUrl(n,e,t){var s,a,c;const r=(c=(a=(s=n.rpcUrls)==null?void 0:s.default)==null?void 0:a.http)==null?void 0:c[0];return L1.includes(e)?h3(e,t):r||""},extendCaipNetwork(n,{customNetworkImageUrls:e,projectId:t,customRpcUrls:r}){var y,b,E,v,A;const s=this.getChainNamespace(n),a=this.getCaipNetworkId(n),c=(y=n.rpcUrls.default.http)==null?void 0:y[0],u=this.getDefaultRpcUrl(n,a,t),h=((v=(E=(b=n==null?void 0:n.rpcUrls)==null?void 0:b.chainDefault)==null?void 0:E.http)==null?void 0:v[0])||c,d=((A=r==null?void 0:r[a])==null?void 0:A.map(N=>N.url))||[],p=[...d,u],m=[...d];return h&&!m.includes(h)&&m.push(h),{...n,chainNamespace:s,caipNetworkId:a,assets:{imageId:ma.NetworkImageIds[n.id],imageUrl:e==null?void 0:e[n.id]},rpcUrls:{...n.rpcUrls,default:{http:p},chainDefault:{http:m}}}},extendCaipNetworks(n,{customNetworkImageUrls:e,projectId:t,customRpcUrls:r}){return n.map(s=>od.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:r,projectId:t}))},getViemTransport(n,e,t){var s,a,c;const r=[];return t==null||t.forEach(u=>{r.push(Qw(u.url,u.config))}),L1.includes(n.caipNetworkId)&&r.push(Qw(h3(n.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(c=(a=(s=n==null?void 0:n.rpcUrls)==null?void 0:s.default)==null?void 0:a.http)==null||c.forEach(u=>{r.push(Qw(u))}),iR(r)},extendWagmiTransports(n,e,t){if(L1.includes(n.caipNetworkId)){const r=this.getDefaultRpcUrl(n,n.caipNetworkId,e);return iR([t,Qw(r)])}return t},getUnsupportedNetwork(n){return{id:n.split(":")[1],caipNetworkId:n,name:we.UNSUPPORTED_NETWORK_NAME,chainNamespace:n.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(n){var h;const e=Se.getActiveCaipNetworkId(),t=j.getAllRequestedCaipNetworks(),r=Array.from(((h=j.state.chains)==null?void 0:h.keys())||[]),s=e==null?void 0:e.split(":")[0],a=s?r.includes(s):!1,c=t==null?void 0:t.find(d=>d.caipNetworkId===e);return a&&!c&&e?this.getUnsupportedNetwork(e):c||n||(t==null?void 0:t[0])}},ab={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},Xr=cn({providers:{...ab},providerIds:{...ab}}),Et={state:Xr,subscribeKey(n,e){return Tr(Xr,n,e)},subscribe(n){return pr(Xr,()=>{n(Xr)})},subscribeProviders(n){return pr(Xr.providers,()=>n(Xr.providers))},setProvider(n,e){e&&(Xr.providers[n]=Nu(e))},getProvider(n){return Xr.providers[n]},setProviderId(n,e){e&&(Xr.providerIds[n]=e)},getProviderId(n){if(n)return Xr.providerIds[n]},reset(){Xr.providers={...ab},Xr.providerIds={...ab}},resetChain(n){Xr.providers[n]=void 0,Xr.providerIds[n]=void 0}},d3={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},ar={set(n,e){xs.isClient&&localStorage.setItem(`${Pe.STORAGE_KEY}${n}`,e)},get(n){return xs.isClient?localStorage.getItem(`${Pe.STORAGE_KEY}${n}`):null},delete(n,e){xs.isClient&&(e?localStorage.removeItem(n):localStorage.removeItem(`${Pe.STORAGE_KEY}${n}`))}},m0=30*1e3,xs={checkIfAllowedToTriggerEmail(){const n=ar.get(Pe.LAST_EMAIL_LOGIN_TIME);if(n){const e=Date.now()-Number(n);if(e<m0){const t=Math.ceil((m0-e)/1e3);throw new Error(`Please try again after ${t} seconds`)}}},getTimeToNextEmailLogin(){const n=ar.get(Pe.LAST_EMAIL_LOGIN_TIME);if(n){const e=Date.now()-Number(n);if(e<m0)return Math.ceil((m0-e)/1e3)}return 0},checkIfRequestExists(n){return dr.NOT_SAFE_RPC_METHODS.includes(n.method)||dr.SAFE_RPC_METHODS.includes(n.method)},getResponseType(n){return typeof n=="string"&&((n==null?void 0:n.match(d3.transactionHash))||(n==null?void 0:n.match(d3.signedMessage)))?Pe.RPC_RESPONSE_TYPE_TX:Pe.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(n){return dr.SAFE_RPC_METHODS.includes(n.method)},isClient:typeof window<"u"};var Tt;(function(n){n.assertEqual=s=>s;function e(s){}n.assertIs=e;function t(s){throw new Error}n.assertNever=t,n.arrayToEnum=s=>{const a={};for(const c of s)a[c]=c;return a},n.getValidEnumValues=s=>{const a=n.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),c={};for(const u of a)c[u]=s[u];return n.objectValues(c)},n.objectValues=s=>n.objectKeys(s).map(function(a){return s[a]}),n.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const c in s)Object.prototype.hasOwnProperty.call(s,c)&&a.push(c);return a},n.find=(s,a)=>{for(const c of s)if(a(c))return c},n.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(c=>typeof c=="string"?`'${c}'`:c).join(a)}n.joinValues=r,n.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(Tt||(Tt={}));var rC;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(rC||(rC={}));const Te=Tt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bc=n=>{switch(typeof n){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return isNaN(n)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(n)?Te.array:n===null?Te.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Te.promise:typeof Map<"u"&&n instanceof Map?Te.map:typeof Set<"u"&&n instanceof Set?Te.set:typeof Date<"u"&&n instanceof Date?Te.date:Te.object;default:return Te.unknown}},be=Tt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),RX=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class ki extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(a){return a.message},r={_errors:[]},s=a=>{for(const c of a.issues)if(c.code==="invalid_union")c.unionErrors.map(s);else if(c.code==="invalid_return_type")s(c.returnTypeError);else if(c.code==="invalid_arguments")s(c.argumentsError);else if(c.path.length===0)r._errors.push(t(c));else{let u=r,h=0;for(;h<c.path.length;){const d=c.path[h];h===c.path.length-1?(u[d]=u[d]||{_errors:[]},u[d]._errors.push(t(c))):u[d]=u[d]||{_errors:[]},u=u[d],h++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Tt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}ki.create=n=>new ki(n);const _m=(n,e)=>{let t;switch(n.code){case be.invalid_type:n.received===Te.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case be.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Tt.jsonStringifyReplacer)}`;break;case be.unrecognized_keys:t=`Unrecognized key(s) in object: ${Tt.joinValues(n.keys,", ")}`;break;case be.invalid_union:t="Invalid input";break;case be.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Tt.joinValues(n.options)}`;break;case be.invalid_enum_value:t=`Invalid enum value. Expected ${Tt.joinValues(n.options)}, received '${n.received}'`;break;case be.invalid_arguments:t="Invalid function arguments";break;case be.invalid_return_type:t="Invalid function return type";break;case be.invalid_date:t="Invalid date";break;case be.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Tt.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case be.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case be.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case be.custom:t="Invalid input";break;case be.invalid_intersection_types:t="Intersection results could not be merged";break;case be.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case be.not_finite:t="Number must be finite";break;default:t=e.defaultError,Tt.assertNever(n)}return{message:t}};let Dk=_m;function IX(n){Dk=n}function ob(){return Dk}const cb=n=>{const{data:e,path:t,errorMaps:r,issueData:s}=n,a=[...t,...s.path||[]],c={...s,path:a};let u="";const h=r.filter(d=>!!d).slice().reverse();for(const d of h)u=d(c,{data:e,defaultError:u}).message;return{...s,path:a,message:s.message||u}},xX=[];function Ie(n,e){const t=cb({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ob(),_m].filter(r=>!!r)});n.common.issues.push(t)}class Nr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const s of t){if(s.status==="aborted")return Je;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const s of t)r.push({key:await s.key,value:await s.value});return Nr.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const s of t){const{key:a,value:c}=s;if(a.status==="aborted"||c.status==="aborted")return Je;a.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof c.value<"u"||s.alwaysSet)&&(r[a.value]=c.value)}return{status:e.value,value:r}}}const Je=Object.freeze({status:"aborted"}),Uk=n=>({status:"dirty",value:n}),Hr=n=>({status:"valid",value:n}),sC=n=>n.status==="aborted",iC=n=>n.status==="dirty",Cm=n=>n.status==="valid",lb=n=>typeof Promise<"u"&&n instanceof Promise;var Fe;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Fe||(Fe={}));class Ta{constructor(e,t,r,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const f3=(n,e)=>{if(Cm(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new ki(n.common.issues);return this._error=t,this._error}}};function tt(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:s}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(c,u)=>c.code!=="invalid_type"?{message:u.defaultError}:typeof u.data>"u"?{message:r??u.defaultError}:{message:t??u.defaultError},description:s}}class ct{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return bc(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:bc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Nr,ctx:{common:e.parent.common,data:e.data,parsedType:bc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(lb(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const s={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bc(e)},a=this._parseSync({data:e,path:s.path,parent:s});return f3(s,a)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bc(e)},s=this._parse({data:e,path:r.path,parent:r}),a=await(lb(s)?s:Promise.resolve(s));return f3(r,a)}refine(e,t){const r=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,a)=>{const c=e(s),u=()=>a.addIssue({code:be.custom,...r(s)});return typeof Promise<"u"&&c instanceof Promise?c.then(h=>h?!0:(u(),!1)):c?!0:(u(),!1)})}refinement(e,t){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof t=="function"?t(r,s):t),!1))}_refinement(e){return new Mi({schema:this,typeName:Ye.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Co.create(this,this._def)}nullable(){return Uu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Bi.create(this,this._def)}promise(){return Pf.create(this,this._def)}or(e){return Om.create([this,e],this._def)}and(e){return Rm.create(this,e,this._def)}transform(e){return new Mi({...tt(this._def),schema:this,typeName:Ye.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Um({...tt(this._def),innerType:this,defaultValue:t,typeName:Ye.ZodDefault})}brand(){return new Bk({typeName:Ye.ZodBranded,type:this,...tt(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new fb({...tt(this._def),innerType:this,catchValue:t,typeName:Ye.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Ay.create(this,e)}readonly(){return gb.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const PX=/^c[^\s-]{8,}$/i,DX=/^[a-z][a-z0-9]*$/,UX=/^[0-9A-HJKMNP-TV-Z]{26}$/,kX=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,BX=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,MX="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let $1;const LX=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,$X=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,FX=n=>n.precision?n.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}Z$`):n.precision===0?n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function jX(n,e){return!!((e==="v4"||!e)&&LX.test(n)||(e==="v6"||!e)&&$X.test(n))}class Ui extends ct{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Te.string){const a=this._getOrReturnCtx(e);return Ie(a,{code:be.invalid_type,expected:Te.string,received:a.parsedType}),Je}const r=new Nr;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:be.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:be.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const c=e.data.length>a.value,u=e.data.length<a.value;(c||u)&&(s=this._getOrReturnCtx(e,s),c?Ie(s,{code:be.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&Ie(s,{code:be.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")BX.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"email",code:be.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")$1||($1=new RegExp(MX,"u")),$1.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"emoji",code:be.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")kX.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"uuid",code:be.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")PX.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"cuid",code:be.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")DX.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"cuid2",code:be.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")UX.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"ulid",code:be.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Ie(s,{validation:"url",code:be.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"regex",code:be.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:be.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:be.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:be.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?FX(a).test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:be.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="ip"?jX(e.data,a.version)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"ip",code:be.invalid_string,message:a.message}),r.dirty()):Tt.assertNever(a);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(s=>e.test(s),{validation:t,code:be.invalid_string,...Fe.errToObj(r)})}_addCheck(e){return new Ui({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Fe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Fe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Fe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Fe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Fe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Fe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Fe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Fe.errToObj(e)})}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,...Fe.errToObj(e==null?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Fe.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Fe.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Fe.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Fe.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Fe.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Fe.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Fe.errToObj(t)})}nonempty(e){return this.min(1,Fe.errToObj(e))}trim(){return new Ui({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ui({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ui({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ui.create=n=>{var e;return new Ui({checks:[],typeName:Ye.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...tt(n)})};function HX(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=t>r?t:r,a=parseInt(n.toFixed(s).replace(".","")),c=parseInt(e.toFixed(s).replace(".",""));return a%c/Math.pow(10,s)}class Wc extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Te.number){const a=this._getOrReturnCtx(e);return Ie(a,{code:be.invalid_type,expected:Te.number,received:a.parsedType}),Je}let r;const s=new Nr;for(const a of this._def.checks)a.kind==="int"?Tt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ie(r,{code:be.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:be.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:be.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?HX(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:be.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ie(r,{code:be.not_finite,message:a.message}),s.dirty()):Tt.assertNever(a);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Fe.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Fe.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Fe.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Fe.toString(t))}setLimit(e,t,r,s){return new Wc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Fe.toString(s)}]})}_addCheck(e){return new Wc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Fe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Fe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Fe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Fe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Fe.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Fe.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Fe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Fe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Fe.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Tt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Wc.create=n=>new Wc({checks:[],typeName:Ye.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...tt(n)});class Yc extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Te.bigint){const a=this._getOrReturnCtx(e);return Ie(a,{code:be.invalid_type,expected:Te.bigint,received:a.parsedType}),Je}let r;const s=new Nr;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:be.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:be.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:be.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):Tt.assertNever(a);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Fe.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Fe.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Fe.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Fe.toString(t))}setLimit(e,t,r,s){return new Yc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Fe.toString(s)}]})}_addCheck(e){return new Yc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Fe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Fe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Fe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Fe.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Fe.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Yc.create=n=>{var e;return new Yc({checks:[],typeName:Ye.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...tt(n)})};class Sm extends ct{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Te.boolean){const r=this._getOrReturnCtx(e);return Ie(r,{code:be.invalid_type,expected:Te.boolean,received:r.parsedType}),Je}return Hr(e.data)}}Sm.create=n=>new Sm({typeName:Ye.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...tt(n)});class Pu extends ct{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Te.date){const a=this._getOrReturnCtx(e);return Ie(a,{code:be.invalid_type,expected:Te.date,received:a.parsedType}),Je}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Ie(a,{code:be.invalid_date}),Je}const r=new Nr;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:be.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:be.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Tt.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Pu({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Fe.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Fe.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Pu.create=n=>new Pu({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Ye.ZodDate,...tt(n)});class ub extends ct{_parse(e){if(this._getType(e)!==Te.symbol){const r=this._getOrReturnCtx(e);return Ie(r,{code:be.invalid_type,expected:Te.symbol,received:r.parsedType}),Je}return Hr(e.data)}}ub.create=n=>new ub({typeName:Ye.ZodSymbol,...tt(n)});class Nm extends ct{_parse(e){if(this._getType(e)!==Te.undefined){const r=this._getOrReturnCtx(e);return Ie(r,{code:be.invalid_type,expected:Te.undefined,received:r.parsedType}),Je}return Hr(e.data)}}Nm.create=n=>new Nm({typeName:Ye.ZodUndefined,...tt(n)});class Tm extends ct{_parse(e){if(this._getType(e)!==Te.null){const r=this._getOrReturnCtx(e);return Ie(r,{code:be.invalid_type,expected:Te.null,received:r.parsedType}),Je}return Hr(e.data)}}Tm.create=n=>new Tm({typeName:Ye.ZodNull,...tt(n)});class xf extends ct{constructor(){super(...arguments),this._any=!0}_parse(e){return Hr(e.data)}}xf.create=n=>new xf({typeName:Ye.ZodAny,...tt(n)});class vu extends ct{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Hr(e.data)}}vu.create=n=>new vu({typeName:Ye.ZodUnknown,...tt(n)});class Oo extends ct{_parse(e){const t=this._getOrReturnCtx(e);return Ie(t,{code:be.invalid_type,expected:Te.never,received:t.parsedType}),Je}}Oo.create=n=>new Oo({typeName:Ye.ZodNever,...tt(n)});class hb extends ct{_parse(e){if(this._getType(e)!==Te.undefined){const r=this._getOrReturnCtx(e);return Ie(r,{code:be.invalid_type,expected:Te.void,received:r.parsedType}),Je}return Hr(e.data)}}hb.create=n=>new hb({typeName:Ye.ZodVoid,...tt(n)});class Bi extends ct{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),s=this._def;if(t.parsedType!==Te.array)return Ie(t,{code:be.invalid_type,expected:Te.array,received:t.parsedType}),Je;if(s.exactLength!==null){const c=t.data.length>s.exactLength.value,u=t.data.length<s.exactLength.value;(c||u)&&(Ie(t,{code:c?be.too_big:be.too_small,minimum:u?s.exactLength.value:void 0,maximum:c?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(Ie(t,{code:be.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(Ie(t,{code:be.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((c,u)=>s.type._parseAsync(new Ta(t,c,t.path,u)))).then(c=>Nr.mergeArray(r,c));const a=[...t.data].map((c,u)=>s.type._parseSync(new Ta(t,c,t.path,u)));return Nr.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new Bi({...this._def,minLength:{value:e,message:Fe.toString(t)}})}max(e,t){return new Bi({...this._def,maxLength:{value:e,message:Fe.toString(t)}})}length(e,t){return new Bi({...this._def,exactLength:{value:e,message:Fe.toString(t)}})}nonempty(e){return this.min(1,e)}}Bi.create=(n,e)=>new Bi({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Ye.ZodArray,...tt(e)});function cd(n){if(n instanceof gn){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Co.create(cd(r))}return new gn({...n._def,shape:()=>e})}else return n instanceof Bi?new Bi({...n._def,type:cd(n.element)}):n instanceof Co?Co.create(cd(n.unwrap())):n instanceof Uu?Uu.create(cd(n.unwrap())):n instanceof Oa?Oa.create(n.items.map(e=>cd(e))):n}class gn extends ct{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Tt.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Te.object){const d=this._getOrReturnCtx(e);return Ie(d,{code:be.invalid_type,expected:Te.object,received:d.parsedType}),Je}const{status:r,ctx:s}=this._processInputParams(e),{shape:a,keys:c}=this._getCached(),u=[];if(!(this._def.catchall instanceof Oo&&this._def.unknownKeys==="strip"))for(const d in s.data)c.includes(d)||u.push(d);const h=[];for(const d of c){const p=a[d],m=s.data[d];h.push({key:{status:"valid",value:d},value:p._parse(new Ta(s,m,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Oo){const d=this._def.unknownKeys;if(d==="passthrough")for(const p of u)h.push({key:{status:"valid",value:p},value:{status:"valid",value:s.data[p]}});else if(d==="strict")u.length>0&&(Ie(s,{code:be.unrecognized_keys,keys:u}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const p of u){const m=s.data[p];h.push({key:{status:"valid",value:p},value:d._parse(new Ta(s,m,s.path,p)),alwaysSet:p in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const p of h){const m=await p.key;d.push({key:m,value:await p.value,alwaysSet:p.alwaysSet})}return d}).then(d=>Nr.mergeObjectSync(r,d)):Nr.mergeObjectSync(r,h)}get shape(){return this._def.shape()}strict(e){return Fe.errToObj,new gn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var s,a,c,u;const h=(c=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,t,r).message)!==null&&c!==void 0?c:r.defaultError;return t.code==="unrecognized_keys"?{message:(u=Fe.errToObj(e).message)!==null&&u!==void 0?u:h}:{message:h}}}:{}})}strip(){return new gn({...this._def,unknownKeys:"strip"})}passthrough(){return new gn({...this._def,unknownKeys:"passthrough"})}extend(e){return new gn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new gn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ye.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new gn({...this._def,catchall:e})}pick(e){const t={};return Tt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new gn({...this._def,shape:()=>t})}omit(e){const t={};return Tt.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new gn({...this._def,shape:()=>t})}deepPartial(){return cd(this)}partial(e){const t={};return Tt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?t[r]=s:t[r]=s.optional()}),new gn({...this._def,shape:()=>t})}required(e){const t={};return Tt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Co;)a=a._def.innerType;t[r]=a}}),new gn({...this._def,shape:()=>t})}keyof(){return kk(Tt.objectKeys(this.shape))}}gn.create=(n,e)=>new gn({shape:()=>n,unknownKeys:"strip",catchall:Oo.create(),typeName:Ye.ZodObject,...tt(e)});gn.strictCreate=(n,e)=>new gn({shape:()=>n,unknownKeys:"strict",catchall:Oo.create(),typeName:Ye.ZodObject,...tt(e)});gn.lazycreate=(n,e)=>new gn({shape:n,unknownKeys:"strip",catchall:Oo.create(),typeName:Ye.ZodObject,...tt(e)});class Om extends ct{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function s(a){for(const u of a)if(u.result.status==="valid")return u.result;for(const u of a)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;const c=a.map(u=>new ki(u.ctx.common.issues));return Ie(t,{code:be.invalid_union,unionErrors:c}),Je}if(t.common.async)return Promise.all(r.map(async a=>{const c={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:c}),ctx:c}})).then(s);{let a;const c=[];for(const h of r){const d={...t,common:{...t.common,issues:[]},parent:null},p=h._parseSync({data:t.data,path:t.path,parent:d});if(p.status==="valid")return p;p.status==="dirty"&&!a&&(a={result:p,ctx:d}),d.common.issues.length&&c.push(d.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;const u=c.map(h=>new ki(h));return Ie(t,{code:be.invalid_union,unionErrors:u}),Je}}get options(){return this._def.options}}Om.create=(n,e)=>new Om({options:n,typeName:Ye.ZodUnion,...tt(e)});const U0=n=>n instanceof xm?U0(n.schema):n instanceof Mi?U0(n.innerType()):n instanceof Pm?[n.value]:n instanceof Qc?n.options:n instanceof Dm?Object.keys(n.enum):n instanceof Um?U0(n._def.innerType):n instanceof Nm?[void 0]:n instanceof Tm?[null]:null;class sv extends ct{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Te.object)return Ie(t,{code:be.invalid_type,expected:Te.object,received:t.parsedType}),Je;const r=this.discriminator,s=t.data[r],a=this.optionsMap.get(s);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(Ie(t,{code:be.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Je)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const s=new Map;for(const a of t){const c=U0(a.shape[e]);if(!c)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of c){if(s.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);s.set(u,a)}}return new sv({typeName:Ye.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...tt(r)})}}function aC(n,e){const t=bc(n),r=bc(e);if(n===e)return{valid:!0,data:n};if(t===Te.object&&r===Te.object){const s=Tt.objectKeys(e),a=Tt.objectKeys(n).filter(u=>s.indexOf(u)!==-1),c={...n,...e};for(const u of a){const h=aC(n[u],e[u]);if(!h.valid)return{valid:!1};c[u]=h.data}return{valid:!0,data:c}}else if(t===Te.array&&r===Te.array){if(n.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<n.length;a++){const c=n[a],u=e[a],h=aC(c,u);if(!h.valid)return{valid:!1};s.push(h.data)}return{valid:!0,data:s}}else return t===Te.date&&r===Te.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Rm extends ct{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=(a,c)=>{if(sC(a)||sC(c))return Je;const u=aC(a.value,c.value);return u.valid?((iC(a)||iC(c))&&t.dirty(),{status:t.value,value:u.data}):(Ie(r,{code:be.invalid_intersection_types}),Je)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,c])=>s(a,c)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Rm.create=(n,e,t)=>new Rm({left:n,right:e,typeName:Ye.ZodIntersection,...tt(t)});class Oa extends ct{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.array)return Ie(r,{code:be.invalid_type,expected:Te.array,received:r.parsedType}),Je;if(r.data.length<this._def.items.length)return Ie(r,{code:be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Je;!this._def.rest&&r.data.length>this._def.items.length&&(Ie(r,{code:be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...r.data].map((c,u)=>{const h=this._def.items[u]||this._def.rest;return h?h._parse(new Ta(r,c,r.path,u)):null}).filter(c=>!!c);return r.common.async?Promise.all(a).then(c=>Nr.mergeArray(t,c)):Nr.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new Oa({...this._def,rest:e})}}Oa.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Oa({items:n,typeName:Ye.ZodTuple,rest:null,...tt(e)})};class Im extends ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.object)return Ie(r,{code:be.invalid_type,expected:Te.object,received:r.parsedType}),Je;const s=[],a=this._def.keyType,c=this._def.valueType;for(const u in r.data)s.push({key:a._parse(new Ta(r,u,r.path,u)),value:c._parse(new Ta(r,r.data[u],r.path,u))});return r.common.async?Nr.mergeObjectAsync(t,s):Nr.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof ct?new Im({keyType:e,valueType:t,typeName:Ye.ZodRecord,...tt(r)}):new Im({keyType:Ui.create(),valueType:e,typeName:Ye.ZodRecord,...tt(t)})}}class db extends ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.map)return Ie(r,{code:be.invalid_type,expected:Te.map,received:r.parsedType}),Je;const s=this._def.keyType,a=this._def.valueType,c=[...r.data.entries()].map(([u,h],d)=>({key:s._parse(new Ta(r,u,r.path,[d,"key"])),value:a._parse(new Ta(r,h,r.path,[d,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const h of c){const d=await h.key,p=await h.value;if(d.status==="aborted"||p.status==="aborted")return Je;(d.status==="dirty"||p.status==="dirty")&&t.dirty(),u.set(d.value,p.value)}return{status:t.value,value:u}})}else{const u=new Map;for(const h of c){const d=h.key,p=h.value;if(d.status==="aborted"||p.status==="aborted")return Je;(d.status==="dirty"||p.status==="dirty")&&t.dirty(),u.set(d.value,p.value)}return{status:t.value,value:u}}}}db.create=(n,e,t)=>new db({valueType:e,keyType:n,typeName:Ye.ZodMap,...tt(t)});class Du extends ct{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Te.set)return Ie(r,{code:be.invalid_type,expected:Te.set,received:r.parsedType}),Je;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Ie(r,{code:be.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Ie(r,{code:be.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const a=this._def.valueType;function c(h){const d=new Set;for(const p of h){if(p.status==="aborted")return Je;p.status==="dirty"&&t.dirty(),d.add(p.value)}return{status:t.value,value:d}}const u=[...r.data.values()].map((h,d)=>a._parse(new Ta(r,h,r.path,d)));return r.common.async?Promise.all(u).then(h=>c(h)):c(u)}min(e,t){return new Du({...this._def,minSize:{value:e,message:Fe.toString(t)}})}max(e,t){return new Du({...this._def,maxSize:{value:e,message:Fe.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Du.create=(n,e)=>new Du({valueType:n,minSize:null,maxSize:null,typeName:Ye.ZodSet,...tt(e)});class Ad extends ct{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Te.function)return Ie(t,{code:be.invalid_type,expected:Te.function,received:t.parsedType}),Je;function r(u,h){return cb({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ob(),_m].filter(d=>!!d),issueData:{code:be.invalid_arguments,argumentsError:h}})}function s(u,h){return cb({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ob(),_m].filter(d=>!!d),issueData:{code:be.invalid_return_type,returnTypeError:h}})}const a={errorMap:t.common.contextualErrorMap},c=t.data;if(this._def.returns instanceof Pf){const u=this;return Hr(async function(...h){const d=new ki([]),p=await u._def.args.parseAsync(h,a).catch(b=>{throw d.addIssue(r(h,b)),d}),m=await Reflect.apply(c,this,p);return await u._def.returns._def.type.parseAsync(m,a).catch(b=>{throw d.addIssue(s(m,b)),d})})}else{const u=this;return Hr(function(...h){const d=u._def.args.safeParse(h,a);if(!d.success)throw new ki([r(h,d.error)]);const p=Reflect.apply(c,this,d.data),m=u._def.returns.safeParse(p,a);if(!m.success)throw new ki([s(p,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ad({...this._def,args:Oa.create(e).rest(vu.create())})}returns(e){return new Ad({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new Ad({args:e||Oa.create([]).rest(vu.create()),returns:t||vu.create(),typeName:Ye.ZodFunction,...tt(r)})}}class xm extends ct{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}xm.create=(n,e)=>new xm({getter:n,typeName:Ye.ZodLazy,...tt(e)});class Pm extends ct{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Ie(t,{received:t.data,code:be.invalid_literal,expected:this._def.value}),Je}return{status:"valid",value:e.data}}get value(){return this._def.value}}Pm.create=(n,e)=>new Pm({value:n,typeName:Ye.ZodLiteral,...tt(e)});function kk(n,e){return new Qc({values:n,typeName:Ye.ZodEnum,...tt(e)})}class Qc extends ct{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return Ie(t,{expected:Tt.joinValues(r),received:t.parsedType,code:be.invalid_type}),Je}if(this._def.values.indexOf(e.data)===-1){const t=this._getOrReturnCtx(e),r=this._def.values;return Ie(t,{received:t.data,code:be.invalid_enum_value,options:r}),Je}return Hr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return Qc.create(e)}exclude(e){return Qc.create(this.options.filter(t=>!e.includes(t)))}}Qc.create=kk;class Dm extends ct{_parse(e){const t=Tt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Te.string&&r.parsedType!==Te.number){const s=Tt.objectValues(t);return Ie(r,{expected:Tt.joinValues(s),received:r.parsedType,code:be.invalid_type}),Je}if(t.indexOf(e.data)===-1){const s=Tt.objectValues(t);return Ie(r,{received:r.data,code:be.invalid_enum_value,options:s}),Je}return Hr(e.data)}get enum(){return this._def.values}}Dm.create=(n,e)=>new Dm({values:n,typeName:Ye.ZodNativeEnum,...tt(e)});class Pf extends ct{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Te.promise&&t.common.async===!1)return Ie(t,{code:be.invalid_type,expected:Te.promise,received:t.parsedType}),Je;const r=t.parsedType===Te.promise?t.data:Promise.resolve(t.data);return Hr(r.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Pf.create=(n,e)=>new Pf({type:n,typeName:Ye.ZodPromise,...tt(e)});class Mi extends ct{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ye.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:c=>{Ie(r,c),c.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const c=s.transform(r.data,a);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(c).then(u=>this._def.schema._parseAsync({data:u,path:r.path,parent:r})):this._def.schema._parseSync({data:c,path:r.path,parent:r})}if(s.type==="refinement"){const c=u=>{const h=s.refinement(u,a);if(r.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Je:(u.status==="dirty"&&t.dirty(),c(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?Je:(u.status==="dirty"&&t.dirty(),c(u.value).then(()=>({status:t.value,value:u.value}))))}if(s.type==="transform")if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Cm(c))return c;const u=s.transform(c.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>Cm(c)?Promise.resolve(s.transform(c.value,a)).then(u=>({status:t.value,value:u})):c);Tt.assertNever(s)}}Mi.create=(n,e,t)=>new Mi({schema:n,typeName:Ye.ZodEffects,effect:e,...tt(t)});Mi.createWithPreprocess=(n,e,t)=>new Mi({schema:e,effect:{type:"preprocess",transform:n},typeName:Ye.ZodEffects,...tt(t)});class Co extends ct{_parse(e){return this._getType(e)===Te.undefined?Hr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Co.create=(n,e)=>new Co({innerType:n,typeName:Ye.ZodOptional,...tt(e)});class Uu extends ct{_parse(e){return this._getType(e)===Te.null?Hr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Uu.create=(n,e)=>new Uu({innerType:n,typeName:Ye.ZodNullable,...tt(e)});class Um extends ct{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===Te.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Um.create=(n,e)=>new Um({innerType:n,typeName:Ye.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...tt(e)});class fb extends ct{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return lb(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ki(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ki(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}fb.create=(n,e)=>new fb({innerType:n,typeName:Ye.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...tt(e)});class pb extends ct{_parse(e){if(this._getType(e)!==Te.nan){const r=this._getOrReturnCtx(e);return Ie(r,{code:be.invalid_type,expected:Te.nan,received:r.parsedType}),Je}return{status:"valid",value:e.data}}}pb.create=n=>new pb({typeName:Ye.ZodNaN,...tt(n)});const zX=Symbol("zod_brand");class Bk extends ct{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Ay extends ct{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Je:a.status==="dirty"?(t.dirty(),Uk(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Je:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,t){return new Ay({in:e,out:t,typeName:Ye.ZodPipeline})}}class gb extends ct{_parse(e){const t=this._def.innerType._parse(e);return Cm(t)&&(t.value=Object.freeze(t.value)),t}}gb.create=(n,e)=>new gb({innerType:n,typeName:Ye.ZodReadonly,...tt(e)});const Mk=(n,e={},t)=>n?xf.create().superRefine((r,s)=>{var a,c;if(!n(r)){const u=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,h=(c=(a=u.fatal)!==null&&a!==void 0?a:t)!==null&&c!==void 0?c:!0,d=typeof u=="string"?{message:u}:u;s.addIssue({code:"custom",...d,fatal:h})}}):xf.create(),qX={object:gn.lazycreate};var Ye;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Ye||(Ye={}));const GX=(n,e={message:`Input not instance of ${n.name}`})=>Mk(t=>t instanceof n,e),Lk=Ui.create,$k=Wc.create,VX=pb.create,KX=Yc.create,Fk=Sm.create,WX=Pu.create,YX=ub.create,QX=Nm.create,ZX=Tm.create,JX=xf.create,XX=vu.create,eee=Oo.create,tee=hb.create,nee=Bi.create,ree=gn.create,see=gn.strictCreate,iee=Om.create,aee=sv.create,oee=Rm.create,cee=Oa.create,lee=Im.create,uee=db.create,hee=Du.create,dee=Ad.create,fee=xm.create,pee=Pm.create,gee=Qc.create,mee=Dm.create,yee=Pf.create,p3=Mi.create,wee=Co.create,bee=Uu.create,vee=Mi.createWithPreprocess,Eee=Ay.create,Aee=()=>Lk().optional(),_ee=()=>$k().optional(),Cee=()=>Fk().optional(),See={string:n=>Ui.create({...n,coerce:!0}),number:n=>Wc.create({...n,coerce:!0}),boolean:n=>Sm.create({...n,coerce:!0}),bigint:n=>Yc.create({...n,coerce:!0}),date:n=>Pu.create({...n,coerce:!0})},Nee=Je;var D=Object.freeze({__proto__:null,defaultErrorMap:_m,setErrorMap:IX,getErrorMap:ob,makeIssue:cb,EMPTY_PATH:xX,addIssueToContext:Ie,ParseStatus:Nr,INVALID:Je,DIRTY:Uk,OK:Hr,isAborted:sC,isDirty:iC,isValid:Cm,isAsync:lb,get util(){return Tt},get objectUtil(){return rC},ZodParsedType:Te,getParsedType:bc,ZodType:ct,ZodString:Ui,ZodNumber:Wc,ZodBigInt:Yc,ZodBoolean:Sm,ZodDate:Pu,ZodSymbol:ub,ZodUndefined:Nm,ZodNull:Tm,ZodAny:xf,ZodUnknown:vu,ZodNever:Oo,ZodVoid:hb,ZodArray:Bi,ZodObject:gn,ZodUnion:Om,ZodDiscriminatedUnion:sv,ZodIntersection:Rm,ZodTuple:Oa,ZodRecord:Im,ZodMap:db,ZodSet:Du,ZodFunction:Ad,ZodLazy:xm,ZodLiteral:Pm,ZodEnum:Qc,ZodNativeEnum:Dm,ZodPromise:Pf,ZodEffects:Mi,ZodTransformer:Mi,ZodOptional:Co,ZodNullable:Uu,ZodDefault:Um,ZodCatch:fb,ZodNaN:pb,BRAND:zX,ZodBranded:Bk,ZodPipeline:Ay,ZodReadonly:gb,custom:Mk,Schema:ct,ZodSchema:ct,late:qX,get ZodFirstPartyTypeKind(){return Ye},coerce:See,any:JX,array:nee,bigint:KX,boolean:Fk,date:WX,discriminatedUnion:aee,effect:p3,enum:gee,function:dee,instanceof:GX,intersection:oee,lazy:fee,literal:pee,map:uee,nan:VX,nativeEnum:mee,never:eee,null:ZX,nullable:bee,number:$k,object:ree,oboolean:Cee,onumber:_ee,optional:wee,ostring:Aee,pipeline:Eee,preprocess:vee,promise:yee,record:lee,set:hee,strictObject:see,string:Lk,symbol:YX,transformer:p3,tuple:cee,undefined:QX,union:iee,unknown:XX,void:tee,NEVER:Nee,ZodIssueCode:be,quotelessJson:RX,ZodError:ki});const bn=D.object({message:D.string()});function Oe(n){return D.literal(Pe[n])}D.object({accessList:D.array(D.string()),blockHash:D.string().nullable(),blockNumber:D.string().nullable(),chainId:D.string().or(D.number()),from:D.string(),gas:D.string(),hash:D.string(),input:D.string().nullable(),maxFeePerGas:D.string(),maxPriorityFeePerGas:D.string(),nonce:D.string(),r:D.string(),s:D.string(),to:D.string(),transactionIndex:D.string().nullable(),type:D.string(),v:D.string(),value:D.string()});const Tee=D.object({chainId:D.string().or(D.number())}),Oee=D.object({email:D.string().email()}),Ree=D.object({otp:D.string()}),Iee=D.object({uri:D.string(),preferredAccountType:D.optional(D.string()),chainId:D.optional(D.string().or(D.number()))}),xee=D.object({chainId:D.optional(D.string().or(D.number())),preferredAccountType:D.optional(D.string()),socialUri:D.optional(D.string())}),Pee=D.object({provider:D.enum(["google","github","apple","facebook","x","discord"])}),Dee=D.object({email:D.string().email()}),Uee=D.object({otp:D.string()}),kee=D.object({otp:D.string()}),Bee=D.object({themeMode:D.optional(D.enum(["light","dark"])),themeVariables:D.optional(D.record(D.string(),D.string().or(D.number()))),w3mThemeVariables:D.optional(D.record(D.string(),D.string()))}),Mee=D.object({metadata:D.object({name:D.string(),description:D.string(),url:D.string(),icons:D.array(D.string())}).optional(),sdkVersion:D.string().optional(),sdkType:D.string().optional(),projectId:D.string()}),Lee=D.object({type:D.string()}),$ee=D.object({action:D.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),Fee=D.object({url:D.string()}),jee=D.object({userName:D.string()}),Hee=D.object({email:D.string().optional().nullable(),address:D.string(),chainId:D.string().or(D.number()),accounts:D.array(D.object({address:D.string(),type:D.enum([dr.ACCOUNT_TYPES.EOA,dr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:D.string().optional().nullable(),preferredAccountType:D.optional(D.string())}),zee=D.object({action:D.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),qee=D.object({email:D.string().email().optional().nullable(),address:D.string(),chainId:D.string().or(D.number()),smartAccountDeployed:D.optional(D.boolean()),accounts:D.array(D.object({address:D.string(),type:D.enum([dr.ACCOUNT_TYPES.EOA,dr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:D.optional(D.string())}),Gee=D.object({uri:D.string()}),Vee=D.object({isConnected:D.boolean()}),Kee=D.object({chainId:D.string().or(D.number())}),Wee=D.object({chainId:D.string().or(D.number())}),Yee=D.object({newEmail:D.string().email()}),Qee=D.object({smartAccountEnabledNetworks:D.array(D.number())});D.object({address:D.string(),isDeployed:D.boolean()});const Zee=D.object({version:D.string().optional()}),Jee=D.object({type:D.string(),address:D.string()}),Xee=D.any(),ete=D.object({method:D.literal("eth_accounts")}),tte=D.object({method:D.literal("eth_blockNumber")}),nte=D.object({method:D.literal("eth_call"),params:D.array(D.any())}),rte=D.object({method:D.literal("eth_chainId")}),ste=D.object({method:D.literal("eth_estimateGas"),params:D.array(D.any())}),ite=D.object({method:D.literal("eth_feeHistory"),params:D.array(D.any())}),ate=D.object({method:D.literal("eth_gasPrice")}),ote=D.object({method:D.literal("eth_getAccount"),params:D.array(D.any())}),cte=D.object({method:D.literal("eth_getBalance"),params:D.array(D.any())}),lte=D.object({method:D.literal("eth_getBlockByHash"),params:D.array(D.any())}),ute=D.object({method:D.literal("eth_getBlockByNumber"),params:D.array(D.any())}),hte=D.object({method:D.literal("eth_getBlockReceipts"),params:D.array(D.any())}),dte=D.object({method:D.literal("eth_getBlockTransactionCountByHash"),params:D.array(D.any())}),fte=D.object({method:D.literal("eth_getBlockTransactionCountByNumber"),params:D.array(D.any())}),pte=D.object({method:D.literal("eth_getCode"),params:D.array(D.any())}),gte=D.object({method:D.literal("eth_getFilterChanges"),params:D.array(D.any())}),mte=D.object({method:D.literal("eth_getFilterLogs"),params:D.array(D.any())}),yte=D.object({method:D.literal("eth_getLogs"),params:D.array(D.any())}),wte=D.object({method:D.literal("eth_getProof"),params:D.array(D.any())}),bte=D.object({method:D.literal("eth_getStorageAt"),params:D.array(D.any())}),vte=D.object({method:D.literal("eth_getTransactionByBlockHashAndIndex"),params:D.array(D.any())}),Ete=D.object({method:D.literal("eth_getTransactionByBlockNumberAndIndex"),params:D.array(D.any())}),Ate=D.object({method:D.literal("eth_getTransactionByHash"),params:D.array(D.any())}),_te=D.object({method:D.literal("eth_getTransactionCount"),params:D.array(D.any())}),Cte=D.object({method:D.literal("eth_getTransactionReceipt"),params:D.array(D.any())}),Ste=D.object({method:D.literal("eth_getUncleCountByBlockHash"),params:D.array(D.any())}),Nte=D.object({method:D.literal("eth_getUncleCountByBlockNumber"),params:D.array(D.any())}),Tte=D.object({method:D.literal("eth_maxPriorityFeePerGas")}),Ote=D.object({method:D.literal("eth_newBlockFilter")}),Rte=D.object({method:D.literal("eth_newFilter"),params:D.array(D.any())}),Ite=D.object({method:D.literal("eth_newPendingTransactionFilter")}),xte=D.object({method:D.literal("eth_sendRawTransaction"),params:D.array(D.any())}),Pte=D.object({method:D.literal("eth_syncing"),params:D.array(D.any())}),Dte=D.object({method:D.literal("eth_uninstallFilter"),params:D.array(D.any())}),g3=D.object({method:D.literal("personal_sign"),params:D.array(D.any())}),Ute=D.object({method:D.literal("eth_signTypedData_v4"),params:D.array(D.any())}),kte=D.object({method:D.literal("eth_sendTransaction"),params:D.array(D.any())}),Bte=D.object({method:D.literal("solana_signMessage"),params:D.object({message:D.string(),pubkey:D.string()})}),Mte=D.object({method:D.literal("solana_signTransaction"),params:D.object({transaction:D.string()})}),Lte=D.object({method:D.literal("solana_signAllTransactions"),params:D.object({transactions:D.array(D.string())})}),$te=D.object({method:D.literal("solana_signAndSendTransaction"),params:D.object({transaction:D.string(),options:D.object({skipPreflight:D.boolean().optional(),preflightCommitment:D.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:D.number().optional(),minContextSlot:D.number().optional()}).optional()})}),Fte=D.object({method:D.literal("wallet_sendCalls"),params:D.array(D.object({chainId:D.string().or(D.number()).optional(),from:D.string().optional(),version:D.string().optional(),capabilities:D.any().optional(),calls:D.array(D.object({to:D.string().startsWith("0x"),data:D.string().startsWith("0x").optional(),value:D.string().optional()}))}))}),jte=D.object({method:D.literal("wallet_getCallsStatus"),params:D.array(D.string())}),Hte=D.object({method:D.literal("wallet_getCapabilities")}),zte=D.object({method:D.literal("wallet_grantPermissions"),params:D.array(D.any())}),qte=D.object({method:D.literal("wallet_revokePermissions"),params:D.any()}),Gte=D.object({method:D.literal("wallet_getAssets"),params:D.any()}),m3=D.object({token:D.string()}),Re=D.object({id:D.string().optional()}),wg={appEvent:Re.extend({type:Oe("APP_SWITCH_NETWORK"),payload:Tee}).or(Re.extend({type:Oe("APP_CONNECT_EMAIL"),payload:Oee})).or(Re.extend({type:Oe("APP_CONNECT_DEVICE")})).or(Re.extend({type:Oe("APP_CONNECT_OTP"),payload:Ree})).or(Re.extend({type:Oe("APP_CONNECT_SOCIAL"),payload:Iee})).or(Re.extend({type:Oe("APP_GET_FARCASTER_URI")})).or(Re.extend({type:Oe("APP_CONNECT_FARCASTER")})).or(Re.extend({type:Oe("APP_GET_USER"),payload:D.optional(xee)})).or(Re.extend({type:Oe("APP_GET_SOCIAL_REDIRECT_URI"),payload:Pee})).or(Re.extend({type:Oe("APP_SIGN_OUT")})).or(Re.extend({type:Oe("APP_IS_CONNECTED"),payload:D.optional(m3)})).or(Re.extend({type:Oe("APP_GET_CHAIN_ID")})).or(Re.extend({type:Oe("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(Re.extend({type:Oe("APP_INIT_SMART_ACCOUNT")})).or(Re.extend({type:Oe("APP_SET_PREFERRED_ACCOUNT"),payload:Lee})).or(Re.extend({type:Oe("APP_RPC_REQUEST"),payload:g3.or(Gte).or(ete).or(tte).or(nte).or(rte).or(ste).or(ite).or(ate).or(ote).or(cte).or(lte).or(ute).or(hte).or(dte).or(fte).or(pte).or(gte).or(mte).or(yte).or(wte).or(bte).or(vte).or(Ete).or(Ate).or(_te).or(Cte).or(Ste).or(Nte).or(Tte).or(Ote).or(Rte).or(Ite).or(xte).or(Pte).or(Dte).or(g3).or(Ute).or(kte).or(Bte).or(Mte).or(Lte).or($te).or(jte).or(Fte).or(Hte).or(zte).or(qte)})).or(Re.extend({type:Oe("APP_UPDATE_EMAIL"),payload:Dee})).or(Re.extend({type:Oe("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:Uee})).or(Re.extend({type:Oe("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:kee})).or(Re.extend({type:Oe("APP_SYNC_THEME"),payload:Bee})).or(Re.extend({type:Oe("APP_SYNC_DAPP_DATA"),payload:Mee})).or(Re.extend({type:Oe("APP_RELOAD")})),frameEvent:Re.extend({type:Oe("FRAME_SWITCH_NETWORK_ERROR"),payload:bn}).or(Re.extend({type:Oe("FRAME_SWITCH_NETWORK_SUCCESS"),payload:Wee})).or(Re.extend({type:Oe("FRAME_CONNECT_EMAIL_SUCCESS"),payload:$ee})).or(Re.extend({type:Oe("FRAME_CONNECT_EMAIL_ERROR"),payload:bn})).or(Re.extend({type:Oe("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:Fee})).or(Re.extend({type:Oe("FRAME_GET_FARCASTER_URI_ERROR"),payload:bn})).or(Re.extend({type:Oe("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:jee})).or(Re.extend({type:Oe("FRAME_CONNECT_FARCASTER_ERROR"),payload:bn})).or(Re.extend({type:Oe("FRAME_CONNECT_OTP_ERROR"),payload:bn})).or(Re.extend({type:Oe("FRAME_CONNECT_OTP_SUCCESS")})).or(Re.extend({type:Oe("FRAME_CONNECT_DEVICE_ERROR"),payload:bn})).or(Re.extend({type:Oe("FRAME_CONNECT_DEVICE_SUCCESS")})).or(Re.extend({type:Oe("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:Hee})).or(Re.extend({type:Oe("FRAME_CONNECT_SOCIAL_ERROR"),payload:bn})).or(Re.extend({type:Oe("FRAME_GET_USER_ERROR"),payload:bn})).or(Re.extend({type:Oe("FRAME_GET_USER_SUCCESS"),payload:qee})).or(Re.extend({type:Oe("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:bn})).or(Re.extend({type:Oe("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:Gee})).or(Re.extend({type:Oe("FRAME_SIGN_OUT_ERROR"),payload:bn})).or(Re.extend({type:Oe("FRAME_SIGN_OUT_SUCCESS")})).or(Re.extend({type:Oe("FRAME_IS_CONNECTED_ERROR"),payload:bn})).or(Re.extend({type:Oe("FRAME_IS_CONNECTED_SUCCESS"),payload:Vee})).or(Re.extend({type:Oe("FRAME_GET_CHAIN_ID_ERROR"),payload:bn})).or(Re.extend({type:Oe("FRAME_GET_CHAIN_ID_SUCCESS"),payload:Kee})).or(Re.extend({type:Oe("FRAME_RPC_REQUEST_ERROR"),payload:bn})).or(Re.extend({type:Oe("FRAME_RPC_REQUEST_SUCCESS"),payload:Xee})).or(Re.extend({type:Oe("FRAME_SESSION_UPDATE"),payload:m3})).or(Re.extend({type:Oe("FRAME_UPDATE_EMAIL_ERROR"),payload:bn})).or(Re.extend({type:Oe("FRAME_UPDATE_EMAIL_SUCCESS"),payload:zee})).or(Re.extend({type:Oe("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:bn})).or(Re.extend({type:Oe("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(Re.extend({type:Oe("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:bn})).or(Re.extend({type:Oe("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:Yee})).or(Re.extend({type:Oe("FRAME_SYNC_THEME_ERROR"),payload:bn})).or(Re.extend({type:Oe("FRAME_SYNC_THEME_SUCCESS")})).or(Re.extend({type:Oe("FRAME_SYNC_DAPP_DATA_ERROR"),payload:bn})).or(Re.extend({type:Oe("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(Re.extend({type:Oe("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:Qee})).or(Re.extend({type:Oe("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:bn})).or(Re.extend({type:Oe("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:bn})).or(Re.extend({type:Oe("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:Jee})).or(Re.extend({type:Oe("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:bn})).or(Re.extend({type:Oe("FRAME_READY"),payload:Zee})).or(Re.extend({type:Oe("FRAME_RELOAD_ERROR"),payload:bn})).or(Re.extend({type:Oe("FRAME_RELOAD_SUCCESS")}))};function F1(n,e={}){var t;return typeof(e==null?void 0:e.type)=="string"&&((t=e==null?void 0:e.type)==null?void 0:t.includes(n))}class Vte{constructor({projectId:e,isAppClient:t=!1,chainId:r="eip155:1",enableLogger:s=!0}){if(this.iframe=null,this.iframeIsReady=!1,this.rpcUrl=we.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const a=document.getElementById("w3m-iframe");this.iframe&&!a&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(a,c,u)=>{function h({data:d}){if(!F1(Pe.FRAME_EVENT_KEY,d))return;const p=wg.frameEvent.parse(d);p.id===a&&(c(p),window.removeEventListener("message",h))}xs.isClient&&(window.addEventListener("message",h),u.addEventListener("abort",()=>{window.removeEventListener("message",h)}))},onFrameEvent:a=>{xs.isClient&&window.addEventListener("message",({data:c})=>{if(!F1(Pe.FRAME_EVENT_KEY,c))return;const u=wg.frameEvent.parse(c);a(u)})},onAppEvent:a=>{xs.isClient&&window.addEventListener("message",({data:c})=>{if(!F1(Pe.APP_EVENT_KEY,c))return;const u=wg.appEvent.parse(c);a(u)})},postAppEvent:a=>{var c;if(xs.isClient){if(!((c=this.iframe)!=null&&c.contentWindow))throw new Error("W3mFrame: iframe is not set");wg.appEvent.parse(a),this.iframe.contentWindow.postMessage(a,"*")}},postFrameEvent:a=>{if(xs.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");wg.frameEvent.parse(a),parent.postMessage(a,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),t&&(this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),xs.isClient)){const a=document.createElement("iframe");a.id="w3m-iframe",a.src=`${hL}?projectId=${e}&chainId=${r}&version=${fL}&enableLogger=${s}`,a.name="w3m-secure-iframe",a.style.position="fixed",a.style.zIndex="999999",a.style.display="none",a.style.border="none",a.style.animationDelay="0s, 50ms",a.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",a.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=a,this.iframe.onerror=()=>{var c;(c=this.frameLoadPromiseResolver)==null||c.reject("Unable to load email login dependency")},this.events.onFrameEvent(c=>{var u;c.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,(u=this.frameLoadPromiseResolver)==null||u.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(t=>({[t]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${t}&projectId=${this.projectId}`,chainId:t}}));return Object.assign({},...e)}}class Kte{constructor(e){var a;const t=qf({level:dL}),{logger:r,chunkLoggerController:s}=XC({opts:t});this.logger=Or(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&((a=this.chunkLoggerController)!=null&&a.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var c;(c=this.chunkLoggerController)!=null&&c.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class Wte{constructor({projectId:e,chainId:t,enableLogger:r=!0,onTimeout:s,abortController:a}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new Kte(e)),this.abortController=a,this.w3mFrame=new Vte({projectId:e,isAppClient:!0,chainId:t,enableLogger:r}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(t=>{t.type===Pe.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!ar.get(Pe.EMAIL_LOGIN_USED_KEY)}getEmail(){return ar.get(Pe.EMAIL)}getUsername(){return ar.get(Pe.SOCIAL_USERNAME)}async reload(){var e;try{await this.appEvent({type:Pe.APP_RELOAD})}catch(t){throw(e=this.w3mLogger)==null||e.logger.error({error:t},"Error reloading iframe"),t}}async connectEmail(e){var t;try{xs.checkIfAllowedToTriggerEmail(),await this.init();const r=await this.appEvent({type:Pe.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(t=this.w3mLogger)==null||t.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:Pe.APP_CONNECT_DEVICE})}catch(t){throw(e=this.w3mLogger)==null||e.logger.error({error:t},"Error connecting device"),t}}async connectOtp(e){var t;try{return this.appEvent({type:Pe.APP_CONNECT_OTP,payload:e})}catch(r){throw(t=this.w3mLogger)==null||t.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const t=await this.appEvent({type:Pe.APP_IS_CONNECTED});return t!=null&&t.isConnected||this.deleteAuthLoginCache(),t}catch(t){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:t},"Error checking connection"),t}}async getChainId(){var e;try{const t=await this.appEvent({type:Pe.APP_GET_CHAIN_ID});return this.setLastUsedChainId(t.chainId),t}catch(t){throw(e=this.w3mLogger)==null||e.logger.error({error:t},"Error getting chain id"),t}}async getSocialRedirectUri(e){var t;try{return await this.init(),this.appEvent({type:Pe.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(t=this.w3mLogger)==null||t.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var t;try{const r=await this.appEvent({type:Pe.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(t=this.w3mLogger)==null||t.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var t;try{return this.appEvent({type:Pe.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(t=this.w3mLogger)==null||t.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var t;try{const r=await this.appEvent({type:Pe.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(t=this.w3mLogger)==null||t.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var t;try{return this.appEvent({type:Pe.APP_SYNC_THEME,payload:e})}catch(r){throw(t=this.w3mLogger)==null||t.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var t;try{return this.appEvent({type:Pe.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(t=this.w3mLogger)==null||t.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const t=await this.appEvent({type:Pe.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(t.smartAccountEnabledNetworks),t}catch(t){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:t},"Error getting smart account enabled networks"),t}}async setPreferredAccount(e){var t;try{return this.appEvent({type:Pe.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(t=this.w3mLogger)==null||t.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var t,r;if(e!=null&&e.socialUri)try{await this.init();const s=await this.appEvent({type:Pe.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId}});return s.userName&&this.setSocialLoginSuccess(s.userName),this.setLoginSuccess(s.email),this.setLastUsedChainId(s.chainId),this.user=s,s}catch(s){throw(t=this.w3mLogger)==null||t.logger.error({error:s},"Error connecting social"),s}else try{const s=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,a=await this.getUser({chainId:s,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(a.email),this.setLastUsedChainId(a.chainId),this.user=a,a}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting"),s}}async getUser(e){var t;try{await this.init();const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:Pe.APP_GET_USER,payload:{...e,chainId:r}});return this.user=s,s}catch(r){throw(t=this.w3mLogger)==null||t.logger.error({error:r},"Error connecting"),r}}async connectSocial(e){var t;try{await this.init();const r=await this.appEvent({type:Pe.APP_CONNECT_SOCIAL,payload:{uri:e}});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(t=this.w3mLogger)==null||t.logger.error({error:r},"Error connecting social"),r}}async getFarcasterUri(){var e;try{return await this.init(),await this.appEvent({type:Pe.APP_GET_FARCASTER_URI})}catch(t){throw(e=this.w3mLogger)==null||e.logger.error({error:t},"Error getting farcaster uri"),t}}async connectFarcaster(){var e;try{const t=await this.appEvent({type:Pe.APP_CONNECT_FARCASTER});return t.userName&&this.setSocialLoginSuccess(t.userName),t}catch(t){throw(e=this.w3mLogger)==null||e.logger.error({error:t},"Error connecting farcaster"),t}}async switchNetwork(e){var t;try{const r=await this.appEvent({type:Pe.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(t=this.w3mLogger)==null||t.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{return this.deleteAuthLoginCache(),await new Promise(async r=>{const s=setTimeout(()=>{r()},3e3);await this.appEvent({type:Pe.APP_SIGN_OUT}),clearTimeout(s),r()})}catch(t){throw(e=this.w3mLogger)==null||e.logger.error({error:t},"Error disconnecting"),t}}async request(e){var t,r,s,a;try{if(dr.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(t=this.rpcRequestHandler)==null||t.call(this,e);const c=await this.appEvent({type:Pe.APP_RPC_REQUEST,payload:e});return(r=this.rpcSuccessHandler)==null||r.call(this,c,e),c}catch(c){throw(s=this.rpcErrorHandler)==null||s.call(this,c,e),(a=this.w3mLogger)==null||a.logger.error({error:c},"Error requesting"),c}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===Pe.FRAME_IS_CONNECTED_SUCCESS&&t.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===Pe.FRAME_IS_CONNECTED_ERROR&&e(),t.type===Pe.FRAME_IS_CONNECTED_SUCCESS&&!t.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===Pe.FRAME_GET_USER_SUCCESS&&e(t.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===Pe.FRAME_CONNECT_SOCIAL_SUCCESS&&e(t.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===Pe.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(t.payload):t.type===Pe.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:dr.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===Pe.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(t.payload.smartAccountEnabledNetworks):t.type===Pe.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:t,method:r})=>{dr.SAFE_RPC_METHODS.includes(r)||t.abort()}),this.openRpcRequests=[]}catch(t){(e=this.w3mLogger)==null||e.logger.error({error:t},"Error aborting RPC request")}}async appEvent(e){let t,r;function s(h){return h.replace("@w3m-app/","")}const a=[Pe.APP_SYNC_DAPP_DATA,Pe.APP_SYNC_THEME,Pe.APP_SET_PREFERRED_ACCOUNT],c=s(e.type);return!this.w3mFrame.iframeIsReady&&!a.includes(e.type)&&(r=setTimeout(()=>{var h;(h=this.onTimeout)==null||h.call(this,"iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[Pe.APP_CONNECT_EMAIL,Pe.APP_CONNECT_DEVICE,Pe.APP_CONNECT_OTP,Pe.APP_CONNECT_SOCIAL,Pe.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(c)&&(t=setTimeout(()=>{var h;(h=this.onTimeout)==null||h.call(this,"iframe_request_timeout"),this.abortController.abort()},3e4)),new Promise((h,d)=>{var b,E,v;const p=Math.random().toString(36).substring(7);(v=(b=this.w3mLogger)==null?void 0:(E=b.logger).info)==null||v.call(E,{event:e,id:p},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:p});const m=new AbortController;if(c==="RPC_REQUEST"){const A=e;this.openRpcRequests=[...this.openRpcRequests,{...A.payload,abortController:m}]}m.signal.addEventListener("abort",()=>{c==="RPC_REQUEST"?d(new Error("Request was aborted")):c!=="GET_FARCASTER_URI"&&d(new Error("Something went wrong"))});function y(A,N){var I,P,k;A.id===p&&((P=N==null?void 0:(I=N.logger).info)==null||P.call(I,{framEvent:A,id:p},"Received frame response"),A.type===`@w3m-frame/${c}_SUCCESS`?(t&&clearTimeout(t),r&&clearTimeout(r),"payload"in A&&h(A.payload),h(void 0)):A.type===`@w3m-frame/${c}_ERROR`&&(t&&clearTimeout(t),r&&clearTimeout(r),"payload"in A&&d(new Error(((k=A.payload)==null?void 0:k.message)||"An error occurred")),d(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(p,A=>y(A,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){ar.set(Pe.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){ar.set(Pe.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&ar.set(Pe.EMAIL,e),ar.set(Pe.EMAIL_LOGIN_USED_KEY,"true"),ar.delete(Pe.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){ar.delete(Pe.EMAIL_LOGIN_USED_KEY),ar.delete(Pe.EMAIL),ar.delete(Pe.LAST_USED_CHAIN_KEY),ar.delete(Pe.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&ar.set(Pe.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=ar.get(Pe.LAST_USED_CHAIN_KEY)??void 0,t=Number(e);return isNaN(t)?e:t}persistSmartAccountEnabledNetworks(e){ar.set(Pe.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class zg{constructor(){}static getInstance({projectId:e,chainId:t,enableLogger:r,onTimeout:s,abortController:a}){return zg.instance||(zg.instance=new Wte({projectId:e,chainId:t,enableLogger:r,onTimeout:s,abortController:a})),zg.instance}}var y3={};const Yte={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof y3<"u"?y3.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},oC={filterOutDuplicatesByRDNS(n){const e=ge.state.enableEIP6963?Ne.state.connectors:[],t=Se.getRecentWallets(),r=e.map(u=>{var h;return(h=u.info)==null?void 0:h.rdns}).filter(Boolean),s=t.map(u=>u.rdns).filter(Boolean),a=r.concat(s);if(a.includes("io.metamask.mobile")&&ke.isMobile()){const u=a.indexOf("io.metamask.mobile");a[u]="io.metamask"}return n.filter(u=>!a.includes(String(u==null?void 0:u.rdns)))},filterOutDuplicatesByIds(n){const e=Ne.state.connectors.filter(u=>u.type==="ANNOUNCED"||u.type==="INJECTED"),t=Se.getRecentWallets(),r=e.map(u=>u.explorerId),s=t.map(u=>u.id),a=r.concat(s);return n.filter(u=>!a.includes(u==null?void 0:u.id))},filterOutDuplicateWallets(n){const e=this.filterOutDuplicatesByRDNS(n);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(n){const{connectors:e}=Ne.state,{featuredWalletIds:t}=ge.state,r=e.filter(c=>c.type==="ANNOUNCED").reduce((c,u)=>{var h;return(h=u.info)!=null&&h.rdns&&(c[u.info.rdns]=!0),c},{});return n.map(c=>({...c,installed:!!c.rdns&&!!r[c.rdns??""]})).sort((c,u)=>{const h=Number(u.installed)-Number(c.installed);if(h!==0)return h;if(t!=null&&t.length){const d=t.indexOf(c.id),p=t.indexOf(u.id);if(d!==-1&&p!==-1)return d-p;if(d!==-1)return-1;if(p!==-1)return 1}return 0})},getConnectOrderMethod(n,e){var h;const t=(n==null?void 0:n.connectMethodsOrder)||((h=ge.state.features)==null?void 0:h.connectMethodsOrder),r=e||Ne.state.connectors;if(t)return t;const{injected:s,announced:a}=k0.getConnectorsByType(r,$e.state.recommended,$e.state.featured),c=s.filter(k0.showConnector),u=a.filter(k0.showConnector);return c.length||u.length?["wallet","email","social"]:Yte.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(n){const e=!!n.rdns&&$e.state.excludedWallets.some(r=>r.rdns===n.rdns),t=!!n.name&&$e.state.excludedWallets.some(r=>rv.isLowerCaseMatch(r.name,n.name));return e||t}},k0={getConnectorsByType(n,e,t){const{customWallets:r}=ge.state,s=Se.getRecentWallets(),a=oC.filterOutDuplicateWallets(e),c=oC.filterOutDuplicateWallets(t),u=n.filter(m=>m.type==="MULTI_CHAIN"),h=n.filter(m=>m.type==="ANNOUNCED"),d=n.filter(m=>m.type==="INJECTED"),p=n.filter(m=>m.type==="EXTERNAL");return{custom:r,recent:s,external:p,multiChain:u,announced:h,injected:d,recommended:a,featured:c}},showConnector(n){var s;const e=(s=n.info)==null?void 0:s.rdns,t=!!e&&$e.state.excludedWallets.some(a=>!!a.rdns&&a.rdns===e),r=!!n.name&&$e.state.excludedWallets.some(a=>rv.isLowerCaseMatch(a.name,n.name));return!(n.type==="INJECTED"&&(n.name==="Browser Wallet"&&(!ke.isMobile()||ke.isMobile()&&!e&&!ze.checkInstalled())||t||r)||(n.type==="ANNOUNCED"||n.type==="EXTERNAL")&&(t||r))},getIsConnectedWithWC(){return Array.from(j.state.chains.values()).some(t=>Ne.getConnectorId(t.namespace)===we.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:n,featured:e,custom:t,recent:r,announced:s,injected:a,multiChain:c,external:u,overriddenConnectors:h=(d=>(d=ge.state.features)==null?void 0:d.connectorTypeOrder)()??[]}){const p=k0.getIsConnectedWithWC(),b=[{type:"walletConnect",isEnabled:ge.state.enableWalletConnect&&!p},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...a,...s,...c].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:t&&t.length>0},{type:"external",isEnabled:u.length>0},{type:"recommended",isEnabled:n.length>0}].filter(N=>N.isEnabled),E=new Set(b.map(N=>N.type)),v=h.filter(N=>E.has(N)).map(N=>({type:N,isEnabled:!0})),A=b.filter(({type:N})=>!v.some(({type:P})=>P===N));return Array.from(new Set([...v,...A].map(({type:N})=>N)))}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const B0=globalThis,_S=B0.ShadowRoot&&(B0.ShadyCSS===void 0||B0.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,CS=Symbol(),w3=new WeakMap;let jk=class{constructor(e,t,r){if(this._$cssResult$=!0,r!==CS)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(_S&&e===void 0){const r=t!==void 0&&t.length===1;r&&(e=w3.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&w3.set(t,e))}return e}toString(){return this.cssText}};const Zs=n=>new jk(typeof n=="string"?n:n+"",void 0,CS),_d=(n,...e)=>{const t=n.length===1?n[0]:e.reduce((r,s,a)=>r+(c=>{if(c._$cssResult$===!0)return c.cssText;if(typeof c=="number")return c;throw Error("Value passed to 'css' function must be a 'css' function result: "+c+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+n[a+1],n[0]);return new jk(t,n,CS)},Qte=(n,e)=>{if(_S)n.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(const t of e){const r=document.createElement("style"),s=B0.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=t.cssText,n.appendChild(r)}},b3=_S?n=>n:n=>n instanceof CSSStyleSheet?(e=>{let t="";for(const r of e.cssRules)t+=r.cssText;return Zs(t)})(n):n;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Zte,defineProperty:Jte,getOwnPropertyDescriptor:Xte,getOwnPropertyNames:ene,getOwnPropertySymbols:tne,getPrototypeOf:nne}=Object,zc=globalThis,v3=zc.trustedTypes,rne=v3?v3.emptyScript:"",j1=zc.reactiveElementPolyfillSupport,qg=(n,e)=>n,cC={toAttribute(n,e){switch(e){case Boolean:n=n?rne:null;break;case Object:case Array:n=n==null?n:JSON.stringify(n)}return n},fromAttribute(n,e){let t=n;switch(e){case Boolean:t=n!==null;break;case Number:t=n===null?null:Number(n);break;case Object:case Array:try{t=JSON.parse(n)}catch{t=null}}return t}},Hk=(n,e)=>!Zte(n,e),E3={attribute:!0,type:String,converter:cC,reflect:!1,useDefault:!1,hasChanged:Hk};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),zc.litPropertyMetadata??(zc.litPropertyMetadata=new WeakMap);let ld=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=E3){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,t);s!==void 0&&Jte(this.prototype,e,s)}}static getPropertyDescriptor(e,t,r){const{get:s,set:a}=Xte(this.prototype,e)??{get(){return this[t]},set(c){this[t]=c}};return{get:s,set(c){const u=s==null?void 0:s.call(this);a==null||a.call(this,c),this.requestUpdate(e,u,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??E3}static _$Ei(){if(this.hasOwnProperty(qg("elementProperties")))return;const e=nne(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(qg("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(qg("properties"))){const t=this.properties,r=[...ene(t),...tne(t)];for(const s of r)this.createProperty(s,t[s])}const e=this[Symbol.metadata];if(e!==null){const t=litPropertyMetadata.get(e);if(t!==void 0)for(const[r,s]of t)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[t,r]of this.elementProperties){const s=this._$Eu(t,r);s!==void 0&&this._$Eh.set(s,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)t.unshift(b3(s))}else e!==void 0&&t.push(b3(e));return t}static _$Eu(e,t){const r=t.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(t=>t(this))}addController(e){var t;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((t=e.hostConnected)==null||t.call(e))}removeController(e){var t;(t=this._$EO)==null||t.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const r of t.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Qte(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(t=>{var r;return(r=t.hostConnected)==null?void 0:r.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(t=>{var r;return(r=t.hostDisconnected)==null?void 0:r.call(t)})}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$ET(e,t){var a;const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const c=(((a=r.converter)==null?void 0:a.toAttribute)!==void 0?r.converter:cC).toAttribute(t,r.type);this._$Em=e,c==null?this.removeAttribute(s):this.setAttribute(s,c),this._$Em=null}}_$AK(e,t){var a,c;const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const u=r.getPropertyOptions(s),h=typeof u.converter=="function"?{fromAttribute:u.converter}:((a=u.converter)==null?void 0:a.fromAttribute)!==void 0?u.converter:cC;this._$Em=s,this[s]=h.fromAttribute(t,u.type)??((c=this._$Ej)==null?void 0:c.get(s))??null,this._$Em=null}}requestUpdate(e,t,r){var s;if(e!==void 0){const a=this.constructor,c=this[e];if(r??(r=a.getPropertyOptions(e)),!((r.hasChanged??Hk)(c,t)||r.useDefault&&r.reflect&&c===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(a._$Eu(e,r))))return;this.C(e,t,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,t,{useDefault:r,reflect:s,wrapped:a},c){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,c??t??this[e]),a!==!0||c!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(t=void 0),this._$AL.set(e,t)),s===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[a,c]of this._$Ep)this[a]=c;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[a,c]of s){const{wrapped:u}=c,h=this[a];u!==!0||this._$AL.has(a)||h===void 0||this.C(a,void 0,c,h)}}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),(r=this._$EO)==null||r.forEach(s=>{var a;return(a=s.hostUpdate)==null?void 0:a.call(s)}),this.update(t)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(t)}willUpdate(e){}_$AE(e){var t;(t=this._$EO)==null||t.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(t=>this._$ET(t,this[t]))),this._$EM()}updated(e){}firstUpdated(e){}};ld.elementStyles=[],ld.shadowRootOptions={mode:"open"},ld[qg("elementProperties")]=new Map,ld[qg("finalized")]=new Map,j1==null||j1({ReactiveElement:ld}),(zc.reactiveElementVersions??(zc.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Gg=globalThis,mb=Gg.trustedTypes,A3=mb?mb.createPolicy("lit-html",{createHTML:n=>n}):void 0,zk="$lit$",vc=`lit$${Math.random().toFixed(9).slice(2)}$`,qk="?"+vc,sne=`<${qk}>`,ku=document,km=()=>ku.createComment(""),Bm=n=>n===null||typeof n!="object"&&typeof n!="function",SS=Array.isArray,ine=n=>SS(n)||typeof(n==null?void 0:n[Symbol.iterator])=="function",H1=`[ 	
\f\r]`,bg=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,_3=/-->/g,C3=/>/g,Sl=RegExp(`>|${H1}(?:([^\\s"'>=/]+)(${H1}*=${H1}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),S3=/'/g,N3=/"/g,Gk=/^(?:script|style|textarea|title)$/i,Vk=n=>(e,...t)=>({_$litType$:n,strings:e,values:t}),_ce=Vk(1),Cce=Vk(2),Df=Symbol.for("lit-noChange"),Yn=Symbol.for("lit-nothing"),T3=new WeakMap,Gl=ku.createTreeWalker(ku,129);function Kk(n,e){if(!SS(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return A3!==void 0?A3.createHTML(e):e}const ane=(n,e)=>{const t=n.length-1,r=[];let s,a=e===2?"<svg>":e===3?"<math>":"",c=bg;for(let u=0;u<t;u++){const h=n[u];let d,p,m=-1,y=0;for(;y<h.length&&(c.lastIndex=y,p=c.exec(h),p!==null);)y=c.lastIndex,c===bg?p[1]==="!--"?c=_3:p[1]!==void 0?c=C3:p[2]!==void 0?(Gk.test(p[2])&&(s=RegExp("</"+p[2],"g")),c=Sl):p[3]!==void 0&&(c=Sl):c===Sl?p[0]===">"?(c=s??bg,m=-1):p[1]===void 0?m=-2:(m=c.lastIndex-p[2].length,d=p[1],c=p[3]===void 0?Sl:p[3]==='"'?N3:S3):c===N3||c===S3?c=Sl:c===_3||c===C3?c=bg:(c=Sl,s=void 0);const b=c===Sl&&n[u+1].startsWith("/>")?" ":"";a+=c===bg?h+sne:m>=0?(r.push(d),h.slice(0,m)+zk+h.slice(m)+vc+b):h+vc+(m===-2?u:b)}return[Kk(n,a+(n[t]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class Mm{constructor({strings:e,_$litType$:t},r){let s;this.parts=[];let a=0,c=0;const u=e.length-1,h=this.parts,[d,p]=ane(e,t);if(this.el=Mm.createElement(d,r),Gl.currentNode=this.el.content,t===2||t===3){const m=this.el.content.firstChild;m.replaceWith(...m.childNodes)}for(;(s=Gl.nextNode())!==null&&h.length<u;){if(s.nodeType===1){if(s.hasAttributes())for(const m of s.getAttributeNames())if(m.endsWith(zk)){const y=p[c++],b=s.getAttribute(m).split(vc),E=/([.?@])?(.*)/.exec(y);h.push({type:1,index:a,name:E[2],strings:b,ctor:E[1]==="."?cne:E[1]==="?"?lne:E[1]==="@"?une:iv}),s.removeAttribute(m)}else m.startsWith(vc)&&(h.push({type:6,index:a}),s.removeAttribute(m));if(Gk.test(s.tagName)){const m=s.textContent.split(vc),y=m.length-1;if(y>0){s.textContent=mb?mb.emptyScript:"";for(let b=0;b<y;b++)s.append(m[b],km()),Gl.nextNode(),h.push({type:2,index:++a});s.append(m[y],km())}}}else if(s.nodeType===8)if(s.data===qk)h.push({type:2,index:a});else{let m=-1;for(;(m=s.data.indexOf(vc,m+1))!==-1;)h.push({type:7,index:a}),m+=vc.length-1}a++}}static createElement(e,t){const r=ku.createElement("template");return r.innerHTML=e,r}}function Uf(n,e,t=n,r){var c,u;if(e===Df)return e;let s=r!==void 0?(c=t._$Co)==null?void 0:c[r]:t._$Cl;const a=Bm(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==a&&((u=s==null?void 0:s._$AO)==null||u.call(s,!1),a===void 0?s=void 0:(s=new a(n),s._$AT(n,t,r)),r!==void 0?(t._$Co??(t._$Co=[]))[r]=s:t._$Cl=s),s!==void 0&&(e=Uf(n,s._$AS(n,e.values),s,r)),e}class one{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:r}=this._$AD,s=((e==null?void 0:e.creationScope)??ku).importNode(t,!0);Gl.currentNode=s;let a=Gl.nextNode(),c=0,u=0,h=r[0];for(;h!==void 0;){if(c===h.index){let d;h.type===2?d=new _y(a,a.nextSibling,this,e):h.type===1?d=new h.ctor(a,h.name,h.strings,this,e):h.type===6&&(d=new hne(a,this,e)),this._$AV.push(d),h=r[++u]}c!==(h==null?void 0:h.index)&&(a=Gl.nextNode(),c++)}return Gl.currentNode=ku,s}p(e){let t=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}}class _y{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,t,r,s){this.type=2,this._$AH=Yn,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=Uf(this,e,t),Bm(e)?e===Yn||e==null||e===""?(this._$AH!==Yn&&this._$AR(),this._$AH=Yn):e!==this._$AH&&e!==Df&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):ine(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Yn&&Bm(this._$AH)?this._$AA.nextSibling.data=e:this.T(ku.createTextNode(e)),this._$AH=e}$(e){var a;const{values:t,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=Mm.createElement(Kk(r.h,r.h[0]),this.options)),r);if(((a=this._$AH)==null?void 0:a._$AD)===s)this._$AH.p(t);else{const c=new one(s,this),u=c.u(this.options);c.p(t),this.T(u),this._$AH=c}}_$AC(e){let t=T3.get(e.strings);return t===void 0&&T3.set(e.strings,t=new Mm(e)),t}k(e){SS(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let r,s=0;for(const a of e)s===t.length?t.push(r=new _y(this.O(km()),this.O(km()),this,this.options)):r=t[s],r._$AI(a),s++;s<t.length&&(this._$AR(r&&r._$AB.nextSibling,s),t.length=s)}_$AR(e=this._$AA.nextSibling,t){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,t);e&&e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var t;this._$AM===void 0&&(this._$Cv=e,(t=this._$AP)==null||t.call(this,e))}}class iv{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,r,s,a){this.type=1,this._$AH=Yn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=a,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Yn}_$AI(e,t=this,r,s){const a=this.strings;let c=!1;if(a===void 0)e=Uf(this,e,t,0),c=!Bm(e)||e!==this._$AH&&e!==Df,c&&(this._$AH=e);else{const u=e;let h,d;for(e=a[0],h=0;h<a.length-1;h++)d=Uf(this,u[r+h],t,h),d===Df&&(d=this._$AH[h]),c||(c=!Bm(d)||d!==this._$AH[h]),d===Yn?e=Yn:e!==Yn&&(e+=(d??"")+a[h+1]),this._$AH[h]=d}c&&!s&&this.j(e)}j(e){e===Yn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class cne extends iv{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Yn?void 0:e}}class lne extends iv{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Yn)}}class une extends iv{constructor(e,t,r,s,a){super(e,t,r,s,a),this.type=5}_$AI(e,t=this){if((e=Uf(this,e,t,0)??Yn)===Df)return;const r=this._$AH,s=e===Yn&&r!==Yn||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,a=e!==Yn&&(r===Yn||s);s&&this.element.removeEventListener(this.name,this,r),a&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t;typeof this._$AH=="function"?this._$AH.call(((t=this.options)==null?void 0:t.host)??this.element,e):this._$AH.handleEvent(e)}}class hne{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Uf(this,e)}}const z1=Gg.litHtmlPolyfillSupport;z1==null||z1(Mm,_y),(Gg.litHtmlVersions??(Gg.litHtmlVersions=[])).push("3.3.0");const dne=(n,e,t)=>{const r=(t==null?void 0:t.renderBefore)??e;let s=r._$litPart$;if(s===void 0){const a=(t==null?void 0:t.renderBefore)??null;r._$litPart$=s=new _y(e.insertBefore(km(),a),a,void 0,t??{})}return s._$AI(n),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Eu=globalThis;class M0 extends ld{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t;const e=super.createRenderRoot();return(t=this.renderOptions).renderBefore??(t.renderBefore=e.firstChild),e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=dne(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return Df}}var zP;M0._$litElement$=!0,M0.finalized=!0,(zP=Eu.litElementHydrateSupport)==null||zP.call(Eu,{LitElement:M0});const q1=Eu.litElementPolyfillSupport;q1==null||q1({LitElement:M0});(Eu.litElementVersions??(Eu.litElementVersions=[])).push("4.2.0");let Vg,qc,Gc;function Sce(n,e){Vg=document.createElement("style"),qc=document.createElement("style"),Gc=document.createElement("style"),Vg.textContent=Cd(n).core.cssText,qc.textContent=Cd(n).dark.cssText,Gc.textContent=Cd(n).light.cssText,document.head.appendChild(Vg),document.head.appendChild(qc),document.head.appendChild(Gc),Wk(e)}function Wk(n){qc&&Gc&&(n==="light"?(qc.removeAttribute("media"),Gc.media="enabled"):(Gc.removeAttribute("media"),qc.media="enabled"))}function fne(n){Vg&&qc&&Gc&&(Vg.textContent=Cd(n).core.cssText,qc.textContent=Cd(n).dark.cssText,Gc.textContent=Cd(n).light.cssText)}function Cd(n){return{core:_d`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${Zs(n!=null&&n["--w3m-color-mix-strength"]?`${n["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${Zs((n==null?void 0:n["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${Zs((n==null?void 0:n["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${Zs((n==null?void 0:n["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${Zs((n==null?void 0:n["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:_d`
      :root {
        --w3m-color-mix: ${Zs((n==null?void 0:n["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${Zs(bo(n,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${Zs(bo(n,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:_d`
      :root {
        --w3m-color-mix: ${Zs((n==null?void 0:n["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${Zs(bo(n,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${Zs(bo(n,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const Nce=_d`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,Tce=_d`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,Oce=_d`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,vo={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]},pne=GL({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}});function Cy(n){return{formatters:void 0,fees:void 0,serializers:void 0,...n}}const O3=Cy({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),R3=Cy({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Cy({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});Cy({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});Cy({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const gne={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},L0={getMethodsByChainNamespace(n){return gne[n]||[]},createDefaultNamespace(n){return{methods:this.getMethodsByChainNamespace(n),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(n,e){if(!e)return{...n};const t={...n},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>r.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>r.add(s)),e.events&&Object.keys(e.events).forEach(s=>r.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[a]=s.split(":");a&&r.add(a)}),r.forEach(s=>{t[s]||(t[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,a])=>{t[s]&&(t[s].methods=a)}),e.chains&&Object.entries(e.chains).forEach(([s,a])=>{t[s]&&(t[s].chains=a)}),e.events&&Object.entries(e.events).forEach(([s,a])=>{t[s]&&(t[s].events=a)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([a,c])=>{const[u,h]=a.split(":");!u||!h||!t[u]||(t[u].rpcMap||(t[u].rpcMap={}),s.has(u)||(t[u].rpcMap={},s.add(u)),t[u].rpcMap[h]=c)})}return t},createNamespaces(n,e){const t=n.reduce((r,s)=>{const{id:a,chainNamespace:c,rpcUrls:u}=s,h=u.default.http[0];r[c]||(r[c]=this.createDefaultNamespace(c));const d=`${c}:${a}`,p=r[c];switch(p.chains.push(d),d){case O3.caipNetworkId:p.chains.push(O3.deprecatedCaipNetworkId);break;case R3.caipNetworkId:p.chains.push(R3.deprecatedCaipNetworkId);break}return p!=null&&p.rpcMap&&h&&(p.rpcMap[a]=h),r},{});return this.applyNamespaceOverrides(t,e)},resolveReownName:async n=>{var r;const e=await Bg.resolveName(n);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(n={}){return Object.values(n).flatMap(e=>{const t=e.chains||[],r=e.accounts.map(s=>{const[a,c]=s.split(":");return`${a}:${c}`});return Array.from(new Set([...t,...r]))})},isSessionEventData(n){return typeof n=="object"&&n!==null&&"id"in n&&"topic"in n&&"params"in n&&typeof n.params=="object"&&n.params!==null&&"chainId"in n.params&&"event"in n.params&&typeof n.params.event=="object"&&n.params.event!==null},isOriginAllowed(n,e,t){for(const r of[...e,...t])if(r.includes("*")){const a=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(a,"u").test(n))return!0}else try{if(new URL(r).origin===n)return!0}catch{if(r===n)return!0}return!1}};class NS{constructor({provider:e,namespace:t}){this.id=we.CONNECTOR_ID.WALLET_CONNECT,this.name=ma.ConnectorNamesMap[we.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=ma.ConnectorImageIds[we.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=j.getCaipNetworks.bind(j),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=t}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const t=this.getCaipNetworks(),r=ge.state.universalProviderConfigOverride,s=L0.createNamespaces(t,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(t=>t.caipNetworkId);return Hg.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:mne})}}const mne=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class Yk{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=t=>j.getCaipNetworks(t),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:we.CONNECTOR_ID.AUTH,type:"AUTH",name:we.CONNECTOR_NAMES.AUTH,provider:e,imageId:ma.ConnectorImageIds[we.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const t=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>t.has(r.id)?!1:(t.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,t){Ce.setStatus(e,t)}on(e,t){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(t)}off(e,t){const r=this.eventListeners.get(e);r&&r.delete(t)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,t){const r=this.eventListeners.get(e);r&&r.forEach(s=>s(t))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var a;const{caipNetwork:t,providerType:r}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(t.caipNetworkId);return}if(s&&r==="AUTH"){const c=s,u=(a=Ce.state.preferredAccountTypes)==null?void 0:a[t.chainNamespace];await c.switchNetwork(t.caipNetworkId);const h=await c.getUser({chainId:t.caipNetworkId,preferredAccountType:u});this.emit("switchNetwork",h)}}getWalletConnectConnector(){const e=this.connectors.find(t=>t instanceof NS);if(!e)throw new Error("WalletConnectConnector not found");return e}}class yne extends Yk{setUniversalProvider(e){this.addConnector(new NS({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var s,a,c,u;const t=this.provider,r=((u=(c=(a=(s=t==null?void 0:t.session)==null?void 0:s.namespaces)==null?void 0:a[e])==null?void 0:c.accounts)==null?void 0:u.map(h=>{const[,,d]=h.split(":");return d}).filter((h,d,p)=>p.indexOf(h)===d))||[];return Promise.resolve({accounts:r.map(h=>ke.createAccount(e,h,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var a,c,u,h,d;if(!(e.caipNetwork&&Gt.BALANCE_SUPPORTED_CHAINS.includes((a=e.caipNetwork)==null?void 0:a.chainNamespace))||(c=e.caipNetwork)!=null&&c.testnet)return{balance:"0.00",symbol:((u=e.caipNetwork)==null?void 0:u.nativeCurrency.symbol)||""};if(Ce.state.balanceLoading&&e.chainId===((h=j.state.activeCaipNetwork)==null?void 0:h.id))return{balance:Ce.state.balance||"0.00",symbol:Ce.state.balanceSymbol||""};const s=(await Ce.fetchTokenBalance()).find(p=>{var m,y;return p.chainId===`${(m=e.caipNetwork)==null?void 0:m.chainNamespace}:${e.chainId}`&&p.symbol===((y=e.caipNetwork)==null?void 0:y.nativeCurrency.symbol)});return{balance:(s==null?void 0:s.quantity.numeric)||"0.00",symbol:(s==null?void 0:s.symbol)||((d=e.caipNetwork)==null?void 0:d.nativeCurrency.symbol)||""}}async signMessage(e){var c,u,h;const{provider:t,message:r,address:s}=e;if(!t)throw new Error("UniversalAdapter:signMessage - provider is undefined");let a="";return((c=j.state.activeCaipNetwork)==null?void 0:c.chainNamespace)===we.CHAIN.SOLANA?a=(await t.request({method:"solana_signMessage",params:{message:iU.encode(new TextEncoder().encode(r)),pubkey:s}},(u=j.state.activeCaipNetwork)==null?void 0:u.caipNetworkId)).signature:a=await t.request({method:"personal_sign",params:[r,s]},(h=j.state.activeCaipNetwork)==null?void 0:h.caipNetworkId),{signature:a}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,a,c,u,h,d;const{caipNetwork:t}=e,r=this.getWalletConnectConnector();if(t.chainNamespace===we.CHAIN.EVM)try{await((s=r.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:nR(t.id)}]}))}catch(p){if(p.code===vo.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||p.code===vo.ERROR_INVALID_CHAIN_ID||p.code===vo.ERROR_CODE_DEFAULT||((c=(a=p==null?void 0:p.data)==null?void 0:a.originalError)==null?void 0:c.code)===vo.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((d=r.provider)==null?void 0:d.request({method:"wallet_addEthereumChain",params:[{chainId:nR(t.id),rpcUrls:[(u=t==null?void 0:t.rpcUrls.chainDefault)==null?void 0:u.http],chainName:t.name,nativeCurrency:t.nativeCurrency,blockExplorerUrls:[(h=t.blockExplorers)==null?void 0:h.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(t.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}const wne=["email","socials","swaps","onramp","activity","reownBranding"],y0={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:n=>{if(!(n!=null&&n.config))return!1;const e=n.config;return!!n.isEnabled&&e.includes("email")},processFallback:n=>n===void 0?Gt.DEFAULT_REMOTE_FEATURES.email:!!n},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:n=>{if(!(n!=null&&n.config))return!1;const e=n.config;return n.isEnabled&&e.length>0?e.filter(t=>t!=="email"):!1},processFallback:n=>n===void 0?Gt.DEFAULT_REMOTE_FEATURES.socials:typeof n=="boolean"?n?Gt.DEFAULT_REMOTE_FEATURES.socials:!1:n},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:n=>{if(!(n!=null&&n.config))return!1;const e=n.config;return n.isEnabled&&e.length>0?e:!1},processFallback:n=>n===void 0?Gt.DEFAULT_REMOTE_FEATURES.swaps:typeof n=="boolean"?n?Gt.DEFAULT_REMOTE_FEATURES.swaps:!1:n},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:n=>{if(!(n!=null&&n.config))return!1;const e=n.config;return n.isEnabled&&e.length>0?e:!1},processFallback:n=>n===void 0?Gt.DEFAULT_REMOTE_FEATURES.onramp:typeof n=="boolean"?n?Gt.DEFAULT_REMOTE_FEATURES.onramp:!1:n},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:n=>!!n.isEnabled,processFallback:n=>n===void 0?Gt.DEFAULT_REMOTE_FEATURES.activity:!!n},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:n=>!!n.isEnabled,processFallback:n=>n===void 0?Gt.DEFAULT_REMOTE_FEATURES.reownBranding:!!n}},bne={localSettingsOverridden:new Set,getApiConfig(n,e){return e==null?void 0:e.find(t=>t.id===n)},addWarning(n,e){if(n!==void 0){const t=y0[e],r=t.isLegacy?`"features.${t.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(r)}},processFeature(n,e,t,r,s){const a=y0[n],c=e[a.localFeatureName];if(s&&!a.isAvailableOnBasic)return!1;if(r){const u=this.getApiConfig(a.apiFeatureName,t);return(u==null?void 0:u.config)===null?this.processFallbackFeature(n,c):u!=null&&u.config?(c!==void 0&&this.addWarning(c,n),this.processApiFeature(n,u)):!1}return this.processFallbackFeature(n,c)},processApiFeature(n,e){return y0[n].processApi(e)},processFallbackFeature(n,e){return y0[n].processFallback(e)},async fetchRemoteFeatures(n){const e=n.basic??!1,t=n.features||{};this.localSettingsOverridden.clear();let r=null,s=!1;try{r=await $e.fetchProjectConfig(),s=r!=null}catch(c){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",c)}const a=s&&!e?Gt.DEFAULT_REMOTE_FEATURES:Gt.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const c of wne){const u=this.processFeature(c,t,r,s,e);Object.assign(a,{[c]:u})}}catch(c){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",c),Gt.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const c=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;ga.open({shortMessage:"Local configuration ignored",longMessage:`[Reown Config Notice] ${c}`},"warning")}return a}};class vne{constructor(e){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(t,r)=>{var s,a,c,u;if(t){const h=(a=(s=j.getNetworkData(t))==null?void 0:s.requestedCaipNetworks)==null?void 0:a.find(m=>m.id===r);if(h)return h;const d=(c=j.getNetworkData(t))==null?void 0:c.caipNetwork;return d||((u=j.getRequestedCaipNetworks(t).filter(m=>m.chainNamespace===t))==null?void 0:u[0])}return j.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const t=this.getCaipNetwork();if(t)return t.id},this.getCaipNetworks=t=>j.getCaipNetworks(t),this.getActiveChainNamespace=()=>j.state.activeChain,this.setRequestedCaipNetworks=(t,r)=>{j.setRequestedCaipNetworks(t,r)},this.getApprovedCaipNetworkIds=()=>j.getAllApprovedCaipNetworkIds(),this.getCaipAddress=t=>j.state.activeChain===t||!t?j.state.activeCaipAddress:j.getAccountProp("caipAddress",t),this.setClientId=t=>{Ve.setClientId(t)},this.getProvider=t=>Et.getProvider(t),this.getProviderType=t=>Et.getProviderId(t),this.getPreferredAccountType=t=>{var r;return(r=Ce.state.preferredAccountTypes)==null?void 0:r[t]},this.setCaipAddress=(t,r)=>{Ce.setCaipAddress(t,r),t&&ge.state.enableEmbedded&&this.close()},this.setBalance=(t,r,s)=>{Ce.setBalance(t,r,s)},this.setProfileName=(t,r)=>{Ce.setProfileName(t,r)},this.setProfileImage=(t,r)=>{Ce.setProfileImage(t,r)},this.setUser=(t,r)=>{Ce.setUser(t,r)},this.resetAccount=t=>{Ce.resetAccount(t)},this.setCaipNetwork=t=>{j.setActiveCaipNetwork(t)},this.setCaipNetworkOfNamespace=(t,r)=>{j.setChainNetworkData(r,{caipNetwork:t})},this.setAllAccounts=(t,r)=>{Ce.setAllAccounts(t,r),ge.setHasMultipleAddresses((t==null?void 0:t.length)>1)},this.setStatus=(t,r)=>{Ce.setStatus(t,r),Ne.isConnected()?Se.setConnectionStatus("connected"):Se.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=t=>j.getAccountProp("address",t),this.setConnectors=t=>{const r=[...Ne.state.allConnectors,...t];Ne.setConnectors(r)},this.setConnections=(t,r)=>{ze.setConnections(t,r)},this.fetchIdentity=t=>Ve.fetchIdentity(t),this.getReownName=t=>Bg.getNamesForAddress(t),this.getConnectors=()=>Ne.getConnectors(),this.getConnectorImage=t=>XP.getConnectorImage(t),this.setConnectedWalletInfo=(t,r)=>{const s=Et.getProviderId(r),a=t?{...t,type:s}:void 0;Ce.setConnectedWalletInfo(a,r)},this.getIsConnectedState=()=>!!j.state.activeCaipAddress,this.addAddressLabel=(t,r,s)=>{Ce.addAddressLabel(t,r,s)},this.removeAddressLabel=(t,r)=>{Ce.removeAddressLabel(t,r)},this.getAddress=t=>j.state.activeChain===t||!t?Ce.state.address:j.getAccountProp("address",t),this.setApprovedCaipNetworksData=t=>j.setApprovedCaipNetworksData(t),this.resetNetwork=t=>{j.resetNetwork(t)},this.addConnector=t=>{Ne.addConnector(t)},this.resetWcConnection=()=>{ze.resetWcConnection()},this.setAddressExplorerUrl=(t,r)=>{Ce.setAddressExplorerUrl(t,r)},this.setSmartAccountDeployed=(t,r)=>{Ce.setSmartAccountDeployed(t,r)},this.setSmartAccountEnabledNetworks=(t,r)=>{j.setSmartAccountEnabledNetworks(t,r)},this.setPreferredAccountType=(t,r)=>{Ce.setPreferredAccountType(t,r)},this.setEIP6963Enabled=t=>{ge.setEIP6963Enabled(t)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,t){const r=e==null?void 0:e.map(a=>a.namespace).filter(a=>!!a);if(r!=null&&r.length)return[...new Set(r)];const s=t==null?void 0:t.map(a=>a.chainNamespace);return[...new Set(s)]}async initialize(e){var t,r,s;this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),await this.syncExistingConnection(),this.remoteFeatures=await bne.fetchRemoteFeatures(e),ge.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&p_.setOnrampProviders(this.remoteFeatures.onramp),((t=ge.state.remoteFeatures)!=null&&t.email||Array.isArray((r=ge.state.remoteFeatures)==null?void 0:r.socials)&&((s=ge.state.remoteFeatures)==null?void 0:s.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){const e=await $e.fetchAllowedOrigins();if(e&&ke.isClient()){const t=window.location.origin;L0.isOriginAllowed(t,e,vo.DEFAULT_ALLOWED_ANCESTORS)||ga.open(pa.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}else ga.open(pa.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}sendInitializeEvent(e){var r;const{...t}=e;delete t.adapters,delete t.universalProvider,hn.sendEvent({type:"track",event:"INITIALIZE",properties:{...t,networks:e.networks.map(s=>s.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&ss.setThemeMode(e.themeMode),e.themeVariables&&ss.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");j.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const t=this.getDefaultNetwork();t&&j.setActiveCaipNetwork(t)}initializeConnectionController(e){ze.setWcBasic(e.basic??!1)}initializeConnectorController(){Ne.initialize(this.chainNamespaces)}initializeProjectSettings(e){ge.setProjectId(e.projectId),ge.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var c;ge.setDebug(e.debug!==!1),ge.setEnableWalletConnect(e.enableWalletConnect!==!1),ge.setEnableWalletGuide(e.enableWalletGuide!==!1),ge.setEnableWallets(e.enableWallets!==!1),ge.setEIP6963Enabled(e.enableEIP6963!==!1),ge.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),ge.setEnableAuthLogger(e.enableAuthLogger!==!1),ge.setCustomRpcUrls(e.customRpcUrls),ge.setEnableEmbedded(e.enableEmbedded),ge.setAllWallets(e.allWallets),ge.setIncludeWalletIds(e.includeWalletIds),ge.setExcludeWalletIds(e.excludeWalletIds),ge.setFeaturedWalletIds(e.featuredWalletIds),ge.setTokens(e.tokens),ge.setTermsConditionsUrl(e.termsConditionsUrl),ge.setPrivacyPolicyUrl(e.privacyPolicyUrl),ge.setCustomWallets(e.customWallets),ge.setFeatures(e.features),ge.setAllowUnsupportedChain(e.allowUnsupportedChain),ge.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),ge.setPreferUniversalLinks(e.experimental_preferUniversalLinks),ge.setDefaultAccountTypes(e.defaultAccountTypes);const t=Se.getPreferredAccountTypes()||{},r={...ge.state.defaultAccountTypes,...t};Ce.setPreferredAccountTypes(r);const s=this.getDefaultMetaData();if(!e.metadata&&s&&(e.metadata=s),ge.setMetadata(e.metadata),ge.setDisableAppend(e.disableAppend),ge.setEnableEmbedded(e.enableEmbedded),ge.setSIWX(e.siwx),!e.projectId){ga.open(pa.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((c=e.adapters)==null?void 0:c.find(u=>u.namespace===we.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");ge.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,t,r,s;return ke.isClient()?{name:((t=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:t.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(e){const t=this.getActiveChainNamespace();if(t){const r=od.getUnsupportedNetwork(`${t}:${e}`);j.setActiveCaipNetwork(r)}}getDefaultNetwork(){return od.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,t){return od.extendCaipNetwork(e,{customNetworkImageUrls:t.chainImages,projectId:t.projectId})}extendCaipNetworks(e){return od.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const t=e.networks.find(s=>{var a;return s.id===((a=e.defaultNetwork)==null?void 0:a.id)});return t?od.extendCaipNetwork(t,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e){try{const t=this.getAdapter(e),r=Et.getProvider(e),s=Et.getProviderId(e),{caipAddress:a}=j.getAccountData(e)||{};this.setLoading(!0,e),a&&(t!=null&&t.disconnect)&&await t.disconnect({provider:r,providerType:s}),Se.removeConnectedNamespace(e),Et.resetChain(e),this.setUser(void 0,e),this.setStatus("disconnected",e),this.setConnectedWalletInfo(void 0,e),Ne.removeConnectorId(e),j.resetAccount(e),j.resetNetwork(e),this.setLoading(!1,e)}catch(t){throw this.setLoading(!1,e),new Error(`Failed to disconnect chain ${e}: ${t.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var a;const e=j.state.activeChain,t=this.getAdapter(e),r=(a=this.getCaipNetwork(e))==null?void 0:a.id;if(!t)throw new Error("Adapter not found");const s=await t.connectWalletConnect(r);this.close(),this.setClientId((s==null?void 0:s.clientId)||null),Se.setConnectedNamespaces([...j.state.chains.keys()]),this.chainNamespaces.forEach(c=>{Ne.setConnectorId(Xt.CONNECTOR_TYPE_WALLET_CONNECT,c)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:t,type:r,provider:s,chain:a,caipNetwork:c,socialUri:u})=>{var v,A,N,I,P,k;const h=j.state.activeChain,d=a||h,p=this.getAdapter(d);if(a&&a!==h&&!c){const U=this.getCaipNetworks().find(O=>O.chainNamespace===a);U&&this.setCaipNetwork(U)}if(!p)throw new Error("Adapter not found");const m=this.getCaipNetwork(d),y=await p.connect({id:e,info:t,type:r,provider:s,socialUri:u,chainId:(c==null?void 0:c.id)||(m==null?void 0:m.id),rpcUrl:((N=(A=(v=c==null?void 0:c.rpcUrls)==null?void 0:v.default)==null?void 0:A.http)==null?void 0:N[0])||((k=(P=(I=m==null?void 0:m.rpcUrls)==null?void 0:I.default)==null?void 0:P.http)==null?void 0:k[0])});if(!y)return;Se.addConnectedNamespace(d),this.syncProvider({...y,chainNamespace:d});const b=Ce.state.allAccounts,{accounts:E}=(b==null?void 0:b.length)>0?{accounts:[...b]}:await p.getAccounts({namespace:d,id:e});this.setAllAccounts(E,d),this.setStatus("connected",d),this.syncConnectedWalletInfo(d)},reconnectExternal:async({id:e,info:t,type:r,provider:s})=>{var u;const a=j.state.activeChain,c=this.getAdapter(a);c!=null&&c.reconnect&&(await(c==null?void 0:c.reconnect({id:e,info:t,type:r,provider:s,chainId:(u=this.getCaipNetwork())==null?void 0:u.id})),Se.addConnectedNamespace(a),this.syncConnectedWalletInfo(a))},disconnect:async e=>{const t=_X(e);try{const r=await Promise.allSettled(t.map(async([a])=>this.disconnectNamespace(a)));It.resetSend(),ze.resetWcConnection(),await Hg.clearSessions(),Ne.setFilterByNamespace(void 0);const s=r.filter(a=>a.status==="rejected");if(s.length>0)throw new Error(s.map(a=>a.reason.message).join(", "));Se.deleteConnectedSocialProvider(),hn.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:e||"all"}})}catch(r){throw new Error(`Failed to disconnect chains: ${r.message}`)}},checkInstalled:e=>e?e.some(t=>{var r;return!!((r=window.ethereum)!=null&&r[String(t)])}):!!window.ethereum,signMessage:async e=>{const t=this.getAdapter(j.state.activeChain),r=await(t==null?void 0:t.signMessage({message:e,address:Ce.state.address,provider:Et.getProvider(j.state.activeChain)}));return(r==null?void 0:r.signature)||""},sendTransaction:async e=>{const t=e.chainNamespace;if(Gt.SEND_SUPPORTED_NAMESPACES.includes(t)){const r=this.getAdapter(j.state.activeChain),s=Et.getProvider(t),a=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:s}));return(a==null?void 0:a.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===we.CHAIN.EVM){const t=this.getAdapter(j.state.activeChain),r=Et.getProvider(j.state.activeChain),s=this.getCaipNetwork();if(!s)throw new Error("CaipNetwork is undefined");const a=await(t==null?void 0:t.estimateGas({...e,provider:r,caipNetwork:s}));return(a==null?void 0:a.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;return await this.syncIdentity({address:Ce.state.address,chainId:Number((e=this.getCaipNetwork())==null?void 0:e.id),chainNamespace:j.state.activeChain}),Ce.state.profileImage||!1},getEnsAddress:async e=>await L0.resolveReownName(e),writeContract:async e=>{const t=this.getAdapter(j.state.activeChain),r=this.getCaipNetwork(),s=this.getCaipAddress(),a=Et.getProvider(j.state.activeChain);if(!r||!s)throw new Error("CaipNetwork or CaipAddress is undefined");const c=await(t==null?void 0:t.writeContract({...e,caipNetwork:r,provider:a,caipAddress:s}));return c==null?void 0:c.hash},parseUnits:(e,t)=>{const r=this.getAdapter(j.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:t}))??0n},formatUnits:(e,t)=>{const r=this.getAdapter(j.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:t}))??"0"},getCapabilities:async e=>{const t=this.getAdapter(j.state.activeChain);return await(t==null?void 0:t.getCapabilities(e))},grantPermissions:async e=>{const t=this.getAdapter(j.state.activeChain);return await(t==null?void 0:t.grantPermissions(e))},revokePermissions:async e=>{const t=this.getAdapter(j.state.activeChain);return t!=null&&t.revokePermissions?await t.revokePermissions(e):"0x"},walletGetAssets:async e=>{const t=this.getAdapter(j.state.activeChain);return await(t==null?void 0:t.walletGetAssets(e))??{}},updateBalance:e=>{const t=this.getCaipNetwork(e);!t||!Ce.state.address||this.updateNativeBalance(Ce.state.address,t==null?void 0:t.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},ze.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var t,r,s,a,c;if(Et.getProviderId(j.state.activeChain)===Xt.CONNECTOR_TYPE_WALLET_CONNECT){const u=(r=(t=this.universalProvider)==null?void 0:t.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((c=(a=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:a.peer)==null?void 0:c.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(u)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const t=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=Et.getProvider(t),a=Et.getProviderId(t);if(e.chainNamespace===j.state.activeChain){const c=this.getAdapter(t);await(c==null?void 0:c.switchNetwork({caipNetwork:e,provider:s,providerType:a}))}else if(this.setCaipNetwork(e),a===Xt.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const c=this.getAddressByChainNamespace(t);c&&this.syncAccount({address:c,chainId:e.id,chainNamespace:t})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(t=>{const r=t.chains||[],s=t.accounts.map(a=>{const{chainId:c,chainNamespace:u}=Ja.parseCaipAddress(a);return`${u}:${c}`});return Array.from(new Set([...r,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((t,r)=>{var a;const s=e==null?void 0:e.find(c=>c.namespace===r);return s?(s.construct({namespace:r,projectId:(a=this.options)==null?void 0:a.projectId,networks:this.getCaipNetworks()}),t[r]=s):t[r]=new yne({namespace:r,networks:this.getCaipNetworks()}),t},{})}async initChainAdapter(e){var t;this.onConnectors(e),this.listenAdapter(e),await((t=this.chainAdapters)==null?void 0:t[e].syncConnectors(this.options,this)),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const t=this.getAdapter(e);t==null||t.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const t=this.getAdapter(e);if(!t)return;const r=Se.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(Se.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),t.on("switchNetwork",({address:s,chainId:a})=>{const c=this.getCaipNetworks().find(d=>d.id===a||d.caipNetworkId===a),u=j.state.activeChain===e,h=j.getAccountProp("address",e);if(c){const d=u&&s?s:h;d&&this.syncAccount({address:d,chainId:c.id,chainNamespace:e})}else this.setUnsupportedNetwork(a)}),t.on("disconnect",this.disconnect.bind(this,e)),t.on("connections",s=>{this.setConnections(s,e)}),t.on("pendingTransactions",()=>{const s=Ce.state.address,a=j.state.activeCaipNetwork;!s||!(a!=null&&a.id)||this.updateNativeBalance(s,a.id,a.chainNamespace)}),t.on("accountChanged",({address:s,chainId:a})=>{var u,h;const c=j.state.activeChain===e;c&&a?this.syncAccount({address:s,chainId:a,chainNamespace:e}):c&&((u=j.state.activeCaipNetwork)!=null&&u.id)?this.syncAccount({address:s,chainId:(h=j.state.activeCaipNetwork)==null?void 0:h.id,chainNamespace:e}):this.syncAccountInfo(s,a,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){var t,r,s;await this.getUniversalProvider(),this.universalProvider&&((s=(r=(t=this.chainAdapters)==null?void 0:t[e])==null?void 0:r.setUniversalProvider)==null||s.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{e===we.CHAIN.EVM&&ke.isSafeApp()&&Ne.setConnectorId(we.CONNECTOR_ID.SAFE,e);const t=Ne.getConnectorId(e);switch(this.setStatus("connecting",e),t){case we.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case we.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(t){console.warn("AppKit couldn't sync existing connection",t),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var u,h,d;const t=this.getAdapter(e),r=Ne.getConnectorId(e),s=this.getCaipNetwork(e),c=Ne.getConnectors(e).find(p=>p.id===r);try{if(!t||!c)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(s!=null&&s.id))throw new Error("CaipNetwork not found");const p=await(t==null?void 0:t.syncConnection({namespace:e,id:c.id,chainId:s.id,rpcUrl:(d=(h=(u=s==null?void 0:s.rpcUrls)==null?void 0:u.default)==null?void 0:h.http)==null?void 0:d[0]}));if(p){const m=await(t==null?void 0:t.getAccounts({namespace:e,id:c.id}));m&&m.accounts.length>0?this.setAllAccounts(m.accounts,e):this.setAllAccounts([ke.createAccount(e,p.address,"eoa")],e),this.syncProvider({...p,chainNamespace:e}),await this.syncAccount({...p,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async t=>{var u,h,d,p,m;const r=this.getAdapter(t),s=((p=(d=(h=(u=this.universalProvider)==null?void 0:u.session)==null?void 0:h.namespaces)==null?void 0:d[t])==null?void 0:p.accounts)||[],a=(m=j.state.activeCaipNetwork)==null?void 0:m.id,c=s.find(y=>{const{chainId:b}=Ja.parseCaipAddress(y);return b===(a==null?void 0:a.toString())})||s[0];if(c){const y=Ja.validateCaipAddress(c),{chainId:b,address:E}=Ja.parseCaipAddress(y);if(Et.setProviderId(t,Xt.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&j.state.activeCaipNetwork&&(r==null?void 0:r.namespace)!==we.CHAIN.EVM){const v=r==null?void 0:r.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:j.state.activeCaipNetwork});Et.setProvider(t,v)}else Et.setProvider(t,this.universalProvider);Ne.setConnectorId(we.CONNECTOR_ID.WALLET_CONNECT,t),Se.addConnectedNamespace(t),this.syncWalletConnectAccounts(t),await this.syncAccount({address:E,chainId:b,chainNamespace:t})}else this.setStatus("disconnected",t);this.syncConnectedWalletInfo(t),await j.setApprovedCaipNetworksData(t)});await Promise.all(e)}syncWalletConnectAccounts(e){var r,s,a,c,u;const t=(u=(c=(a=(s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)==null?void 0:a[e])==null?void 0:c.accounts)==null?void 0:u.map(h=>{const{address:d}=Ja.parseCaipAddress(h);return d}).filter((h,d,p)=>p.indexOf(h)===d);t&&this.setAllAccounts(t.map(h=>ke.createAccount(e,h,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:t,id:r,chainNamespace:s}){Et.setProviderId(s,e),Et.setProvider(s,t),Ne.setConnectorId(r,s)}async syncAllAccounts(e){const t=Ne.getConnectorId(e);if(!t)return;const r=this.getAdapter(e),s=await(r==null?void 0:r.getAccounts({namespace:e,id:t}));s&&s.accounts.length>0&&this.setAllAccounts(s.accounts,e)}async syncAccount(e){var m,y;const t=e.chainNamespace===j.state.activeChain,r=j.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:a,chainNamespace:c}=e,{chainId:u}=Se.getActiveNetworkProps(),h=a||u,d=((m=j.state.activeCaipNetwork)==null?void 0:m.name)===we.UNSUPPORTED_NETWORK_NAME,p=j.getNetworkProp("supportsAllNetworks",c);if(this.setStatus("connected",c),!(d&&!p)&&h){let b=this.getCaipNetworks().find(A=>A.id.toString()===h.toString()),E=this.getCaipNetworks().find(A=>A.chainNamespace===c);if(!p&&!b&&!E){const A=this.getApprovedCaipNetworkIds()||[],N=A.find(P=>{var k;return((k=Ja.parseCaipNetworkId(P))==null?void 0:k.chainId)===h.toString()}),I=A.find(P=>{var k;return((k=Ja.parseCaipNetworkId(P))==null?void 0:k.chainNamespace)===c});b=this.getCaipNetworks().find(P=>P.caipNetworkId===N),E=this.getCaipNetworks().find(P=>P.caipNetworkId===I||"deprecatedCaipNetworkId"in P&&P.deprecatedCaipNetworkId===I)}const v=b||E;(v==null?void 0:v.chainNamespace)===j.state.activeChain?ge.state.enableNetworkSwitch&&!ge.state.allowUnsupportedChain&&((y=j.state.activeCaipNetwork)==null?void 0:y.name)===we.UNSUPPORTED_NETWORK_NAME?j.showUnsupportedChainUI():this.setCaipNetwork(v):t||r&&this.setCaipNetworkOfNamespace(r,c),this.syncConnectedWalletInfo(c),rv.isLowerCaseMatch(s,Ce.state.address)||this.syncAccountInfo(s,v==null?void 0:v.id,c),t?await this.syncBalance({address:s,chainId:v==null?void 0:v.id,chainNamespace:c}):await this.syncBalance({address:s,chainId:r==null?void 0:r.id,chainNamespace:c})}}async syncAccountInfo(e,t,r){const s=this.getCaipAddress(r),a=t||(s==null?void 0:s.split(":")[1]);if(!a)return;const c=`${r}:${a}:${e}`;this.setCaipAddress(c,r),await this.syncIdentity({address:e,chainId:a,chainNamespace:r})}async syncReownName(e,t){try{const r=await this.getReownName(e);if(r[0]){const s=r[0];this.setProfileName(s.name,t)}else this.setProfileName(null,t)}catch{this.setProfileName(null,t)}}syncConnectedWalletInfo(e){var s;const t=Ne.getConnectorId(e),r=Et.getProviderId(e);if(r===Xt.CONNECTOR_TYPE_ANNOUNCED||r===Xt.CONNECTOR_TYPE_INJECTED){if(t){const a=this.getConnectors().find(c=>c.id===t);if(a){const{info:c,name:u,imageUrl:h}=a,d=h||this.getConnectorImage(a);this.setConnectedWalletInfo({name:u,icon:d,...c},e)}}}else if(r===Xt.CONNECTOR_TYPE_WALLET_CONNECT){const a=Et.getProvider(e);a!=null&&a.session&&this.setConnectedWalletInfo({...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:(s=a.session.peer.metadata.icons)==null?void 0:s[0]},e)}else if(t&&t===we.CONNECTOR_ID.COINBASE){const a=this.getConnectors().find(c=>c.id===we.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(a)},e)}}async syncBalance(e){!YP.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var s;return r.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,t,r){const s=this.getAdapter(r),a=j.getCaipNetworkByNamespace(r,t);if(s){const c=await s.getBalance({address:e,chainId:t,caipNetwork:a,tokens:this.options.tokens});return this.setBalance(c.balance,c.symbol,r),c}}async initializeUniversalAdapter(){var r,s,a,c,u,h,d,p,m,y;const e=TX.createLogger((b,...E)=>{b&&this.handleAlertError(b),console.error(...E)}),t={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(s=this.options)!=null&&s.metadata?(a=this.options)==null?void 0:a.metadata.name:"",description:(c=this.options)!=null&&c.metadata?(u=this.options)==null?void 0:u.metadata.description:"",url:(h=this.options)!=null&&h.metadata?(d=this.options)==null?void 0:d.metadata.url:"",icons:(p=this.options)!=null&&p.metadata?(m=this.options)==null?void 0:m.metadata.icons:[""]},logger:e};ge.setManualWCControl(!!((y=this.options)!=null&&y.manualWCControl)),this.universalProvider=this.options.universalProvider??await pX.init(t),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{ze.setUri(e)}),this.universalProvider.on("connect",ze.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),ze.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const t=this.getCaipNetworks().find(s=>s.id==e),r=this.getCaipNetwork();if(!t){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(t==null?void 0:t.id)&&this.setCaipNetwork(t)}),this.universalProvider.on("session_event",e=>{if(L0.isSessionEventData(e)){const{name:t,data:r}=e.params.event;t==="accountsChanged"&&Array.isArray(r)&&ke.isCaipAddress(r[0])&&this.syncAccount(Ja.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&ke.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){hn.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const t=Object.entries(pa.UniversalProviderErrors).find(([,{message:u}])=>e.message.includes(u)),[r,s]=t??[],{message:a,alertErrorKey:c}=s??{};if(r&&a&&!this.reportedAlertErrors[r]){const u=pa.ALERT_ERRORS[c];u&&(ga.open(u,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var t;if(e)return(t=this.chainAdapters)==null?void 0:t[e]}createAdapter(e){var s;if(!e)return;const t=e.namespace;if(!t)return;this.createClients();const r=e;r.namespace=t,r.construct({namespace:t,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(t)||this.chainNamespaces.push(t),this.chainAdapters&&(this.chainAdapters[t]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&ze.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return Qn.open({...e,data:{swap:e.arguments}})}return Qn.open(e)}async close(){await this.injectModalUi(),Qn.close()}setLoading(e,t){Qn.setLoading(e,t)}async disconnect(e){await ze.disconnect(e)}getSIWX(){return ge.state.siwx}getError(){return""}getChainId(){var e;return(e=j.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const t=this.getCaipNetworks().find(r=>r.id===e.id);if(!t){ga.open(pa.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await j.switchActiveNetwork(t)}getWalletProvider(){return j.state.activeChain?Et.state.providers[j.state.activeChain]:null}getWalletProviderType(){return Et.getProviderId(j.state.activeChain)}subscribeProviders(e){return Et.subscribeProviders(e)}getThemeMode(){return ss.state.themeMode}getThemeVariables(){return ss.state.themeVariables}setThemeMode(e){ss.setThemeMode(e),Wk(ss.state.themeMode)}setTermsConditionsUrl(e){ge.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){ge.setPrivacyPolicyUrl(e)}setThemeVariables(e){ss.setThemeVariables(e),fne(ss.state.themeVariables)}subscribeTheme(e){return ss.subscribe(e)}getWalletInfo(){return Ce.state.connectedWalletInfo}getAccount(e){var c;const t=Ne.getAuthConnector(e),r=j.getAccountData(e),s=j.state.activeChain,a=Se.getConnectedConnectorId(e||s);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:ke.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:t&&a===we.CONNECTOR_ID.AUTH?{user:r.user?{...r.user,username:Se.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:(c=r.preferredAccountTypes)==null?void 0:c[e||s],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,t){const r=()=>{const s=this.getAccount(t);s&&e(s)};t?j.subscribeChainProp("accountState",r,t):j.subscribe(r),Ne.subscribe(r)}subscribeNetwork(e){return j.subscribe(({activeCaipNetwork:t})=>{e({caipNetwork:t,chainId:t==null?void 0:t.id,caipNetworkId:t==null?void 0:t.caipNetworkId})})}subscribeWalletInfo(e){return Ce.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){Ce.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){j.subscribeKey("activeCaipNetwork",e)}getState(){return Ea.state}subscribeState(e){return Ea.subscribe(e)}showErrorMessage(e){xi.showError(e)}showSuccessMessage(e){xi.showSuccess(e)}getEvent(){return{...hn.state}}subscribeEvents(e){return hn.subscribe(e)}replace(e){at.replace(e)}redirect(e){at.push(e)}popTransactionStack(e){at.popTransactionStack(e)}isOpen(){return Qn.state.open}isTransactionStackEmpty(){return at.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){ge.setFeatures(e)}updateRemoteFeatures(e){ge.setRemoteFeatures(e)}updateOptions(e){const r={...ge.state||{},...e};ge.setOptions(r)}setConnectMethodsOrder(e){ge.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){ge.setWalletFeaturesOrder(e)}setCollapseWallets(e){ge.setCollapseWallets(e)}setSocialsOrder(e){ge.setSocialsOrder(e)}getConnectMethodsOrder(){return oC.getConnectOrderMethod(ge.state.features,Ne.getConnectors())}addNetwork(e,t){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(t,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||j.addNetwork(r)}removeNetwork(e,t){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===t)&&j.removeNetwork(e,t)}}let I3=!1;class Ene extends vne{setupAuthConnectorListeners(e){e.onRpcRequest(t=>{xs.checkIfRequestExists(t)?xs.checkIfRequestIsSafe(t)||this.handleUnsafeRPCRequest():(this.open(),console.error(dr.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:t.method}),setTimeout(()=>{this.showErrorMessage(dr.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((t,r)=>{const s=xs.checkIfRequestIsSafe(r),a=Ce.state.address,c=j.state.activeCaipNetwork;s||(a&&(c!=null&&c.id)&&this.updateNativeBalance(a,c.id,c.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const t=j.state.activeChain;Ne.getConnectorId(t)===we.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,t),this.setLoading(!1,t))}),e.onConnect(t=>{var d,p;const r=j.state.activeChain,s=r===we.CHAIN.EVM?`eip155:${t.chainId}:${t.address}`:`${t.chainId}:${t.address}`,a=ge.state.defaultAccountTypes[r],c=(d=Ce.state.preferredAccountTypes)==null?void 0:d[r],u=t.preferredAccountType||c||a;rv.isLowerCaseMatch(t.address,Ce.state.address)||this.syncIdentity({address:t.address,chainId:t.chainId,chainNamespace:r}),this.setCaipAddress(s,r),this.setUser({...Ce.state.user||{},...t},r),this.setSmartAccountDeployed(!!t.smartAccountDeployed,r),this.setPreferredAccountType(u,r);const h=(p=t.accounts)==null?void 0:p.map(m=>ke.createAccount(r,m.address,m.type||c||a));this.setAllAccounts(h||[ke.createAccount(r,t.address,t.preferredAccountType||u)],r),this.setLoading(!1,r)}),e.onSocialConnected(({userName:t})=>{this.setUser({...Ce.state.user||{},username:t},j.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(t=>{this.setSmartAccountEnabledNetworks(t,j.state.activeChain)}),e.onSetPreferredAccount(({address:t,type:r})=>{t&&this.setPreferredAccountType(r,j.state.activeChain)})}async syncAuthConnector(e,t){var p,m,y,b;const r=we.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(t);if(!r)return;this.setLoading(!0,t);const s=e.getLoginEmailUsed();this.setLoading(s,t),s&&this.setStatus("connecting",t);const a=e.getEmail(),c=e.getUsername();this.setUser({...((p=Ce.state)==null?void 0:p.user)||{},username:c,email:a},t),this.setupAuthConnectorListeners(e);const{isConnected:u}=await e.isConnected(),h=ss.getSnapshot(),d=ge.getSnapshot();await Promise.all([e.syncDappData({metadata:d.metadata,sdkVersion:d.sdkVersion,projectId:d.projectId,sdkType:d.sdkType}),e.syncTheme({themeMode:h.themeMode,themeVariables:h.themeVariables,w3mThemeVariables:bo(h.themeVariables,h.themeMode)})]),await e.getSmartAccountEnabledNetworks(),t&&r&&(u&&((m=this.connectionControllerClient)!=null&&m.connectExternal)?(await((b=this.connectionControllerClient)==null?void 0:b.connectExternal({id:we.CONNECTOR_ID.AUTH,info:{name:we.CONNECTOR_ID.AUTH},type:Xt.CONNECTOR_TYPE_AUTH,provider:e,chainId:(y=j.state.activeCaipNetwork)==null?void 0:y.id,chain:t})),this.setStatus("connected",t)):Ne.getConnectorId(t)===we.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",t),Se.removeConnectedNamespace(t))),this.setLoading(!1,t)}async checkExistingTelegramSocialConnection(e){var t;try{if(!ke.isTelegram())return;const r=Se.getTelegramSocialProvider();if(!r||!ke.isClient())return;const a=new URL(window.location.href).searchParams.get("result_uri");if(!a)return;Ce.setSocialProvider(r,e),await((t=this.authProvider)==null?void 0:t.init());const c=Ne.getAuthConnector();r&&c&&(this.setLoading(!0,e),await ze.connectExternal({id:c.id,type:c.type,socialUri:a},c.chain),Se.setConnectedSocialProvider(r),Se.removeTelegramSocialProvider(),hn.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){var c,u,h,d;if(!we.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=(c=this.remoteFeatures)==null?void 0:c.email,s=Array.isArray((u=this.remoteFeatures)==null?void 0:u.socials)&&this.remoteFeatures.socials.length>0,a=r||s;!this.authProvider&&((h=this.options)!=null&&h.projectId)&&a&&(this.authProvider=zg.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(d=this.getCaipNetwork(e))==null?void 0:d.caipNetworkId,abortController:pa.EmbeddedWalletAbortController,onTimeout:p=>{p==="iframe_load_failed"?ga.open(pa.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):p==="iframe_request_timeout"?ga.open(pa.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):p==="unverified_domain"&&ga.open(pa.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}}),Ea.subscribeOpen(p=>{var m;!p&&this.isTransactionStackEmpty()&&((m=this.authProvider)==null||m.rejectRpcRequests())}),this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var t,r,s;this.createAuthProvider(e),this.authProvider&&((s=(r=(t=this.chainAdapters)==null?void 0:t[e])==null?void 0:r.setAuthProvider)==null||s.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&$e.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var c,u;if(!e)return;const t=j.state.activeChain,r=e.chainNamespace,s=this.getAddressByChainNamespace(r);if(r===t&&s){const h=this.getAdapter(r),d=Et.getProvider(r),p=Et.getProviderId(r);await(h==null?void 0:h.switchNetwork({caipNetwork:e,provider:d,providerType:p})),this.setCaipNetwork(e)}else{const d=Et.getProviderId(t)===Xt.CONNECTOR_TYPE_AUTH,p=Et.getProviderId(r),m=p===Xt.CONNECTOR_TYPE_AUTH,y=we.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((d&&p===void 0||m)&&y)try{if(j.state.activeChain=e.chainNamespace,s){const b=this.getAdapter(r);await(b==null?void 0:b.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:p}))}else await((u=(c=this.connectionControllerClient)==null?void 0:c.connectExternal)==null?void 0:u.call(c,{id:we.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:Xt.CONNECTOR_TYPE_AUTH,caipNetwork:e}));this.setCaipNetwork(e)}catch{const E=this.getAdapter(r);await(E==null?void 0:E.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:p}))}else p===Xt.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:r}))}}async initialize(e){var t;await super.initialize(e),(t=this.chainNamespaces)==null||t.forEach(r=>{this.createAuthProviderForAdapter(r)}),await this.injectModalUi(),Ea.set({initialized:!0})}async syncIdentity({address:e,chainId:t,chainNamespace:r}){var c;const s=`${r}:${t}`,a=(c=this.caipNetworks)==null?void 0:c.find(u=>u.caipNetworkId===s);if(r!==we.CHAIN.EVM||a!=null&&a.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:u,avatar:h}=await this.fetchIdentity({address:e,caipNetworkId:s});this.setProfileName(u,r),this.setProfileImage(h,r)}catch{await this.syncReownName(e,r),t!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const t=Et.getProviderId(e);if(t===Xt.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const s=Se.getConnectedSocialProvider()??"email",a=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:t,identifier:a,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(ke.isClient()&&!I3)try{const e={...Gt.DEFAULT_FEATURES,...this.options.features},t=this.remoteFeatures;if(await this.loadModalComponents(e,t),ke.isClient()&&!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!ge.state.disableAppend&&!ge.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}I3=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,t){if(!ke.isClient())return;const r=[];(t.email||t.socials&&t.socials.length>0)&&r.push(kr(()=>import("./embedded-wallet-D4LHp1QA.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),t.email&&r.push(kr(()=>import("./email-DpMeHQS_.js"),__vite__mapDeps([12,1,11,5,10,4,9,13,6]))),t.socials&&r.push(kr(()=>import("./socials-_JcZpi0X.js"),__vite__mapDeps([14,1,15,4,16,17,10,18,9,5,11,19,3,20]))),t.swaps&&t.swaps.length>0&&r.push(kr(()=>import("./swaps-aZJxLylK.js"),__vite__mapDeps([21,1,9,5,22,23,24,3,10,20,6,4]))),e.send&&r.push(kr(()=>import("./send-DiEDr5ho.js"),__vite__mapDeps([25,1,9,5,10,4,16,11,24,3,6,26,27]))),e.receive&&r.push(kr(()=>import("./receive-6CAHuIlx.js"),__vite__mapDeps([28,1,29,3,19]))),t.onramp&&t.onramp.length>0&&r.push(kr(()=>import("./onramp-D9zndQQL.js"),__vite__mapDeps([30,1,31,20,10,3,5,32,15,4,16,33,11,9,18,6]))),t.activity&&r.push(kr(()=>import("./transactions-lB1ijCjS.js"),__vite__mapDeps([34,1,35,31,20,10,11,3]))),e.pay&&r.push(kr(()=>import("./index-qTGI9xdS.js"),__vite__mapDeps([36,1,9,5,37,3,10,7,32,27,18]))),await Promise.all([...r,kr(()=>import("./index-Ccfc3mMB.js"),__vite__mapDeps([38,1,3,5,26,10,39,23,7,32,9,8,37,35,31,20,11,22,4,6,27,13,15,16,17,2,18,29,19,33])),kr(()=>import("./w3m-modal-BOBcdtOR.js"),__vite__mapDeps([40,1,7,3,10,8,5,23,39]))])}}let pt;function Ane(n){n&&(pt=n)}function TS(n){const{providers:e,providerIds:t}=vS(Et.state),r=e[n],s=t[n];return{walletProvider:r,walletProviderType:s}}function _ne(){if(!pt)throw new Error('Please call "createAppKit" before using "useAppKitTheme" hook');function n(c){c&&(pt==null||pt.setThemeMode(c))}function e(c){c&&(pt==null||pt.setThemeVariables(c))}const[t,r]=dn.useState(pt.getThemeMode()),[s,a]=dn.useState(pt.getThemeVariables());return dn.useEffect(()=>{const c=pt==null?void 0:pt.subscribeTheme(u=>{r(u.themeMode),a(u.themeVariables)});return()=>{c==null||c()}},[]),{themeMode:t,themeVariables:s,setThemeMode:n,setThemeVariables:e}}function Cne(){if(!pt)throw new Error('Please call "createAppKit" before using "useAppKit" hook');async function n(t){await(pt==null?void 0:pt.open(t))}async function e(){await(pt==null?void 0:pt.close())}return{open:n,close:e}}function Sne(){if(!pt)throw new Error('Please call "createAppKit" before using "useWalletInfo" hook');return{walletInfo:dn.useSyncExternalStore(pt.subscribeWalletInfo,pt.getWalletInfo,pt.getWalletInfo)}}function Nne(){if(!pt)throw new Error('Please call "createAppKit" before using "useAppKitState" hook');const[n,e]=dn.useState({...pt.getState(),initialized:!1});return dn.useEffect(()=>{if(pt){e({...pt.getState()});const t=pt==null?void 0:pt.subscribeState(r=>{e({...r})});return()=>{t==null||t()}}return()=>null},[]),n}function Tne(){if(!pt)throw new Error('Please call "createAppKit" before using "useAppKitEvents" hook');const[n,e]=dn.useState(pt.getEvent());return dn.useEffect(()=>{const t=pt==null?void 0:pt.subscribeEvents(r=>{e({...r})});return()=>{t==null||t()}},[]),n}const One="1.7.8";let Vl;function Rne(n){return Vl||(Vl=new Ene({...n,sdkVersion:ke.generateSdkVersion(n.adapters??[],"react",One)}),Ane(Vl)),Vl}function Qk(){const{caipNetwork:n,caipNetworkId:e,chainId:t}=ES();function r(s){Vl==null||Vl.switchNetwork(s)}return{caipNetwork:n,caipNetworkId:e,chainId:t,switchNetwork:r}}const Ine="6.14.3";function xne(n,e,t){const r=e.split("|").map(a=>a.trim());for(let a=0;a<r.length;a++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof n===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${t}`,s.value=n,s}async function Br(n){const e=Object.keys(n);return(await Promise.all(e.map(r=>Promise.resolve(n[r])))).reduce((r,s,a)=>(r[e[a]]=s,r),{})}function qe(n,e,t){for(let r in e){let s=e[r];const a=t?t[r]:null;a&&xne(s,a,r),Object.defineProperty(n,r,{enumerable:!0,value:s,writable:!1})}}function md(n,e){if(n==null)return"null";if(e==null&&(e=new Set),typeof n=="object"){if(e.has(n))return"[Circular]";e.add(n)}if(Array.isArray(n))return"[ "+n.map(t=>md(t,e)).join(", ")+" ]";if(n instanceof Uint8Array){const t="0123456789abcdef";let r="0x";for(let s=0;s<n.length;s++)r+=t[n[s]>>4],r+=t[n[s]&15];return r}if(typeof n=="object"&&typeof n.toJSON=="function")return md(n.toJSON(),e);switch(typeof n){case"boolean":case"number":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"string":return JSON.stringify(n);case"object":{const t=Object.keys(n);return t.sort(),"{ "+t.map(r=>`${md(r,e)}: ${md(n[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ur(n,e){return n&&n.code===e}function OS(n){return ur(n,"CALL_EXCEPTION")}function un(n,e,t){let r=n;{const a=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${md(t)}`);for(const c in t){if(c==="shortMessage")continue;const u=t[c];a.push(c+"="+md(u))}}a.push(`code=${e}`),a.push(`version=${Ine}`),a.length&&(n+=" ("+a.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(n);break;default:s=new Error(n)}return qe(s,{code:e}),t&&Object.assign(s,t),s.shortMessage==null&&qe(s,{shortMessage:r}),s}function he(n,e,t,r){if(!n)throw un(e,t,r)}function Y(n,e,t,r){he(n,e,"INVALID_ARGUMENT",{argument:t,value:r})}function Zk(n,e,t){t==null&&(t=""),t&&(t=": "+t),he(n>=e,"missing argument"+t,"MISSING_ARGUMENT",{count:n,expectedCount:e}),he(n<=e,"too many arguments"+t,"UNEXPECTED_ARGUMENT",{count:n,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((n,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");n.push(e)}catch{}return n},[]);function Sy(n,e,t){if(t==null&&(t=""),n!==e){let r=t,s="new";t&&(r+=".",s+=" "+t),he(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function Jk(n,e,t){if(n instanceof Uint8Array)return t?new Uint8Array(n):n;if(typeof n=="string"&&n.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((n.length-2)/2);let s=2;for(let a=0;a<r.length;a++)r[a]=parseInt(n.substring(s,s+2),16),s+=2;return r}Y(!1,"invalid BytesLike value",e||"value",n)}function ot(n,e){return Jk(n,e,!1)}function Mr(n,e){return Jk(n,e,!0)}function en(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&n.length!==2+2*e||e===!0&&n.length%2!==0)}function RS(n){return en(n,!0)||n instanceof Uint8Array}const x3="0123456789abcdef";function Ae(n){const e=ot(n);let t="0x";for(let r=0;r<e.length;r++){const s=e[r];t+=x3[(s&240)>>4]+x3[s&15]}return t}function En(n){return"0x"+n.map(e=>Ae(e).substring(2)).join("")}function Sd(n){return en(n,!0)?(n.length-2)/2:ot(n).length}function vn(n,e,t){const r=ot(n);return t!=null&&t>r.length&&he(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:t}),Ae(r.slice(e??0,t??r.length))}function Xk(n,e,t){const r=ot(n);he(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),t?s.set(r,e-r.length):s.set(r,0),Ae(s)}function Ro(n,e){return Xk(n,e,!0)}function Pne(n,e){return Xk(n,e,!1)}const av=BigInt(0),Pi=BigInt(1),lC=9007199254740991;function yb(n,e){const t=ov(n,"value"),r=BigInt(rt(e,"width"));if(he(t>>r===av,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:n}),t>>r-Pi){const s=(Pi<<r)-Pi;return-((~t&s)+Pi)}return t}function e8(n,e){let t=De(n,"value");const r=BigInt(rt(e,"width")),s=Pi<<r-Pi;if(t<av){t=-t,he(t<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const a=(Pi<<r)-Pi;return(~t&a)+Pi}else he(t<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return t}function Kl(n,e){const t=ov(n,"value"),r=BigInt(rt(e,"bits"));return t&(Pi<<r)-Pi}function De(n,e){switch(typeof n){case"bigint":return n;case"number":return Y(Number.isInteger(n),"underflow",e||"value",n),Y(n>=-9007199254740991&&n<=lC,"overflow",e||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(t){Y(!1,`invalid BigNumberish string: ${t.message}`,e||"value",n)}}Y(!1,"invalid BigNumberish value",e||"value",n)}function ov(n,e){const t=De(n,e);return he(t>=av,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),t}const P3="0123456789abcdef";function cv(n){if(n instanceof Uint8Array){let e="0x0";for(const t of n)e+=P3[t>>4],e+=P3[t&15];return BigInt(e)}return De(n)}function rt(n,e){switch(typeof n){case"bigint":return Y(n>=-9007199254740991&&n<=lC,"overflow",e||"value",n),Number(n);case"number":return Y(Number.isInteger(n),"underflow",e||"value",n),Y(n>=-9007199254740991&&n<=lC,"overflow",e||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return rt(BigInt(n),e)}catch(t){Y(!1,`invalid numeric string: ${t.message}`,e||"value",n)}}Y(!1,"invalid numeric value",e||"value",n)}function Dne(n){return rt(cv(n))}function Zc(n,e){let r=ov(n,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const s=rt(e,"width");for(he(s*2>=r.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});r.length<s*2;)r="0"+r}return"0x"+r}function hr(n){const e=ov(n,"value");if(e===av)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);const r=new Uint8Array(t.length/2);for(let s=0;s<r.length;s++){const a=s*2;r[s]=parseInt(t.substring(a,a+2),16)}return r}function Ii(n){let e=Ae(RS(n)?n:hr(n)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const D3="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const U3=BigInt(58);function Une(n){const e=ot(n);let t=cv(e),r="";for(;t;)r=D3[Number(t%U3)]+r,t/=U3;for(let s=0;s<e.length&&!e[s];s++)r=D3[0]+r;return r}function kne(n){n=atob(n);const e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return ot(e)}function Bne(n){const e=ot(n);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}var Id;class t8{constructor(e,t,r){ee(this,"filter");ee(this,"emitter");ie(this,Id);F(this,Id,t),qe(this,{emitter:e,filter:r})}async removeListener(){S(this,Id)!=null&&await this.emitter.off(this.filter,S(this,Id))}}Id=new WeakMap;function Mne(n,e,t,r,s){Y(!1,`invalid codepoint at offset ${e}; ${n}`,"bytes",t)}function n8(n,e,t,r,s){if(n==="BAD_PREFIX"||n==="UNEXPECTED_CONTINUE"){let a=0;for(let c=e+1;c<t.length&&t[c]>>6===2;c++)a++;return a}return n==="OVERRUN"?t.length-e-1:0}function Lne(n,e,t,r,s){return n==="OVERLONG"?(Y(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),n8(n,e,t))}const $ne=Object.freeze({error:Mne,ignore:n8,replace:Lne});function Fne(n,e){e==null&&(e=$ne.error);const t=ot(n,"bytes"),r=[];let s=0;for(;s<t.length;){const a=t[s++];if(a>>7===0){r.push(a);continue}let c=null,u=null;if((a&224)===192)c=1,u=127;else if((a&240)===224)c=2,u=2047;else if((a&248)===240)c=3,u=65535;else{(a&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,t,r):s+=e("BAD_PREFIX",s-1,t,r);continue}if(s-1+c>=t.length){s+=e("OVERRUN",s-1,t,r);continue}let h=a&(1<<8-c-1)-1;for(let d=0;d<c;d++){let p=t[s];if((p&192)!=128){s+=e("MISSING_CONTINUE",s,t,r),h=null;break}h=h<<6|p&63,s++}if(h!==null){if(h>1114111){s+=e("OUT_OF_RANGE",s-1-c,t,r,h);continue}if(h>=55296&&h<=57343){s+=e("UTF16_SURROGATE",s-1-c,t,r,h);continue}if(h<=u){s+=e("OVERLONG",s-1-c,t,r,h);continue}r.push(h)}}return r}function _a(n,e){Y(typeof n=="string","invalid string value","str",n);let t=[];for(let r=0;r<n.length;r++){const s=n.charCodeAt(r);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192),t.push(s&63|128);else if((s&64512)==55296){r++;const a=n.charCodeAt(r);Y(r<n.length&&(a&64512)===56320,"invalid surrogate pair","str",n);const c=65536+((s&1023)<<10)+(a&1023);t.push(c>>18|240),t.push(c>>12&63|128),t.push(c>>6&63|128),t.push(c&63|128)}else t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128)}return new Uint8Array(t)}function jne(n){return n.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function wb(n,e){return jne(Fne(n,e))}function r8(n){async function e(t,r){he(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const s=t.url.split(":")[0].toLowerCase();he(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),he(s==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let a=null;const c=new AbortController,u=setTimeout(()=>{a=un("request timeout","TIMEOUT"),c.abort()},t.timeout);r&&r.addListener(()=>{a=un("request cancelled","CANCELLED"),c.abort()});const h=Object.assign({},n,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:c.signal});let d;try{d=await fetch(t.url,h)}catch(b){throw clearTimeout(u),a||b}clearTimeout(u);const p={};d.headers.forEach((b,E)=>{p[E.toLowerCase()]=b});const m=await d.arrayBuffer(),y=m==null?null:new Uint8Array(m);return{statusCode:d.status,statusMessage:d.statusText,headers:p,body:y}}return e}const Hne=12,zne=250;let k3=r8();const qne=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Gne=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let G1=!1;async function s8(n,e){try{const t=n.match(qne);if(!t)throw new Error("invalid data");return new Vc(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?kne(t[3]):Kne(t[3]))}catch{return new Vc(599,"BAD REQUEST (invalid data: URI)",{},null,new Io(n))}}function i8(n){async function e(t,r){try{const s=t.match(Gne);if(!s)throw new Error("invalid link");return new Io(`${n}${s[2]}`)}catch{return new Vc(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Io(t))}}return e}const w0={data:s8,ipfs:i8("https://gateway.ipfs.io/ipfs/")},a8=new WeakMap;var Zl,Ec;class Vne{constructor(e){ie(this,Zl);ie(this,Ec);F(this,Zl,[]),F(this,Ec,!1),a8.set(e,()=>{if(!S(this,Ec)){F(this,Ec,!0);for(const t of S(this,Zl))setTimeout(()=>{t()},0);F(this,Zl,[])}})}addListener(e){he(!S(this,Ec),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),S(this,Zl).push(e)}get cancelled(){return S(this,Ec)}checkSignal(){he(!this.cancelled,"cancelled","CANCELLED",{})}}Zl=new WeakMap,Ec=new WeakMap;function b0(n){if(n==null)throw new Error("missing signal; should not happen");return n.checkSignal(),n}var xd,Pd,_i,io,Dd,Ud,Gn,Ss,ao,Jl,Xl,eu,ra,Ci,Ac,tu,Og;const xb=class xb{constructor(e){ie(this,tu);ie(this,xd);ie(this,Pd);ie(this,_i);ie(this,io);ie(this,Dd);ie(this,Ud);ie(this,Gn);ie(this,Ss);ie(this,ao);ie(this,Jl);ie(this,Xl);ie(this,eu);ie(this,ra);ie(this,Ci);ie(this,Ac);F(this,Ud,String(e)),F(this,xd,!1),F(this,Pd,!0),F(this,_i,{}),F(this,io,""),F(this,Dd,3e5),F(this,Ci,{slotInterval:zne,maxAttempts:Hne}),F(this,Ac,null)}get url(){return S(this,Ud)}set url(e){F(this,Ud,String(e))}get body(){return S(this,Gn)==null?null:new Uint8Array(S(this,Gn))}set body(e){if(e==null)F(this,Gn,void 0),F(this,Ss,void 0);else if(typeof e=="string")F(this,Gn,_a(e)),F(this,Ss,"text/plain");else if(e instanceof Uint8Array)F(this,Gn,e),F(this,Ss,"application/octet-stream");else if(typeof e=="object")F(this,Gn,_a(JSON.stringify(e))),F(this,Ss,"application/json");else throw new Error("invalid body")}hasBody(){return S(this,Gn)!=null}get method(){return S(this,io)?S(this,io):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),F(this,io,String(e).toUpperCase())}get headers(){const e=Object.assign({},S(this,_i));return S(this,ao)&&(e.authorization=`Basic ${Bne(_a(S(this,ao)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&S(this,Ss)&&(e["content-type"]=S(this,Ss)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){S(this,_i)[String(e).toLowerCase()]=String(t)}clearHeaders(){F(this,_i,{})}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const s=t[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return S(this,ao)||null}setCredentials(e,t){Y(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),F(this,ao,`${e}:${t}`)}get allowGzip(){return S(this,Pd)}set allowGzip(e){F(this,Pd,!!e)}get allowInsecureAuthentication(){return!!S(this,xd)}set allowInsecureAuthentication(e){F(this,xd,!!e)}get timeout(){return S(this,Dd)}set timeout(e){Y(e>=0,"timeout must be non-zero","timeout",e),F(this,Dd,e)}get preflightFunc(){return S(this,Jl)||null}set preflightFunc(e){F(this,Jl,e)}get processFunc(){return S(this,Xl)||null}set processFunc(e){F(this,Xl,e)}get retryFunc(){return S(this,eu)||null}set retryFunc(e){F(this,eu,e)}get getUrlFunc(){return S(this,Ac)||k3}set getUrlFunc(e){F(this,Ac,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${S(this,Gn)?Ae(S(this,Gn)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(S(this,Ci).slotInterval=e.slotInterval),e.maxAttempts!=null&&(S(this,Ci).maxAttempts=e.maxAttempts)}send(){return he(S(this,ra)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),F(this,ra,new Vne(this)),pe(this,tu,Og).call(this,0,B3()+this.timeout,0,this,new Vc(0,"",{},null,this))}cancel(){he(S(this,ra)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=a8.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();he(this.method==="GET"&&(t!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new xb(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,F(s,_i,Object.assign({},S(this,_i))),S(this,Gn)&&F(s,Gn,new Uint8Array(S(this,Gn))),F(s,Ss,S(this,Ss)),s}clone(){const e=new xb(this.url);return F(e,io,S(this,io)),S(this,Gn)&&F(e,Gn,S(this,Gn)),F(e,Ss,S(this,Ss)),F(e,_i,Object.assign({},S(this,_i))),F(e,ao,S(this,ao)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),F(e,Jl,S(this,Jl)),F(e,Xl,S(this,Xl)),F(e,eu,S(this,eu)),F(e,Ci,Object.assign({},S(this,Ci))),F(e,Ac,S(this,Ac)),e}static lockConfig(){G1=!0}static getGateway(e){return w0[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(G1)throw new Error("gateways locked");w0[e]=t}static registerGetUrl(e){if(G1)throw new Error("gateways locked");k3=e}static createGetUrlFunc(e){return r8(e)}static createDataGateway(){return s8}static createIpfsGatewayFunc(e){return i8(e)}};xd=new WeakMap,Pd=new WeakMap,_i=new WeakMap,io=new WeakMap,Dd=new WeakMap,Ud=new WeakMap,Gn=new WeakMap,Ss=new WeakMap,ao=new WeakMap,Jl=new WeakMap,Xl=new WeakMap,eu=new WeakMap,ra=new WeakMap,Ci=new WeakMap,Ac=new WeakMap,tu=new WeakSet,Og=async function(e,t,r,s,a){var p,m,y;if(e>=S(this,Ci).maxAttempts)return a.makeServerError("exceeded maximum retry limit");he(B3()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),r>0&&await Wne(r);let c=this.clone();const u=(c.url.split(":")[0]||"").toLowerCase();if(u in w0){const b=await w0[u](c.url,b0(S(s,ra)));if(b instanceof Vc){let E=b;if(this.processFunc){b0(S(s,ra));try{E=await this.processFunc(c,E)}catch(v){(v.throttle==null||typeof v.stall!="number")&&E.makeServerError("error in post-processing function",v).assertOk()}}return E}c=b}this.preflightFunc&&(c=await this.preflightFunc(c));const h=await this.getUrlFunc(c,b0(S(s,ra)));let d=new Vc(h.statusCode,h.statusMessage,h.headers,h.body,s);if(d.statusCode===301||d.statusCode===302){try{const b=d.headers.location||"";return pe(p=c.redirect(b),tu,Og).call(p,e+1,t,0,s,d)}catch{}return d}else if(d.statusCode===429&&(this.retryFunc==null||await this.retryFunc(c,d,e))){const b=d.headers["retry-after"];let E=S(this,Ci).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof b=="string"&&b.match(/^[1-9][0-9]*$/)&&(E=parseInt(b)),pe(m=c.clone(),tu,Og).call(m,e+1,t,E,s,d)}if(this.processFunc){b0(S(s,ra));try{d=await this.processFunc(c,d)}catch(b){(b.throttle==null||typeof b.stall!="number")&&d.makeServerError("error in post-processing function",b).assertOk();let E=S(this,Ci).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return b.stall>=0&&(E=b.stall),pe(y=c.clone(),tu,Og).call(y,e+1,t,E,s,d)}}return d};let Io=xb;var Ym,Qm,Zm,Ns,kd,nu;const KS=class KS{constructor(e,t,r,s,a){ie(this,Ym);ie(this,Qm);ie(this,Zm);ie(this,Ns);ie(this,kd);ie(this,nu);F(this,Ym,e),F(this,Qm,t),F(this,Zm,Object.keys(r).reduce((c,u)=>(c[u.toLowerCase()]=String(r[u]),c),{})),F(this,Ns,s==null?null:new Uint8Array(s)),F(this,kd,a||null),F(this,nu,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${S(this,Ns)?Ae(S(this,Ns)):"null"}>`}get statusCode(){return S(this,Ym)}get statusMessage(){return S(this,Qm)}get headers(){return Object.assign({},S(this,Zm))}get body(){return S(this,Ns)==null?null:new Uint8Array(S(this,Ns))}get bodyText(){try{return S(this,Ns)==null?"":wb(S(this,Ns))}catch{he(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{he(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const s=t[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,t){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new KS(599,r,this.headers,this.body,S(this,kd)||void 0);return F(s,nu,{message:e,error:t}),s}throwThrottleError(e,t){t==null?t=-1:Y(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const r=new Error(e||"throttling requests");throw qe(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return S(this,Ns)!=null}get request(){return S(this,kd)}ok(){return S(this,nu).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=S(this,nu);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let s=null;try{S(this,Ns)&&(s=wb(S(this,Ns)))}catch{}he(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:r,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Ym=new WeakMap,Qm=new WeakMap,Zm=new WeakMap,Ns=new WeakMap,kd=new WeakMap,nu=new WeakMap;let Vc=KS;function B3(){return new Date().getTime()}function Kne(n){return _a(n.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function Wne(n){return new Promise(e=>setTimeout(e,n))}const Yne=BigInt(-1),vi=BigInt(0),yd=BigInt(1),Qne=BigInt(5),nd={};let Nd="0000";for(;Nd.length<80;)Nd+=Nd;function Nl(n){let e=Nd;for(;e.length<n;)e+=e;return BigInt("1"+e.substring(0,n))}function vg(n,e,t){const r=BigInt(e.width);if(e.signed){const s=yd<<r-yd;he(t==null||n>=-s&&n<s,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:n}),n>vi?n=yb(Kl(n,r),r):n=-yb(Kl(-n,r),r)}else{const s=yd<<r;he(t==null||n>=0&&n<s,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:n}),n=(n%s+s)%s&s-yd}return n}function V1(n){typeof n=="number"&&(n=`fixed128x${n}`);let e=!0,t=128,r=18;if(typeof n=="string"){if(n!=="fixed")if(n==="ufixed")e=!1;else{const a=n.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);Y(a,"invalid fixed format","format",n),e=a[1]!=="u",t=parseInt(a[2]),r=parseInt(a[3])}}else if(n){const a=n,c=(u,h,d)=>a[u]==null?d:(Y(typeof a[u]===h,"invalid fixed format ("+u+" not "+h+")","format."+u,a[u]),a[u]);e=c("signed","boolean",e),t=c("width","number",t),r=c("decimals","number",r)}Y(t%8===0,"invalid FixedNumber width (not byte aligned)","format.width",t),Y(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const s=(e?"":"u")+"fixed"+String(t)+"x"+String(r);return{signed:e,width:t,decimals:r,name:s}}function Zne(n,e){let t="";n<vi&&(t="-",n*=Yne);let r=n.toString();if(e===0)return t+r;for(;r.length<=e;)r=Nd+r;const s=r.length-e;for(r=r.substring(0,s)+"."+r.substring(s);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return t+r}var Si,zt,Dr,Pt,xl,eo,uC,hC,dC,fC;const yc=class yc{constructor(e,t,r){ie(this,Pt);ee(this,"format");ie(this,Si);ie(this,zt);ie(this,Dr);ee(this,"_value");Sy(e,nd,"FixedNumber"),F(this,zt,t),F(this,Si,r);const s=Zne(t,r.decimals);qe(this,{format:r.name,_value:s}),F(this,Dr,Nl(r.decimals))}get signed(){return S(this,Si).signed}get width(){return S(this,Si).width}get decimals(){return S(this,Si).decimals}get value(){return S(this,zt)}addUnsafe(e){return pe(this,Pt,uC).call(this,e)}add(e){return pe(this,Pt,uC).call(this,e,"add")}subUnsafe(e){return pe(this,Pt,hC).call(this,e)}sub(e){return pe(this,Pt,hC).call(this,e,"sub")}mulUnsafe(e){return pe(this,Pt,dC).call(this,e)}mul(e){return pe(this,Pt,dC).call(this,e,"mul")}mulSignal(e){pe(this,Pt,xl).call(this,e);const t=S(this,zt)*S(e,zt);return he(t%S(this,Dr)===vi,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),pe(this,Pt,eo).call(this,t/S(this,Dr),"mulSignal")}divUnsafe(e){return pe(this,Pt,fC).call(this,e)}div(e){return pe(this,Pt,fC).call(this,e,"div")}divSignal(e){he(S(e,zt)!==vi,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),pe(this,Pt,xl).call(this,e);const t=S(this,zt)*S(this,Dr);return he(t%S(e,zt)===vi,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),pe(this,Pt,eo).call(this,t/S(e,zt),"divSignal")}cmp(e){let t=this.value,r=e.value;const s=this.decimals-e.decimals;return s>0?r*=Nl(s):s<0&&(t*=Nl(-s)),t<r?-1:t>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=S(this,zt);return S(this,zt)<vi&&(e-=S(this,Dr)-yd),e=S(this,zt)/S(this,Dr)*S(this,Dr),pe(this,Pt,eo).call(this,e,"floor")}ceiling(){let e=S(this,zt);return S(this,zt)>vi&&(e+=S(this,Dr)-yd),e=S(this,zt)/S(this,Dr)*S(this,Dr),pe(this,Pt,eo).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,r=Qne*Nl(t-1);let s=this.value+r;const a=Nl(t);return s=s/a*a,vg(s,S(this,Si),"round"),new yc(nd,s,S(this,Si))}isZero(){return S(this,zt)===vi}isNegative(){return S(this,zt)<vi}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return yc.fromString(this.toString(),e)}static fromValue(e,t,r){const s=t==null?0:rt(t),a=V1(r);let c=De(e,"value");const u=s-a.decimals;if(u>0){const h=Nl(u);he(c%h===vi,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),c/=h}else u<0&&(c*=Nl(-u));return vg(c,a,"fromValue"),new yc(nd,c,a)}static fromString(e,t){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);Y(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const s=V1(t);let a=r[2]||"0",c=r[3]||"";for(;c.length<s.decimals;)c+=Nd;he(c.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),c=c.substring(0,s.decimals);const u=BigInt(r[1]+a+c);return vg(u,s,"fromString"),new yc(nd,u,s)}static fromBytes(e,t){let r=cv(ot(e,"value"));const s=V1(t);return s.signed&&(r=yb(r,s.width)),vg(r,s,"fromBytes"),new yc(nd,r,s)}};Si=new WeakMap,zt=new WeakMap,Dr=new WeakMap,Pt=new WeakSet,xl=function(e){Y(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},eo=function(e,t){return e=vg(e,S(this,Si),t),new yc(nd,e,S(this,Si))},uC=function(e,t){return pe(this,Pt,xl).call(this,e),pe(this,Pt,eo).call(this,S(this,zt)+S(e,zt),t)},hC=function(e,t){return pe(this,Pt,xl).call(this,e),pe(this,Pt,eo).call(this,S(this,zt)-S(e,zt),t)},dC=function(e,t){return pe(this,Pt,xl).call(this,e),pe(this,Pt,eo).call(this,S(this,zt)*S(e,zt)/S(this,Dr),t)},fC=function(e,t){return he(S(e,zt)!==vi,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),pe(this,Pt,xl).call(this,e),pe(this,Pt,eo).call(this,S(this,zt)*S(this,Dr)/S(e,zt),t)};let bb=yc;function Jne(n){let e=n.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function M3(n,e,t){let r=0;for(let s=0;s<t;s++)r=r*256+n[e+s];return r}function L3(n,e,t,r){const s=[];for(;t<e+1+r;){const a=o8(n,t);s.push(a.result),t+=a.consumed,he(t<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:n,length:r,offset:e})}return{consumed:1+r,result:s}}function o8(n,e){he(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const t=r=>{he(r<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r})};if(n[e]>=248){const r=n[e]-247;t(e+1+r);const s=M3(n,e+1,r);return t(e+1+r+s),L3(n,e,e+1+r,r+s)}else if(n[e]>=192){const r=n[e]-192;return t(e+1+r),L3(n,e,e+1,r)}else if(n[e]>=184){const r=n[e]-183;t(e+1+r);const s=M3(n,e+1,r);t(e+1+r+s);const a=Ae(n.slice(e+1+r,e+1+r+s));return{consumed:1+r+s,result:a}}else if(n[e]>=128){const r=n[e]-128;t(e+1+r);const s=Ae(n.slice(e+1,e+1+r));return{consumed:1+r,result:s}}return{consumed:1,result:Jne(n[e])}}function Ny(n){const e=ot(n,"data"),t=o8(e,0);return Y(t.consumed===e.length,"unexpected junk after rlp payload","data",n),t.result}function $3(n){const e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function c8(n){if(Array.isArray(n)){let r=[];if(n.forEach(function(a){r=r.concat(c8(a))}),r.length<=55)return r.unshift(192+r.length),r;const s=$3(r.length);return s.unshift(247+s.length),s.concat(r)}const e=Array.prototype.slice.call(ot(n,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=$3(e.length);return t.unshift(183+t.length),t.concat(e)}const F3="0123456789abcdef";function Jc(n){let e="0x";for(const t of c8(n))e+=F3[t>>4],e+=F3[t&15];return e}const l8=["wei","kwei","mwei","gwei","szabo","finney","ether"];function u8(n,e){let t=18;if(typeof e=="string"){const r=l8.indexOf(e);Y(r>=0,"invalid unit","unit",e),t=3*r}else e!=null&&(t=rt(e,"unit"));return bb.fromValue(n,t,{decimals:t,width:512}).toString()}function h8(n,e){Y(typeof n=="string","value must be a string","value",n);let t=18;if(typeof e=="string"){const r=l8.indexOf(e);Y(r>=0,"invalid unit","unit",e),t=3*r}else e!=null&&(t=rt(e,"unit"));return bb.fromString(n,{decimals:t,width:512}).value}function d8(n){return u8(n,18)}const Lr=32,pC=new Uint8Array(Lr),Xne=["then"],v0={},f8=new WeakMap;function Ml(n){return f8.get(n)}function j3(n,e){f8.set(n,e)}function Eg(n,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${n}`);throw t.error=e,t}function gC(n,e,t){return n.indexOf(null)>=0?e.map((r,s)=>r instanceof kf?gC(Ml(r),r,t):r):n.reduce((r,s,a)=>{let c=e.getValue(s);return s in r||(t&&c instanceof kf&&(c=gC(Ml(c),c,t)),r[s]=c),r},{})}var Bd;const wd=class wd extends Array{constructor(...t){const r=t[0];let s=t[1],a=(t[2]||[]).slice(),c=!0;r!==v0&&(s=t,a=[],c=!1);super(s.length);ie(this,Bd);s.forEach((d,p)=>{this[p]=d});const u=a.reduce((d,p)=>(typeof p=="string"&&d.set(p,(d.get(p)||0)+1),d),new Map);if(j3(this,Object.freeze(s.map((d,p)=>{const m=a[p];return m!=null&&u.get(m)===1?m:null}))),F(this,Bd,[]),S(this,Bd)==null&&S(this,Bd),!c)return;Object.freeze(this);const h=new Proxy(this,{get:(d,p,m)=>{if(typeof p=="string"){if(p.match(/^[0-9]+$/)){const b=rt(p,"%index");if(b<0||b>=this.length)throw new RangeError("out of result range");const E=d[b];return E instanceof Error&&Eg(`index ${b}`,E),E}if(Xne.indexOf(p)>=0)return Reflect.get(d,p,m);const y=d[p];if(y instanceof Function)return function(...b){return y.apply(this===m?d:this,b)};if(!(p in d))return d.getValue.apply(this===m?d:this,[p])}return Reflect.get(d,p,m)}});return j3(h,Ml(this)),h}toArray(t){const r=[];return this.forEach((s,a)=>{s instanceof Error&&Eg(`index ${a}`,s),t&&s instanceof wd&&(s=s.toArray(t)),r.push(s)}),r}toObject(t){const r=Ml(this);return r.reduce((s,a,c)=>(he(a!=null,`value at index ${c} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),gC(r,this,t)),{})}slice(t,r){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const s=Ml(this),a=[],c=[];for(let u=t;u<r;u++)a.push(this[u]),c.push(s[u]);return new wd(v0,a,c)}filter(t,r){const s=Ml(this),a=[],c=[];for(let u=0;u<this.length;u++){const h=this[u];h instanceof Error&&Eg(`index ${u}`,h),t.call(r,h,u,this)&&(a.push(h),c.push(s[u]))}return new wd(v0,a,c)}map(t,r){const s=[];for(let a=0;a<this.length;a++){const c=this[a];c instanceof Error&&Eg(`index ${a}`,c),s.push(t.call(r,c,a,this))}return s}getValue(t){const r=Ml(this).indexOf(t);if(r===-1)return;const s=this[r];return s instanceof Error&&Eg(`property ${JSON.stringify(t)}`,s.error),s}static fromItems(t,r){return new wd(v0,t,r)}};Bd=new WeakMap;let kf=wd;function H3(n){let e=hr(n);return he(e.length<=Lr,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Lr,offset:e.length}),e.length!==Lr&&(e=Mr(En([pC.slice(e.length%Lr),e]))),e}class Po{constructor(e,t,r,s){ee(this,"name");ee(this,"type");ee(this,"localName");ee(this,"dynamic");qe(this,{name:e,type:t,localName:r,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){Y(!1,e,this.localName,t)}}var oo,ru,Md,$0;class mC{constructor(){ie(this,Md);ie(this,oo);ie(this,ru);F(this,oo,[]),F(this,ru,0)}get data(){return En(S(this,oo))}get length(){return S(this,ru)}appendWriter(e){return pe(this,Md,$0).call(this,Mr(e.data))}writeBytes(e){let t=Mr(e);const r=t.length%Lr;return r&&(t=Mr(En([t,pC.slice(r)]))),pe(this,Md,$0).call(this,t)}writeValue(e){return pe(this,Md,$0).call(this,H3(e))}writeUpdatableValue(){const e=S(this,oo).length;return S(this,oo).push(pC),F(this,ru,S(this,ru)+Lr),t=>{S(this,oo)[e]=H3(t)}}}oo=new WeakMap,ru=new WeakMap,Md=new WeakSet,$0=function(e){return S(this,oo).push(e),F(this,ru,S(this,ru)+e.length),e.length};var ns,Ts,su,iu,_c,Fu,wC,p8;const WS=class WS{constructor(e,t,r){ie(this,Fu);ee(this,"allowLoose");ie(this,ns);ie(this,Ts);ie(this,su);ie(this,iu);ie(this,_c);qe(this,{allowLoose:!!t}),F(this,ns,Mr(e)),F(this,su,0),F(this,iu,null),F(this,_c,r??1024),F(this,Ts,0)}get data(){return Ae(S(this,ns))}get dataLength(){return S(this,ns).length}get consumed(){return S(this,Ts)}get bytes(){return new Uint8Array(S(this,ns))}subReader(e){const t=new WS(S(this,ns).slice(S(this,Ts)+e),this.allowLoose,S(this,_c));return F(t,iu,this),t}readBytes(e,t){let r=pe(this,Fu,p8).call(this,0,e,!!t);return pe(this,Fu,wC).call(this,e),F(this,Ts,S(this,Ts)+r.length),r.slice(0,e)}readValue(){return cv(this.readBytes(Lr))}readIndex(){return Dne(this.readBytes(Lr))}};ns=new WeakMap,Ts=new WeakMap,su=new WeakMap,iu=new WeakMap,_c=new WeakMap,Fu=new WeakSet,wC=function(e){var t;if(S(this,iu))return pe(t=S(this,iu),Fu,wC).call(t,e);F(this,su,S(this,su)+e),he(S(this,_c)<1||S(this,su)<=S(this,_c)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${S(this,_c)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Mr(S(this,ns)),offset:S(this,Ts),length:e,info:{bytesRead:S(this,su),dataLength:this.dataLength}})},p8=function(e,t,r){let s=Math.ceil(t/Lr)*Lr;return S(this,Ts)+s>S(this,ns).length&&(this.allowLoose&&r&&S(this,Ts)+t<=S(this,ns).length?s=t:he(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Mr(S(this,ns)),length:S(this,ns).length,offset:S(this,Ts)+s})),S(this,ns).slice(S(this,Ts),S(this,Ts)+s)};let yC=WS;function vb(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function IS(n,...e){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function ere(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");vb(n.outputLen),vb(n.blockLen)}function Bf(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function g8(n,e){IS(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const K1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const m8=n=>n instanceof Uint8Array,tre=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),W1=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Ji=(n,e)=>n<<32-e|n>>>e,nre=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!nre)throw new Error("Non little-endian hardware is not supported");function rre(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function lv(n){if(typeof n=="string"&&(n=rre(n)),!m8(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function sre(...n){const e=new Uint8Array(n.reduce((r,s)=>r+s.length,0));let t=0;return n.forEach(r=>{if(!m8(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}class xS{clone(){return this._cloneInto()}}function PS(n){const e=r=>n().update(lv(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function ire(n=32){if(K1&&typeof K1.getRandomValues=="function")return K1.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}class y8 extends xS{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,ere(e);const r=lv(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(r.length>s?e.create().update(r).digest():r);for(let c=0;c<a.length;c++)a[c]^=54;this.iHash.update(a),this.oHash=e.create();for(let c=0;c<a.length;c++)a[c]^=106;this.oHash.update(a),a.fill(0)}update(e){return Bf(this),this.iHash.update(e),this}digestInto(e){Bf(this),IS(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:a,blockLen:c,outputLen:u}=this;return e=e,e.finished=s,e.destroyed=a,e.blockLen=c,e.outputLen=u,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const w8=(n,e,t)=>new y8(n,e).update(t).digest();w8.create=(n,e)=>new y8(n,e);function are(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),a=BigInt(4294967295),c=Number(t>>s&a),u=Number(t&a),h=r?4:0,d=r?0:4;n.setUint32(e+h,c,r),n.setUint32(e+d,u,r)}class b8 extends xS{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=W1(this.buffer)}update(e){Bf(this);const{view:t,buffer:r,blockLen:s}=this;e=lv(e);const a=e.length;for(let c=0;c<a;){const u=Math.min(s-this.pos,a-c);if(u===s){const h=W1(e);for(;s<=a-c;c+=s)this.process(h,c);continue}r.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Bf(this),g8(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:a}=this;let{pos:c}=this;t[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(r,0),c=0);for(let m=c;m<s;m++)t[m]=0;are(r,s-8,BigInt(this.length*8),a),this.process(r,0);const u=W1(e),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=h/4,p=this.get();if(d>p.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<d;m++)u.setUint32(4*m,p[m],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:a,destroyed:c,pos:u}=this;return e.length=s,e.pos=u,e.finished=a,e.destroyed=c,s%t&&e.buffer.set(r),e}}const ore=(n,e,t)=>n&e^~n&t,cre=(n,e,t)=>n&e^n&t^e&t,lre=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),uc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hc=new Uint32Array(64);class ure extends b8{constructor(){super(64,32,8,!1),this.A=uc[0]|0,this.B=uc[1]|0,this.C=uc[2]|0,this.D=uc[3]|0,this.E=uc[4]|0,this.F=uc[5]|0,this.G=uc[6]|0,this.H=uc[7]|0}get(){const{A:e,B:t,C:r,D:s,E:a,F:c,G:u,H:h}=this;return[e,t,r,s,a,c,u,h]}set(e,t,r,s,a,c,u,h){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=a|0,this.F=c|0,this.G=u|0,this.H=h|0}process(e,t){for(let m=0;m<16;m++,t+=4)hc[m]=e.getUint32(t,!1);for(let m=16;m<64;m++){const y=hc[m-15],b=hc[m-2],E=Ji(y,7)^Ji(y,18)^y>>>3,v=Ji(b,17)^Ji(b,19)^b>>>10;hc[m]=v+hc[m-7]+E+hc[m-16]|0}let{A:r,B:s,C:a,D:c,E:u,F:h,G:d,H:p}=this;for(let m=0;m<64;m++){const y=Ji(u,6)^Ji(u,11)^Ji(u,25),b=p+y+ore(u,h,d)+lre[m]+hc[m]|0,v=(Ji(r,2)^Ji(r,13)^Ji(r,22))+cre(r,s,a)|0;p=d,d=h,h=u,u=c+b|0,c=a,a=s,s=r,r=b+v|0}r=r+this.A|0,s=s+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,h=h+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(r,s,a,c,u,h,d,p)}roundClean(){hc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const v8=PS(()=>new ure),E0=BigInt(2**32-1),bC=BigInt(32);function E8(n,e=!1){return e?{h:Number(n&E0),l:Number(n>>bC&E0)}:{h:Number(n>>bC&E0)|0,l:Number(n&E0)|0}}function A8(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:a,l:c}=E8(n[s],e);[t[s],r[s]]=[a,c]}return[t,r]}const hre=(n,e)=>BigInt(n>>>0)<<bC|BigInt(e>>>0),dre=(n,e,t)=>n>>>t,fre=(n,e,t)=>n<<32-t|e>>>t,pre=(n,e,t)=>n>>>t|e<<32-t,gre=(n,e,t)=>n<<32-t|e>>>t,mre=(n,e,t)=>n<<64-t|e>>>t-32,yre=(n,e,t)=>n>>>t-32|e<<64-t,wre=(n,e)=>e,bre=(n,e)=>n,_8=(n,e,t)=>n<<t|e>>>32-t,C8=(n,e,t)=>e<<t|n>>>32-t,S8=(n,e,t)=>e<<t-32|n>>>64-t,N8=(n,e,t)=>n<<t-32|e>>>64-t;function vre(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const Ere=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),Are=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,_re=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),Cre=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,Sre=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),Nre=(n,e,t,r,s,a)=>e+t+r+s+a+(n/2**32|0)|0,it={fromBig:E8,split:A8,toBig:hre,shrSH:dre,shrSL:fre,rotrSH:pre,rotrSL:gre,rotrBH:mre,rotrBL:yre,rotr32H:wre,rotr32L:bre,rotlSH:_8,rotlSL:C8,rotlBH:S8,rotlBL:N8,add:vre,add3L:Ere,add3H:Are,add4L:_re,add4H:Cre,add5H:Nre,add5L:Sre},[Tre,Ore]=it.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),dc=new Uint32Array(80),fc=new Uint32Array(80);class Rre extends b8{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:a,Cl:c,Dh:u,Dl:h,Eh:d,El:p,Fh:m,Fl:y,Gh:b,Gl:E,Hh:v,Hl:A}=this;return[e,t,r,s,a,c,u,h,d,p,m,y,b,E,v,A]}set(e,t,r,s,a,c,u,h,d,p,m,y,b,E,v,A){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=a|0,this.Cl=c|0,this.Dh=u|0,this.Dl=h|0,this.Eh=d|0,this.El=p|0,this.Fh=m|0,this.Fl=y|0,this.Gh=b|0,this.Gl=E|0,this.Hh=v|0,this.Hl=A|0}process(e,t){for(let P=0;P<16;P++,t+=4)dc[P]=e.getUint32(t),fc[P]=e.getUint32(t+=4);for(let P=16;P<80;P++){const k=dc[P-15]|0,U=fc[P-15]|0,O=it.rotrSH(k,U,1)^it.rotrSH(k,U,8)^it.shrSH(k,U,7),B=it.rotrSL(k,U,1)^it.rotrSL(k,U,8)^it.shrSL(k,U,7),M=dc[P-2]|0,$=fc[P-2]|0,q=it.rotrSH(M,$,19)^it.rotrBH(M,$,61)^it.shrSH(M,$,6),V=it.rotrSL(M,$,19)^it.rotrBL(M,$,61)^it.shrSL(M,$,6),te=it.add4L(B,V,fc[P-7],fc[P-16]),de=it.add4H(te,O,q,dc[P-7],dc[P-16]);dc[P]=de|0,fc[P]=te|0}let{Ah:r,Al:s,Bh:a,Bl:c,Ch:u,Cl:h,Dh:d,Dl:p,Eh:m,El:y,Fh:b,Fl:E,Gh:v,Gl:A,Hh:N,Hl:I}=this;for(let P=0;P<80;P++){const k=it.rotrSH(m,y,14)^it.rotrSH(m,y,18)^it.rotrBH(m,y,41),U=it.rotrSL(m,y,14)^it.rotrSL(m,y,18)^it.rotrBL(m,y,41),O=m&b^~m&v,B=y&E^~y&A,M=it.add5L(I,U,B,Ore[P],fc[P]),$=it.add5H(M,N,k,O,Tre[P],dc[P]),q=M|0,V=it.rotrSH(r,s,28)^it.rotrBH(r,s,34)^it.rotrBH(r,s,39),te=it.rotrSL(r,s,28)^it.rotrBL(r,s,34)^it.rotrBL(r,s,39),de=r&a^r&u^a&u,Z=s&c^s&h^c&h;N=v|0,I=A|0,v=b|0,A=E|0,b=m|0,E=y|0,{h:m,l:y}=it.add(d|0,p|0,$|0,q|0),d=u|0,p=h|0,u=a|0,h=c|0,a=r|0,c=s|0;const T=it.add3L(q,te,Z);r=it.add3H(T,$,V,de),s=T|0}({h:r,l:s}=it.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:a,l:c}=it.add(this.Bh|0,this.Bl|0,a|0,c|0),{h:u,l:h}=it.add(this.Ch|0,this.Cl|0,u|0,h|0),{h:d,l:p}=it.add(this.Dh|0,this.Dl|0,d|0,p|0),{h:m,l:y}=it.add(this.Eh|0,this.El|0,m|0,y|0),{h:b,l:E}=it.add(this.Fh|0,this.Fl|0,b|0,E|0),{h:v,l:A}=it.add(this.Gh|0,this.Gl|0,v|0,A|0),{h:N,l:I}=it.add(this.Hh|0,this.Hl|0,N|0,I|0),this.set(r,s,a,c,u,h,d,p,m,y,b,E,v,A,N,I)}roundClean(){dc.fill(0),fc.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Ire=PS(()=>new Rre);function xre(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const z3=xre();z3.crypto||z3.msCrypto;function Pre(n){switch(n){case"sha256":return v8.create();case"sha512":return Ire.create()}Y(!1,"invalid hashing algorithm name","algorithm",n)}const[T8,O8,R8]=[[],[],[]],Dre=BigInt(0),Ag=BigInt(1),Ure=BigInt(2),kre=BigInt(7),Bre=BigInt(256),Mre=BigInt(113);for(let n=0,e=Ag,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],T8.push(2*(5*r+t)),O8.push((n+1)*(n+2)/2%64);let s=Dre;for(let a=0;a<7;a++)e=(e<<Ag^(e>>kre)*Mre)%Bre,e&Ure&&(s^=Ag<<(Ag<<BigInt(a))-Ag);R8.push(s)}const[Lre,$re]=A8(R8,!0),q3=(n,e,t)=>t>32?S8(n,e,t):_8(n,e,t),G3=(n,e,t)=>t>32?N8(n,e,t):C8(n,e,t);function Fre(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)t[c]=n[c]^n[c+10]^n[c+20]^n[c+30]^n[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,h=(c+2)%10,d=t[h],p=t[h+1],m=q3(d,p,1)^t[u],y=G3(d,p,1)^t[u+1];for(let b=0;b<50;b+=10)n[c+b]^=m,n[c+b+1]^=y}let s=n[2],a=n[3];for(let c=0;c<24;c++){const u=O8[c],h=q3(s,a,u),d=G3(s,a,u),p=T8[c];s=n[p],a=n[p+1],n[p]=h,n[p+1]=d}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)t[u]=n[c+u];for(let u=0;u<10;u++)n[c+u]^=~t[(u+2)%10]&t[(u+4)%10]}n[0]^=Lre[r],n[1]^=$re[r]}t.fill(0)}class DS extends xS{constructor(e,t,r,s=!1,a=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,vb(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=tre(this.state)}keccak(){Fre(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Bf(this);const{blockLen:t,state:r}=this;e=lv(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(t-this.pos,s-a);for(let u=0;u<c;u++)r[this.pos++]^=e[a++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Bf(this,!1),IS(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,a=e.length;s<a;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,a-s);e.set(t.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return vb(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(g8(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:a,enableXOF:c}=this;return e||(e=new DS(t,r,s,c,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=s,e.enableXOF=c,e.destroyed=this.destroyed,e}}const jre=(n,e,t)=>PS(()=>new DS(e,n,t)),Hre=jre(1,136,256/8);let I8=!1;const x8=function(n){return Hre(n)};let P8=x8;function Pn(n){const e=ot(n,"data");return Ae(P8(e))}Pn._=x8;Pn.lock=function(){I8=!0};Pn.register=function(n){if(I8)throw new TypeError("keccak256 is locked");P8=n};Object.freeze(Pn);const D8=function(n){return Pre("sha256").update(n).digest()};let U8=D8,k8=!1;function Jf(n){const e=ot(n,"data");return Ae(U8(e))}Jf._=D8;Jf.lock=function(){k8=!0};Jf.register=function(n){if(k8)throw new Error("sha256 is locked");U8=n};Object.freeze(Jf);Object.freeze(Jf);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const B8=BigInt(0),uv=BigInt(1),zre=BigInt(2),hv=n=>n instanceof Uint8Array,qre=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Mf(n){if(!hv(n))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=qre[n[t]];return e}function M8(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function US(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function Lf(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let r=0;r<t.length;r++){const s=r*2,a=n.slice(s,s+2),c=Number.parseInt(a,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");t[r]=c}return t}function Au(n){return US(Mf(n))}function kS(n){if(!hv(n))throw new Error("Uint8Array expected");return US(Mf(Uint8Array.from(n).reverse()))}function $f(n,e){return Lf(n.toString(16).padStart(e*2,"0"))}function BS(n,e){return $f(n,e).reverse()}function Gre(n){return Lf(M8(n))}function Ai(n,e,t){let r;if(typeof e=="string")try{r=Lf(e)}catch(a){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${a}`)}else if(hv(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function Lm(...n){const e=new Uint8Array(n.reduce((r,s)=>r+s.length,0));let t=0;return n.forEach(r=>{if(!hv(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}function Vre(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function Kre(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function Wre(n){let e;for(e=0;n>B8;n>>=uv,e+=1);return e}function Yre(n,e){return n>>BigInt(e)&uv}const Qre=(n,e,t)=>n|(t?uv:B8)<<BigInt(e),MS=n=>(zre<<BigInt(n-1))-uv,Y1=n=>new Uint8Array(n),V3=n=>Uint8Array.from(n);function L8(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=Y1(n),s=Y1(n),a=0;const c=()=>{r.fill(1),s.fill(0),a=0},u=(...m)=>t(s,r,...m),h=(m=Y1())=>{s=u(V3([0]),m),r=u(),m.length!==0&&(s=u(V3([1]),m),r=u())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const y=[];for(;m<e;){r=u();const b=r.slice();y.push(b),m+=r.length}return Lm(...y)};return(m,y)=>{c(),h(m);let b;for(;!(b=y(d()));)h();return c(),b}}const Zre={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Ty(n,e,t={}){const r=(s,a,c)=>{const u=Zre[a];if(typeof u!="function")throw new Error(`Invalid validator "${a}", expected function`);const h=n[s];if(!(c&&h===void 0)&&!u(h,n))throw new Error(`Invalid param ${String(s)}=${h} (${typeof h}), expected ${a}`)};for(const[s,a]of Object.entries(e))r(s,a,!1);for(const[s,a]of Object.entries(t))r(s,a,!0);return n}const Jre=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Yre,bitLen:Wre,bitMask:MS,bitSet:Qre,bytesToHex:Mf,bytesToNumberBE:Au,bytesToNumberLE:kS,concatBytes:Lm,createHmacDrbg:L8,ensureBytes:Ai,equalBytes:Vre,hexToBytes:Lf,hexToNumber:US,numberToBytesBE:$f,numberToBytesLE:BS,numberToHexUnpadded:M8,numberToVarBytesBE:Gre,utf8ToBytes:Kre,validateObject:Ty},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xn=BigInt(0),Tn=BigInt(1),Ll=BigInt(2),Xre=BigInt(3),vC=BigInt(4),K3=BigInt(5),W3=BigInt(8);BigInt(9);BigInt(16);function as(n,e){const t=n%e;return t>=Xn?t:e+t}function ese(n,e,t){if(t<=Xn||e<Xn)throw new Error("Expected power/modulo > 0");if(t===Tn)return Xn;let r=Tn;for(;e>Xn;)e&Tn&&(r=r*n%t),n=n*n%t,e>>=Tn;return r}function Qs(n,e,t){let r=n;for(;e-- >Xn;)r*=r,r%=t;return r}function EC(n,e){if(n===Xn||e<=Xn)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=as(n,e),r=e,s=Xn,a=Tn;for(;t!==Xn;){const u=r/t,h=r%t,d=s-a*u;r=t,t=h,s=a,a=d}if(r!==Tn)throw new Error("invert: does not exist");return as(s,e)}function tse(n){const e=(n-Tn)/Ll;let t,r,s;for(t=n-Tn,r=0;t%Ll===Xn;t/=Ll,r++);for(s=Ll;s<n&&ese(s,e,n)!==n-Tn;s++);if(r===1){const c=(n+Tn)/vC;return function(h,d){const p=h.pow(d,c);if(!h.eql(h.sqr(p),d))throw new Error("Cannot find square root");return p}}const a=(t+Tn)/Ll;return function(u,h){if(u.pow(h,e)===u.neg(u.ONE))throw new Error("Cannot find square root");let d=r,p=u.pow(u.mul(u.ONE,s),t),m=u.pow(h,a),y=u.pow(h,t);for(;!u.eql(y,u.ONE);){if(u.eql(y,u.ZERO))return u.ZERO;let b=1;for(let v=u.sqr(y);b<d&&!u.eql(v,u.ONE);b++)v=u.sqr(v);const E=u.pow(p,Tn<<BigInt(d-b-1));p=u.sqr(E),m=u.mul(m,E),y=u.mul(y,p),d=b}return m}}function nse(n){if(n%vC===Xre){const e=(n+Tn)/vC;return function(r,s){const a=r.pow(s,e);if(!r.eql(r.sqr(a),s))throw new Error("Cannot find square root");return a}}if(n%W3===K3){const e=(n-K3)/W3;return function(r,s){const a=r.mul(s,Ll),c=r.pow(a,e),u=r.mul(s,c),h=r.mul(r.mul(u,Ll),c),d=r.mul(u,r.sub(h,r.ONE));if(!r.eql(r.sqr(d),s))throw new Error("Cannot find square root");return d}}return tse(n)}const rse=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sse(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=rse.reduce((r,s)=>(r[s]="function",r),e);return Ty(n,t)}function ise(n,e,t){if(t<Xn)throw new Error("Expected power > 0");if(t===Xn)return n.ONE;if(t===Tn)return e;let r=n.ONE,s=e;for(;t>Xn;)t&Tn&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Tn;return r}function ase(n,e){const t=new Array(e.length),r=e.reduce((a,c,u)=>n.is0(c)?a:(t[u]=a,n.mul(a,c)),n.ONE),s=n.inv(r);return e.reduceRight((a,c,u)=>n.is0(c)?a:(t[u]=n.mul(a,t[u]),n.mul(a,c)),s),t}function $8(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function ose(n,e,t=!1,r={}){if(n<=Xn)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:a}=$8(n,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=nse(n),u=Object.freeze({ORDER:n,BITS:s,BYTES:a,MASK:MS(s),ZERO:Xn,ONE:Tn,create:h=>as(h,n),isValid:h=>{if(typeof h!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof h}`);return Xn<=h&&h<n},is0:h=>h===Xn,isOdd:h=>(h&Tn)===Tn,neg:h=>as(-h,n),eql:(h,d)=>h===d,sqr:h=>as(h*h,n),add:(h,d)=>as(h+d,n),sub:(h,d)=>as(h-d,n),mul:(h,d)=>as(h*d,n),pow:(h,d)=>ise(u,h,d),div:(h,d)=>as(h*EC(d,n),n),sqrN:h=>h*h,addN:(h,d)=>h+d,subN:(h,d)=>h-d,mulN:(h,d)=>h*d,inv:h=>EC(h,n),sqrt:r.sqrt||(h=>c(u,h)),invertBatch:h=>ase(u,h),cmov:(h,d,p)=>p?d:h,toBytes:h=>t?BS(h,a):$f(h,a),fromBytes:h=>{if(h.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${h.length}`);return t?kS(h):Au(h)}});return Object.freeze(u)}function F8(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function j8(n){const e=F8(n);return e+Math.ceil(e/2)}function cse(n,e,t=!1){const r=n.length,s=F8(e),a=j8(e);if(r<16||r<a||r>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${r}`);const c=t?Au(n):kS(n),u=as(c,e-Tn)+Tn;return t?BS(u,s):$f(u,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lse=BigInt(0),Q1=BigInt(1);function use(n,e){const t=(s,a)=>{const c=a.negate();return s?c:a},r=s=>{const a=Math.ceil(e/s)+1,c=2**(s-1);return{windows:a,windowSize:c}};return{constTimeNegate:t,unsafeLadder(s,a){let c=n.ZERO,u=s;for(;a>lse;)a&Q1&&(c=c.add(u)),u=u.double(),a>>=Q1;return c},precomputeWindow(s,a){const{windows:c,windowSize:u}=r(a),h=[];let d=s,p=d;for(let m=0;m<c;m++){p=d,h.push(p);for(let y=1;y<u;y++)p=p.add(d),h.push(p);d=p.double()}return h},wNAF(s,a,c){const{windows:u,windowSize:h}=r(s);let d=n.ZERO,p=n.BASE;const m=BigInt(2**s-1),y=2**s,b=BigInt(s);for(let E=0;E<u;E++){const v=E*h;let A=Number(c&m);c>>=b,A>h&&(A-=y,c+=Q1);const N=v,I=v+Math.abs(A)-1,P=E%2!==0,k=A<0;A===0?p=p.add(t(P,a[N])):d=d.add(t(k,a[I]))}return{p:d,f:p}},wNAFCached(s,a,c,u){const h=s._WINDOW_SIZE||1;let d=a.get(s);return d||(d=this.precomputeWindow(s,h),h!==1&&a.set(s,u(d))),this.wNAF(h,d,c)}}}function H8(n){return sse(n.Fp),Ty(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...$8(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function hse(n){const e=H8(n);Ty(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:dse,hexToBytes:fse}=Jre,Wl={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=Wl;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:dse(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=Wl,t=typeof n=="string"?fse(n):n;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:a}=Wl._parseInt(t.subarray(2)),{d:c,l:u}=Wl._parseInt(a);if(u.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:c}},hexFromSig(n){const e=d=>Number.parseInt(d[0],16)&8?"00"+d:d,t=d=>{const p=d.toString(16);return p.length&1?`0${p}`:p},r=e(t(n.s)),s=e(t(n.r)),a=r.length/2,c=s.length/2,u=t(a),h=t(c);return`30${t(c+a+4)}02${h}${s}02${u}${r}`}},wo=BigInt(0),ai=BigInt(1);BigInt(2);const Y3=BigInt(3);BigInt(4);function pse(n){const e=hse(n),{Fp:t}=e,r=e.toBytes||((E,v,A)=>{const N=v.toAffine();return Lm(Uint8Array.from([4]),t.toBytes(N.x),t.toBytes(N.y))}),s=e.fromBytes||(E=>{const v=E.subarray(1),A=t.fromBytes(v.subarray(0,t.BYTES)),N=t.fromBytes(v.subarray(t.BYTES,2*t.BYTES));return{x:A,y:N}});function a(E){const{a:v,b:A}=e,N=t.sqr(E),I=t.mul(N,E);return t.add(t.add(I,t.mul(E,v)),A)}if(!t.eql(t.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function c(E){return typeof E=="bigint"&&wo<E&&E<e.n}function u(E){if(!c(E))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function h(E){const{allowedPrivateKeyLengths:v,nByteLength:A,wrapPrivateKey:N,n:I}=e;if(v&&typeof E!="bigint"){if(E instanceof Uint8Array&&(E=Mf(E)),typeof E!="string"||!v.includes(E.length))throw new Error("Invalid key");E=E.padStart(A*2,"0")}let P;try{P=typeof E=="bigint"?E:Au(Ai("private key",E,A))}catch{throw new Error(`private key must be ${A} bytes, hex or bigint, not ${typeof E}`)}return N&&(P=as(P,I)),u(P),P}const d=new Map;function p(E){if(!(E instanceof m))throw new Error("ProjectivePoint expected")}class m{constructor(v,A,N){if(this.px=v,this.py=A,this.pz=N,v==null||!t.isValid(v))throw new Error("x required");if(A==null||!t.isValid(A))throw new Error("y required");if(N==null||!t.isValid(N))throw new Error("z required")}static fromAffine(v){const{x:A,y:N}=v||{};if(!v||!t.isValid(A)||!t.isValid(N))throw new Error("invalid affine point");if(v instanceof m)throw new Error("projective point not allowed");const I=P=>t.eql(P,t.ZERO);return I(A)&&I(N)?m.ZERO:new m(A,N,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const A=t.invertBatch(v.map(N=>N.pz));return v.map((N,I)=>N.toAffine(A[I])).map(m.fromAffine)}static fromHex(v){const A=m.fromAffine(s(Ai("pointHex",v)));return A.assertValidity(),A}static fromPrivateKey(v){return m.BASE.multiply(h(v))}_setWindowSize(v){this._WINDOW_SIZE=v,d.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:A}=this.toAffine();if(!t.isValid(v)||!t.isValid(A))throw new Error("bad point: x or y not FE");const N=t.sqr(A),I=a(v);if(!t.eql(N,I))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(t.isOdd)return!t.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){p(v);const{px:A,py:N,pz:I}=this,{px:P,py:k,pz:U}=v,O=t.eql(t.mul(A,U),t.mul(P,I)),B=t.eql(t.mul(N,U),t.mul(k,I));return O&&B}negate(){return new m(this.px,t.neg(this.py),this.pz)}double(){const{a:v,b:A}=e,N=t.mul(A,Y3),{px:I,py:P,pz:k}=this;let U=t.ZERO,O=t.ZERO,B=t.ZERO,M=t.mul(I,I),$=t.mul(P,P),q=t.mul(k,k),V=t.mul(I,P);return V=t.add(V,V),B=t.mul(I,k),B=t.add(B,B),U=t.mul(v,B),O=t.mul(N,q),O=t.add(U,O),U=t.sub($,O),O=t.add($,O),O=t.mul(U,O),U=t.mul(V,U),B=t.mul(N,B),q=t.mul(v,q),V=t.sub(M,q),V=t.mul(v,V),V=t.add(V,B),B=t.add(M,M),M=t.add(B,M),M=t.add(M,q),M=t.mul(M,V),O=t.add(O,M),q=t.mul(P,k),q=t.add(q,q),M=t.mul(q,V),U=t.sub(U,M),B=t.mul(q,$),B=t.add(B,B),B=t.add(B,B),new m(U,O,B)}add(v){p(v);const{px:A,py:N,pz:I}=this,{px:P,py:k,pz:U}=v;let O=t.ZERO,B=t.ZERO,M=t.ZERO;const $=e.a,q=t.mul(e.b,Y3);let V=t.mul(A,P),te=t.mul(N,k),de=t.mul(I,U),Z=t.add(A,N),T=t.add(P,k);Z=t.mul(Z,T),T=t.add(V,te),Z=t.sub(Z,T),T=t.add(A,I);let C=t.add(P,U);return T=t.mul(T,C),C=t.add(V,de),T=t.sub(T,C),C=t.add(N,I),O=t.add(k,U),C=t.mul(C,O),O=t.add(te,de),C=t.sub(C,O),M=t.mul($,T),O=t.mul(q,de),M=t.add(O,M),O=t.sub(te,M),M=t.add(te,M),B=t.mul(O,M),te=t.add(V,V),te=t.add(te,V),de=t.mul($,de),T=t.mul(q,T),te=t.add(te,de),de=t.sub(V,de),de=t.mul($,de),T=t.add(T,de),V=t.mul(te,T),B=t.add(B,V),V=t.mul(C,T),O=t.mul(Z,O),O=t.sub(O,V),V=t.mul(Z,te),M=t.mul(C,M),M=t.add(M,V),new m(O,B,M)}subtract(v){return this.add(v.negate())}is0(){return this.equals(m.ZERO)}wNAF(v){return b.wNAFCached(this,d,v,A=>{const N=t.invertBatch(A.map(I=>I.pz));return A.map((I,P)=>I.toAffine(N[P])).map(m.fromAffine)})}multiplyUnsafe(v){const A=m.ZERO;if(v===wo)return A;if(u(v),v===ai)return this;const{endo:N}=e;if(!N)return b.unsafeLadder(this,v);let{k1neg:I,k1:P,k2neg:k,k2:U}=N.splitScalar(v),O=A,B=A,M=this;for(;P>wo||U>wo;)P&ai&&(O=O.add(M)),U&ai&&(B=B.add(M)),M=M.double(),P>>=ai,U>>=ai;return I&&(O=O.negate()),k&&(B=B.negate()),B=new m(t.mul(B.px,N.beta),B.py,B.pz),O.add(B)}multiply(v){u(v);let A=v,N,I;const{endo:P}=e;if(P){const{k1neg:k,k1:U,k2neg:O,k2:B}=P.splitScalar(A);let{p:M,f:$}=this.wNAF(U),{p:q,f:V}=this.wNAF(B);M=b.constTimeNegate(k,M),q=b.constTimeNegate(O,q),q=new m(t.mul(q.px,P.beta),q.py,q.pz),N=M.add(q),I=$.add(V)}else{const{p:k,f:U}=this.wNAF(A);N=k,I=U}return m.normalizeZ([N,I])[0]}multiplyAndAddUnsafe(v,A,N){const I=m.BASE,P=(U,O)=>O===wo||O===ai||!U.equals(I)?U.multiplyUnsafe(O):U.multiply(O),k=P(this,A).add(P(v,N));return k.is0()?void 0:k}toAffine(v){const{px:A,py:N,pz:I}=this,P=this.is0();v==null&&(v=P?t.ONE:t.inv(I));const k=t.mul(A,v),U=t.mul(N,v),O=t.mul(I,v);if(P)return{x:t.ZERO,y:t.ZERO};if(!t.eql(O,t.ONE))throw new Error("invZ was invalid");return{x:k,y:U}}isTorsionFree(){const{h:v,isTorsionFree:A}=e;if(v===ai)return!0;if(A)return A(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:A}=e;return v===ai?this:A?A(m,this):this.multiplyUnsafe(e.h)}toRawBytes(v=!0){return this.assertValidity(),r(m,this,v)}toHex(v=!0){return Mf(this.toRawBytes(v))}}m.BASE=new m(e.Gx,e.Gy,t.ONE),m.ZERO=new m(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,b=use(m,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:h,weierstrassEquation:a,isWithinCurveOrder:c}}function gse(n){const e=H8(n);return Ty(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function mse(n){const e=gse(n),{Fp:t,n:r}=e,s=t.BYTES+1,a=2*t.BYTES+1;function c(T){return wo<T&&T<t.ORDER}function u(T){return as(T,r)}function h(T){return EC(T,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:p,weierstrassEquation:m,isWithinCurveOrder:y}=pse({...e,toBytes(T,C,L){const z=C.toAffine(),G=t.toBytes(z.x),R=Lm;return L?R(Uint8Array.from([C.hasEvenY()?2:3]),G):R(Uint8Array.from([4]),G,t.toBytes(z.y))},fromBytes(T){const C=T.length,L=T[0],z=T.subarray(1);if(C===s&&(L===2||L===3)){const G=Au(z);if(!c(G))throw new Error("Point is not on curve");const R=m(G);let W=t.sqrt(R);const ne=(W&ai)===ai;return(L&1)===1!==ne&&(W=t.neg(W)),{x:G,y:W}}else if(C===a&&L===4){const G=t.fromBytes(z.subarray(0,t.BYTES)),R=t.fromBytes(z.subarray(t.BYTES,2*t.BYTES));return{x:G,y:R}}else throw new Error(`Point of length ${C} was invalid. Expected ${s} compressed bytes or ${a} uncompressed bytes`)}}),b=T=>Mf($f(T,e.nByteLength));function E(T){const C=r>>ai;return T>C}function v(T){return E(T)?u(-T):T}const A=(T,C,L)=>Au(T.slice(C,L));class N{constructor(C,L,z){this.r=C,this.s=L,this.recovery=z,this.assertValidity()}static fromCompact(C){const L=e.nByteLength;return C=Ai("compactSignature",C,L*2),new N(A(C,0,L),A(C,L,2*L))}static fromDER(C){const{r:L,s:z}=Wl.toSig(Ai("DER",C));return new N(L,z)}assertValidity(){if(!y(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!y(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(C){return new N(this.r,this.s,C)}recoverPublicKey(C){const{r:L,s:z,recovery:G}=this,R=B(Ai("msgHash",C));if(G==null||![0,1,2,3].includes(G))throw new Error("recovery id invalid");const W=G===2||G===3?L+e.n:L;if(W>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const ne=(G&1)===0?"02":"03",ae=d.fromHex(ne+b(W)),oe=h(W),ye=u(-R*oe),me=u(z*oe),Ke=d.BASE.multiplyAndAddUnsafe(ae,ye,me);if(!Ke)throw new Error("point at infinify");return Ke.assertValidity(),Ke}hasHighS(){return E(this.s)}normalizeS(){return this.hasHighS()?new N(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return Lf(this.toDERHex())}toDERHex(){return Wl.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Lf(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}const I={isValidPrivateKey(T){try{return p(T),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const T=j8(e.n);return cse(e.randomBytes(T),e.n)},precompute(T=8,C=d.BASE){return C._setWindowSize(T),C.multiply(BigInt(3)),C}};function P(T,C=!0){return d.fromPrivateKey(T).toRawBytes(C)}function k(T){const C=T instanceof Uint8Array,L=typeof T=="string",z=(C||L)&&T.length;return C?z===s||z===a:L?z===2*s||z===2*a:T instanceof d}function U(T,C,L=!0){if(k(T))throw new Error("first arg must be private key");if(!k(C))throw new Error("second arg must be public key");return d.fromHex(C).multiply(p(T)).toRawBytes(L)}const O=e.bits2int||function(T){const C=Au(T),L=T.length*8-e.nBitLength;return L>0?C>>BigInt(L):C},B=e.bits2int_modN||function(T){return u(O(T))},M=MS(e.nBitLength);function $(T){if(typeof T!="bigint")throw new Error("bigint expected");if(!(wo<=T&&T<M))throw new Error(`bigint expected < 2^${e.nBitLength}`);return $f(T,e.nByteLength)}function q(T,C,L=V){if(["recovered","canonical"].some(We=>We in L))throw new Error("sign() legacy options not supported");const{hash:z,randomBytes:G}=e;let{lowS:R,prehash:W,extraEntropy:ne}=L;R==null&&(R=!0),T=Ai("msgHash",T),W&&(T=Ai("prehashed msgHash",z(T)));const ae=B(T),oe=p(C),ye=[$(oe),$(ae)];if(ne!=null){const We=ne===!0?G(t.BYTES):ne;ye.push(Ai("extraEntropy",We))}const me=Lm(...ye),Ke=ae;function Be(We){const Kt=O(We);if(!y(Kt))return;const an=h(Kt),tn=d.BASE.multiply(Kt).toAffine(),Lt=u(tn.x);if(Lt===wo)return;const fn=u(an*u(Ke+Lt*oe));if(fn===wo)return;let hi=(tn.x===Lt?0:2)|Number(tn.y&ai),Zu=fn;return R&&E(fn)&&(Zu=v(fn),hi^=1),new N(Lt,Zu,hi)}return{seed:me,k2sig:Be}}const V={lowS:e.lowS,prehash:!1},te={lowS:e.lowS,prehash:!1};function de(T,C,L=V){const{seed:z,k2sig:G}=q(T,C,L),R=e;return L8(R.hash.outputLen,R.nByteLength,R.hmac)(z,G)}d.BASE._setWindowSize(8);function Z(T,C,L,z=te){var tn;const G=T;if(C=Ai("msgHash",C),L=Ai("publicKey",L),"strict"in z)throw new Error("options.strict was renamed to lowS");const{lowS:R,prehash:W}=z;let ne,ae;try{if(typeof G=="string"||G instanceof Uint8Array)try{ne=N.fromDER(G)}catch(Lt){if(!(Lt instanceof Wl.Err))throw Lt;ne=N.fromCompact(G)}else if(typeof G=="object"&&typeof G.r=="bigint"&&typeof G.s=="bigint"){const{r:Lt,s:fn}=G;ne=new N(Lt,fn)}else throw new Error("PARSE");ae=d.fromHex(L)}catch(Lt){if(Lt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(R&&ne.hasHighS())return!1;W&&(C=e.hash(C));const{r:oe,s:ye}=ne,me=B(C),Ke=h(ye),Be=u(me*Ke),We=u(oe*Ke),Kt=(tn=d.BASE.multiplyAndAddUnsafe(ae,Be,We))==null?void 0:tn.toAffine();return Kt?u(Kt.x)===oe:!1}return{CURVE:e,getPublicKey:P,getSharedSecret:U,sign:de,verify:Z,ProjectivePoint:d,Signature:N,utils:I}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function yse(n){return{hash:n,hmac:(e,...t)=>w8(n,e,sre(...t)),randomBytes:ire}}function wse(n,e){const t=r=>mse({...n,...yse(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const z8=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Q3=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),bse=BigInt(1),AC=BigInt(2),Z3=(n,e)=>(n+e/AC)/e;function vse(n){const e=z8,t=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),c=BigInt(23),u=BigInt(44),h=BigInt(88),d=n*n*n%e,p=d*d*n%e,m=Qs(p,t,e)*p%e,y=Qs(m,t,e)*p%e,b=Qs(y,AC,e)*d%e,E=Qs(b,s,e)*b%e,v=Qs(E,a,e)*E%e,A=Qs(v,u,e)*v%e,N=Qs(A,h,e)*A%e,I=Qs(N,u,e)*v%e,P=Qs(I,t,e)*p%e,k=Qs(P,c,e)*E%e,U=Qs(k,r,e)*d%e,O=Qs(U,AC,e);if(!_C.eql(_C.sqr(O),n))throw new Error("Cannot find square root");return O}const _C=ose(z8,void 0,void 0,{sqrt:vse}),pc=wse({a:BigInt(0),b:BigInt(7),Fp:_C,n:Q3,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Q3,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-bse*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=t,c=BigInt("0x100000000000000000000000000000000"),u=Z3(a*n,e),h=Z3(-r*n,e);let d=as(n-u*t-h*s,e),p=as(-u*r-h*a,e);const m=d>c,y=p>c;if(m&&(d=e-d),y&&(p=e-p),d>c||p>c)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:m,k1:d,k2neg:y,k2:p}}}},v8);BigInt(0);pc.ProjectivePoint;const $m="0x0000000000000000000000000000000000000000",J3="0x0000000000000000000000000000000000000000000000000000000000000000",X3=BigInt(0),eP=BigInt(1),tP=BigInt(2),nP=BigInt(27),rP=BigInt(28),A0=BigInt(35),rd={};function sP(n){return Ro(hr(n),32)}var Ld,$d,Fd,au;const Ei=class Ei{constructor(e,t,r,s){ie(this,Ld);ie(this,$d);ie(this,Fd);ie(this,au);Sy(e,rd,"Signature"),F(this,Ld,t),F(this,$d,r),F(this,Fd,s),F(this,au,null)}get r(){return S(this,Ld)}set r(e){Y(Sd(e)===32,"invalid r","value",e),F(this,Ld,Ae(e))}get s(){return S(this,$d)}set s(e){Y(Sd(e)===32,"invalid s","value",e);const t=Ae(e);Y(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),F(this,$d,t)}get v(){return S(this,Fd)}set v(e){const t=rt(e,"value");Y(t===27||t===28,"invalid v","v",e),F(this,Fd,t)}get networkV(){return S(this,au)}get legacyChainId(){const e=this.networkV;return e==null?null:Ei.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=ot(this.s);return this.yParity&&(e[0]|=128),Ae(e)}get compactSerialized(){return En([this.r,this.yParityAndS])}get serialized(){return En([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Ei(rd,this.r,this.s,this.v);return this.networkV&&F(e,au,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=De(e,"v");return t==nP||t==rP?X3:(Y(t>=A0,"invalid EIP-155 v","v",e),(t-A0)/tP)}static getChainIdV(e,t){return De(e)*tP+BigInt(35+t-27)}static getNormalizedV(e){const t=De(e);return t===X3||t===nP?27:t===eP||t===rP?28:(Y(t>=A0,"invalid v","v",e),t&eP?27:28)}static from(e){function t(d,p){Y(d,p,"signature",e)}if(e==null)return new Ei(rd,J3,J3,27);if(typeof e=="string"){const d=ot(e,"signature");if(d.length===64){const p=Ae(d.slice(0,32)),m=d.slice(32,64),y=m[0]&128?28:27;return m[0]&=127,new Ei(rd,p,Ae(m),y)}if(d.length===65){const p=Ae(d.slice(0,32)),m=d.slice(32,64);t((m[0]&128)===0,"non-canonical s");const y=Ei.getNormalizedV(d[64]);return new Ei(rd,p,Ae(m),y)}t(!1,"invalid raw signature length")}if(e instanceof Ei)return e.clone();const r=e.r;t(r!=null,"missing r");const s=sP(r),a=function(d,p){if(d!=null)return sP(d);if(p!=null){t(en(p,32),"invalid yParityAndS");const m=ot(p);return m[0]&=127,Ae(m)}t(!1,"missing s")}(e.s,e.yParityAndS);t((ot(a)[0]&128)==0,"non-canonical s");const{networkV:c,v:u}=function(d,p,m){if(d!=null){const y=De(d);return{networkV:y>=A0?y:void 0,v:Ei.getNormalizedV(y)}}if(p!=null)return t(en(p,32),"invalid yParityAndS"),{v:ot(p)[0]&128?28:27};if(m!=null){switch(rt(m,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),h=new Ei(rd,s,a,u);return c&&F(h,au,c),t(e.yParity==null||rt(e.yParity,"sig.yParity")===h.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===h.yParityAndS,"yParityAndS mismatch"),h}};Ld=new WeakMap,$d=new WeakMap,Fd=new WeakMap,au=new WeakMap;let ls=Ei;var co;const $l=class $l{constructor(e){ie(this,co);Y(Sd(e)===32,"invalid private key","privateKey","[REDACTED]"),F(this,co,Ae(e))}get privateKey(){return S(this,co)}get publicKey(){return $l.computePublicKey(S(this,co))}get compressedPublicKey(){return $l.computePublicKey(S(this,co),!0)}sign(e){Y(Sd(e)===32,"invalid digest length","digest",e);const t=pc.sign(Mr(e),Mr(S(this,co)),{lowS:!0});return ls.from({r:Zc(t.r,32),s:Zc(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=$l.computePublicKey(e);return Ae(pc.getSharedSecret(Mr(S(this,co)),ot(t),!1))}static computePublicKey(e,t){let r=ot(e,"key");if(r.length===32){const a=pc.getPublicKey(r,!!t);return Ae(a)}if(r.length===64){const a=new Uint8Array(65);a[0]=4,a.set(r,1),r=a}const s=pc.ProjectivePoint.fromHex(r);return Ae(s.toRawBytes(t))}static recoverPublicKey(e,t){Y(Sd(e)===32,"invalid digest length","digest",e);const r=ls.from(t);let s=pc.Signature.fromCompact(Mr(En([r.r,r.s])));s=s.addRecoveryBit(r.yParity);const a=s.recoverPublicKey(Mr(e));return Y(a!=null,"invalid signature for digest","signature",t),"0x"+a.toHex(!1)}static addPoints(e,t,r){const s=pc.ProjectivePoint.fromHex($l.computePublicKey(e).substring(2)),a=pc.ProjectivePoint.fromHex($l.computePublicKey(t).substring(2));return"0x"+s.add(a).toHex(!!r)}};co=new WeakMap;let Fm=$l;const Ese=BigInt(0),Ase=BigInt(36);function iP(n){n=n.toLowerCase();const e=n.substring(2).split(""),t=new Uint8Array(40);for(let s=0;s<40;s++)t[s]=e[s].charCodeAt(0);const r=ot(Pn(t));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(r[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const LS={};for(let n=0;n<10;n++)LS[String(n)]=String(n);for(let n=0;n<26;n++)LS[String.fromCharCode(65+n)]=String(10+n);const aP=15;function _se(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(r=>LS[r]).join("");for(;e.length>=aP;){let r=e.substring(0,aP);e=parseInt(r,10)%97+e.substring(r.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const Cse=function(){const n={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];n[t]=BigInt(e)}return n}();function Sse(n){n=n.toLowerCase();let e=Ese;for(let t=0;t<n.length;t++)e=e*Ase+Cse[n[t]];return e}function Dt(n){if(Y(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const e=iP(n);return Y(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===n,"bad address checksum","address",n),e}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Y(n.substring(2,4)===_se(n),"bad icap checksum","address",n);let e=Sse(n.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return iP("0x"+e)}Y(!1,"invalid address","address",n)}function Nse(n){const e=Dt(n.from);let r=De(n.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,Dt(vn(Pn(Jc([e,r])),12))}function q8(n){return n&&typeof n.getAddress=="function"}async function Z1(n,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(he(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),Y(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),Dt(t)}function $r(n,e){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?Dt(n):(he(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Z1(n,e.resolveName(n)));if(q8(n))return Z1(n,n.getAddress());if(n&&typeof n.then=="function")return Z1(n,n);Y(!1,"unsupported addressable value","target",n)}const to={};function xe(n,e){let t=!1;return e<0&&(t=!0,e*=-1),new Sr(to,`${t?"":"u"}int${e}`,n,{signed:t,width:e})}function Nt(n,e){return new Sr(to,`bytes${e||""}`,n,{size:e})}const oP=Symbol.for("_ethers_typed");var ou;const no=class no{constructor(e,t,r,s){ee(this,"type");ee(this,"value");ie(this,ou);ee(this,"_typedSymbol");s==null&&(s=null),Sy(to,e,"Typed"),qe(this,{_typedSymbol:oP,type:t,value:r}),F(this,ou,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return S(this,ou)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return S(this,ou)===!0?-1:S(this,ou)===!1?this.value.length:null}static from(e,t){return new no(to,e,t)}static uint8(e){return xe(e,8)}static uint16(e){return xe(e,16)}static uint24(e){return xe(e,24)}static uint32(e){return xe(e,32)}static uint40(e){return xe(e,40)}static uint48(e){return xe(e,48)}static uint56(e){return xe(e,56)}static uint64(e){return xe(e,64)}static uint72(e){return xe(e,72)}static uint80(e){return xe(e,80)}static uint88(e){return xe(e,88)}static uint96(e){return xe(e,96)}static uint104(e){return xe(e,104)}static uint112(e){return xe(e,112)}static uint120(e){return xe(e,120)}static uint128(e){return xe(e,128)}static uint136(e){return xe(e,136)}static uint144(e){return xe(e,144)}static uint152(e){return xe(e,152)}static uint160(e){return xe(e,160)}static uint168(e){return xe(e,168)}static uint176(e){return xe(e,176)}static uint184(e){return xe(e,184)}static uint192(e){return xe(e,192)}static uint200(e){return xe(e,200)}static uint208(e){return xe(e,208)}static uint216(e){return xe(e,216)}static uint224(e){return xe(e,224)}static uint232(e){return xe(e,232)}static uint240(e){return xe(e,240)}static uint248(e){return xe(e,248)}static uint256(e){return xe(e,256)}static uint(e){return xe(e,256)}static int8(e){return xe(e,-8)}static int16(e){return xe(e,-16)}static int24(e){return xe(e,-24)}static int32(e){return xe(e,-32)}static int40(e){return xe(e,-40)}static int48(e){return xe(e,-48)}static int56(e){return xe(e,-56)}static int64(e){return xe(e,-64)}static int72(e){return xe(e,-72)}static int80(e){return xe(e,-80)}static int88(e){return xe(e,-88)}static int96(e){return xe(e,-96)}static int104(e){return xe(e,-104)}static int112(e){return xe(e,-112)}static int120(e){return xe(e,-120)}static int128(e){return xe(e,-128)}static int136(e){return xe(e,-136)}static int144(e){return xe(e,-144)}static int152(e){return xe(e,-152)}static int160(e){return xe(e,-160)}static int168(e){return xe(e,-168)}static int176(e){return xe(e,-176)}static int184(e){return xe(e,-184)}static int192(e){return xe(e,-192)}static int200(e){return xe(e,-200)}static int208(e){return xe(e,-208)}static int216(e){return xe(e,-216)}static int224(e){return xe(e,-224)}static int232(e){return xe(e,-232)}static int240(e){return xe(e,-240)}static int248(e){return xe(e,-248)}static int256(e){return xe(e,-256)}static int(e){return xe(e,-256)}static bytes1(e){return Nt(e,1)}static bytes2(e){return Nt(e,2)}static bytes3(e){return Nt(e,3)}static bytes4(e){return Nt(e,4)}static bytes5(e){return Nt(e,5)}static bytes6(e){return Nt(e,6)}static bytes7(e){return Nt(e,7)}static bytes8(e){return Nt(e,8)}static bytes9(e){return Nt(e,9)}static bytes10(e){return Nt(e,10)}static bytes11(e){return Nt(e,11)}static bytes12(e){return Nt(e,12)}static bytes13(e){return Nt(e,13)}static bytes14(e){return Nt(e,14)}static bytes15(e){return Nt(e,15)}static bytes16(e){return Nt(e,16)}static bytes17(e){return Nt(e,17)}static bytes18(e){return Nt(e,18)}static bytes19(e){return Nt(e,19)}static bytes20(e){return Nt(e,20)}static bytes21(e){return Nt(e,21)}static bytes22(e){return Nt(e,22)}static bytes23(e){return Nt(e,23)}static bytes24(e){return Nt(e,24)}static bytes25(e){return Nt(e,25)}static bytes26(e){return Nt(e,26)}static bytes27(e){return Nt(e,27)}static bytes28(e){return Nt(e,28)}static bytes29(e){return Nt(e,29)}static bytes30(e){return Nt(e,30)}static bytes31(e){return Nt(e,31)}static bytes32(e){return Nt(e,32)}static address(e){return new no(to,"address",e)}static bool(e){return new no(to,"bool",!!e)}static bytes(e){return new no(to,"bytes",e)}static string(e){return new no(to,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new no(to,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===oP}static dereference(e,t){if(no.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}};ou=new WeakMap;let Sr=no;class Tse extends Po{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=Sr.dereference(t,"string");try{r=Dt(r)}catch(s){return this._throwError(s.message,t)}return e.writeValue(r)}decode(e){return Dt(Zc(e.readValue(),20))}}class Ose extends Po{constructor(t){super(t.name,t.type,"_",t.dynamic);ee(this,"coder");this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,r){return this.coder.encode(t,r)}decode(t){return this.coder.decode(t)}}function G8(n,e,t){let r=[];if(Array.isArray(t))r=t;else if(t&&typeof t=="object"){let h={};r=e.map(d=>{const p=d.localName;return he(p,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:d},value:t}),he(!h[p],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:d},value:t}),h[p]=!0,t[p]})}else Y(!1,"invalid tuple value","tuple",t);Y(e.length===r.length,"types/value length mismatch","tuple",t);let s=new mC,a=new mC,c=[];e.forEach((h,d)=>{let p=r[d];if(h.dynamic){let m=a.length;h.encode(a,p);let y=s.writeUpdatableValue();c.push(b=>{y(b+m)})}else h.encode(s,p)}),c.forEach(h=>{h(s.length)});let u=n.appendWriter(s);return u+=n.appendWriter(a),u}function V8(n,e){let t=[],r=[],s=n.subReader(0);return e.forEach(a=>{let c=null;if(a.dynamic){let u=n.readIndex(),h=s.subReader(u);try{c=a.decode(h)}catch(d){if(ur(d,"BUFFER_OVERRUN"))throw d;c=d,c.baseType=a.name,c.name=a.localName,c.type=a.type}}else try{c=a.decode(n)}catch(u){if(ur(u,"BUFFER_OVERRUN"))throw u;c=u,c.baseType=a.name,c.name=a.localName,c.type=a.type}if(c==null)throw new Error("investigate");t.push(c),r.push(a.localName||null)}),kf.fromItems(t,r)}class Rse extends Po{constructor(t,r,s){const a=t.type+"["+(r>=0?r:"")+"]",c=r===-1||t.dynamic;super("array",a,s,c);ee(this,"coder");ee(this,"length");qe(this,{coder:t,length:r})}defaultValue(){const t=this.coder.defaultValue(),r=[];for(let s=0;s<this.length;s++)r.push(t);return r}encode(t,r){const s=Sr.dereference(r,"array");Array.isArray(s)||this._throwError("expected array value",s);let a=this.length;a===-1&&(a=s.length,t.writeValue(s.length)),Zk(s.length,a,"coder array"+(this.localName?" "+this.localName:""));let c=[];for(let u=0;u<s.length;u++)c.push(this.coder);return G8(t,c,s)}decode(t){let r=this.length;r===-1&&(r=t.readIndex(),he(r*Lr<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:r*Lr,length:t.dataLength}));let s=[];for(let a=0;a<r;a++)s.push(new Ose(this.coder));return V8(t,s)}}class Ise extends Po{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const r=Sr.dereference(t,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class K8 extends Po{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Mr(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class xse extends K8{constructor(e){super("bytes",e)}decode(e){return Ae(super.decode(e))}}class Pse extends Po{constructor(t,r){let s="bytes"+String(t);super(s,s,r,!1);ee(this,"size");qe(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,r){let s=Mr(Sr.dereference(r,this.type));return s.length!==this.size&&this._throwError("incorrect data length",r),t.writeBytes(s)}decode(t){return Ae(t.readBytes(this.size))}}const Dse=new Uint8Array([]);class Use extends Po{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(Dse)}decode(e){return e.readBytes(0),null}}const kse=BigInt(0),Bse=BigInt(1),Mse=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Lse extends Po{constructor(t,r,s){const a=(r?"int":"uint")+t*8;super(a,a,s,!1);ee(this,"size");ee(this,"signed");qe(this,{size:t,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,r){let s=De(Sr.dereference(r,this.type)),a=Kl(Mse,Lr*8);if(this.signed){let c=Kl(a,this.size*8-1);(s>c||s<-(c+Bse))&&this._throwError("value out-of-bounds",r),s=e8(s,8*Lr)}else(s<kse||s>Kl(a,this.size*8))&&this._throwError("value out-of-bounds",r);return t.writeValue(s)}decode(t){let r=Kl(t.readValue(),this.size*8);return this.signed&&(r=yb(r,this.size*8)),r}}class $se extends K8{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,_a(Sr.dereference(t,"string")))}decode(e){return wb(super.decode(e))}}class _0 extends Po{constructor(t,r){let s=!1;const a=[];t.forEach(u=>{u.dynamic&&(s=!0),a.push(u.type)});const c="tuple("+a.join(",")+")";super("tuple",c,r,s);ee(this,"coders");qe(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach(s=>{t.push(s.defaultValue())});const r=this.coders.reduce((s,a)=>{const c=a.localName;return c&&(s[c]||(s[c]=0),s[c]++),s},{});return this.coders.forEach((s,a)=>{let c=s.localName;!c||r[c]!==1||(c==="length"&&(c="_length"),t[c]==null&&(t[c]=t[a]))}),Object.freeze(t)}encode(t,r){const s=Sr.dereference(r,"tuple");return G8(t,this.coders,s)}decode(t){return V8(t,this.coders)}}function J1(n,e){return{address:Dt(n),storageKeys:e.map((t,r)=>(Y(en(t,32),"invalid slot",`storageKeys[${r}]`,t),t.toLowerCase()))}}function Yu(n){if(Array.isArray(n))return n.map((t,r)=>Array.isArray(t)?(Y(t.length===2,"invalid slot set",`value[${r}]`,t),J1(t[0],t[1])):(Y(t!=null&&typeof t=="object","invalid address-slot set","value",n),J1(t.address,t.storageKeys)));Y(n!=null&&typeof n=="object","invalid access list","value",n);const e=Object.keys(n).map(t=>{const r=n[t].reduce((s,a)=>(s[a]=!0,s),{});return J1(t,Object.keys(r).sort())});return e.sort((t,r)=>t.address.localeCompare(r.address)),e}function W8(n){return{address:Dt(n.address),nonce:De(n.nonce!=null?n.nonce:0),chainId:De(n.chainId!=null?n.chainId:0),signature:ls.from(n.signature)}}function Fse(n){let e;return typeof n=="string"?e=Fm.computePublicKey(n,!1):e=n.publicKey,Dt(Pn("0x"+e.substring(4)).substring(26))}function jse(n,e){return Fse(Fm.recoverPublicKey(n,e))}const Kn=BigInt(0),Hse=BigInt(2),zse=BigInt(27),qse=BigInt(28),Gse=BigInt(35),Vse=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),X1=4096*32;function Kse(n){return{blobToKzgCommitment:r=>{if("computeBlobProof"in n){if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return ot(n.blobToKzgCommitment(Ae(r)))}else if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return ot(n.blobToKzgCommitment(r));if("blobToKZGCommitment"in n&&typeof n.blobToKZGCommitment=="function")return ot(n.blobToKZGCommitment(Ae(r)));Y(!1,"unsupported KZG library","kzg",n)},computeBlobKzgProof:(r,s)=>{if("computeBlobProof"in n&&typeof n.computeBlobProof=="function")return ot(n.computeBlobProof(Ae(r),Ae(s)));if("computeBlobKzgProof"in n&&typeof n.computeBlobKzgProof=="function")return n.computeBlobKzgProof(r,s);if("computeBlobKZGProof"in n&&typeof n.computeBlobKZGProof=="function")return ot(n.computeBlobKZGProof(Ae(r),Ae(s)));Y(!1,"unsupported KZG library","kzg",n)}}}function cP(n,e){let t=n.toString(16);for(;t.length<2;)t="0"+t;return t+=Jf(e).substring(4),"0x"+t}function Xf(n){return n==="0x"?null:Dt(n)}function dv(n,e){try{return Yu(n)}catch(t){Y(!1,t.message,e,n)}}function Wse(n,e){try{if(!Array.isArray(n))throw new Error("authorizationList: invalid array");const t=[];for(let r=0;r<n.length;r++){const s=n[r];if(!Array.isArray(s))throw new Error(`authorization[${r}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!s[1])throw new Error(`authorization[${r}]: null address`);t.push({address:Xf(s[1]),nonce:Vt(s[2],"nonce"),chainId:Vt(s[0],"chainId"),signature:ls.from({yParity:Qu(s[3],"yParity"),r:Ro(s[4],32),s:Ro(s[5],32)})})}return t}catch(t){Y(!1,t.message,e,n)}}function Qu(n,e){return n==="0x"?0:rt(n,e)}function Vt(n,e){if(n==="0x")return Kn;const t=De(n,e);return Y(t<=Vse,"value exceeds uint size",e,t),t}function wt(n,e){const t=De(n,"value"),r=hr(t);return Y(r.length<=32,"value too large",`tx.${e}`,t),r}function fv(n){return Yu(n).map(e=>[e.address,e.storageKeys])}function Yse(n){return n.map(e=>[wt(e.chainId,"chainId"),e.address,wt(e.nonce,"nonce"),wt(e.signature.yParity,"yParity"),e.signature.r,e.signature.s])}function Qse(n,e){Y(Array.isArray(n),`invalid ${e}`,"value",n);for(let t=0;t<n.length;t++)Y(en(n[t],32),"invalid ${ param } hash",`value[${t}]`,n[t]);return n}function Zse(n){const e=Ny(n);Y(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",n);const t={type:0,nonce:Qu(e[0],"nonce"),gasPrice:Vt(e[1],"gasPrice"),gasLimit:Vt(e[2],"gasLimit"),to:Xf(e[3]),value:Vt(e[4],"value"),data:Ae(e[5]),chainId:Kn};if(e.length===6)return t;const r=Vt(e[6],"v"),s=Vt(e[7],"r"),a=Vt(e[8],"s");if(s===Kn&&a===Kn)t.chainId=r;else{let c=(r-Gse)/Hse;c<Kn&&(c=Kn),t.chainId=c,Y(c!==Kn||r===zse||r===qse,"non-canonical legacy v","v",e[6]),t.signature=ls.from({r:Ro(e[7],32),s:Ro(e[8],32),v:r})}return t}function Jse(n,e){const t=[wt(n.nonce,"nonce"),wt(n.gasPrice||0,"gasPrice"),wt(n.gasLimit,"gasLimit"),n.to||"0x",wt(n.value,"value"),n.data];let r=Kn;if(n.chainId!=Kn)r=De(n.chainId,"tx.chainId"),Y(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(n.signature){const a=n.signature.legacyChainId;a!=null&&(r=a)}if(!e)return r!==Kn&&(t.push(hr(r)),t.push("0x"),t.push("0x")),Jc(t);let s=BigInt(27+e.yParity);return r!==Kn?s=ls.getChainIdV(r,e.v):BigInt(e.v)!==s&&Y(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(hr(s)),t.push(hr(e.r)),t.push(hr(e.s)),Jc(t)}function pv(n,e){let t;try{if(t=Qu(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{Y(!1,"invalid yParity","yParity",e[0])}const r=Ro(e[1],32),s=Ro(e[2],32),a=ls.from({r,s,yParity:t});n.signature=a}function Xse(n){const e=Ny(ot(n).slice(1));Y(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Ae(n));const t={type:2,chainId:Vt(e[0],"chainId"),nonce:Qu(e[1],"nonce"),maxPriorityFeePerGas:Vt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Vt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Vt(e[4],"gasLimit"),to:Xf(e[5]),value:Vt(e[6],"value"),data:Ae(e[7]),accessList:dv(e[8],"accessList")};return e.length===9||pv(t,e.slice(9)),t}function eie(n,e){const t=[wt(n.chainId,"chainId"),wt(n.nonce,"nonce"),wt(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),wt(n.maxFeePerGas||0,"maxFeePerGas"),wt(n.gasLimit,"gasLimit"),n.to||"0x",wt(n.value,"value"),n.data,fv(n.accessList||[])];return e&&(t.push(wt(e.yParity,"yParity")),t.push(hr(e.r)),t.push(hr(e.s))),En(["0x02",Jc(t)])}function tie(n){const e=Ny(ot(n).slice(1));Y(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Ae(n));const t={type:1,chainId:Vt(e[0],"chainId"),nonce:Qu(e[1],"nonce"),gasPrice:Vt(e[2],"gasPrice"),gasLimit:Vt(e[3],"gasLimit"),to:Xf(e[4]),value:Vt(e[5],"value"),data:Ae(e[6]),accessList:dv(e[7],"accessList")};return e.length===8||pv(t,e.slice(8)),t}function nie(n,e){const t=[wt(n.chainId,"chainId"),wt(n.nonce,"nonce"),wt(n.gasPrice||0,"gasPrice"),wt(n.gasLimit,"gasLimit"),n.to||"0x",wt(n.value,"value"),n.data,fv(n.accessList||[])];return e&&(t.push(wt(e.yParity,"recoveryParam")),t.push(hr(e.r)),t.push(hr(e.s))),En(["0x01",Jc(t)])}function rie(n){let e=Ny(ot(n).slice(1)),t="3",r=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";const a=e[1],c=e[2],u=e[3];Y(Array.isArray(a),"invalid network format: blobs not an array","fields[1]",a),Y(Array.isArray(c),"invalid network format: commitments not an array","fields[2]",c),Y(Array.isArray(u),"invalid network format: proofs not an array","fields[3]",u),Y(a.length===c.length,"invalid network format: blobs/commitments length mismatch","fields",e),Y(a.length===u.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let h=0;h<e[1].length;h++)r.push({data:a[h],commitment:c[h],proof:u[h]});e=e[0]}Y(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",Ae(n));const s={type:3,chainId:Vt(e[0],"chainId"),nonce:Qu(e[1],"nonce"),maxPriorityFeePerGas:Vt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Vt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Vt(e[4],"gasLimit"),to:Xf(e[5]),value:Vt(e[6],"value"),data:Ae(e[7]),accessList:dv(e[8],"accessList"),maxFeePerBlobGas:Vt(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(s.blobs=r),Y(s.to!=null,`invalid address for transaction type: ${t}`,"data",n),Y(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",n);for(let a=0;a<s.blobVersionedHashes.length;a++)Y(en(s.blobVersionedHashes[a],32),`invalid blobVersionedHash at index ${a}: must be length 32`,"data",n);return e.length===11||pv(s,e.slice(11)),s}function sie(n,e,t){const r=[wt(n.chainId,"chainId"),wt(n.nonce,"nonce"),wt(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),wt(n.maxFeePerGas||0,"maxFeePerGas"),wt(n.gasLimit,"gasLimit"),n.to||$m,wt(n.value,"value"),n.data,fv(n.accessList||[]),wt(n.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Qse(n.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(wt(e.yParity,"yParity")),r.push(hr(e.r)),r.push(hr(e.s)),t)?En(["0x03",Jc([r,t.map(s=>s.data),t.map(s=>s.commitment),t.map(s=>s.proof)])]):En(["0x03",Jc(r)])}function iie(n){const e=Ny(ot(n).slice(1));Y(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",Ae(n));const t={type:4,chainId:Vt(e[0],"chainId"),nonce:Qu(e[1],"nonce"),maxPriorityFeePerGas:Vt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Vt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Vt(e[4],"gasLimit"),to:Xf(e[5]),value:Vt(e[6],"value"),data:Ae(e[7]),accessList:dv(e[8],"accessList"),authorizationList:Wse(e[9],"authorizationList")};return e.length===10||pv(t,e.slice(10)),t}function aie(n,e){const t=[wt(n.chainId,"chainId"),wt(n.nonce,"nonce"),wt(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),wt(n.maxFeePerGas||0,"maxFeePerGas"),wt(n.gasLimit,"gasLimit"),n.to||"0x",wt(n.value,"value"),n.data,fv(n.accessList||[]),Yse(n.authorizationList||[])];return e&&(t.push(wt(e.yParity,"yParity")),t.push(hr(e.r)),t.push(hr(e.s))),En(["0x04",Jc(t)])}var Ni,jd,Hd,zd,qd,Gd,Vd,Kd,Wd,Yd,Qd,Zd,cu,Cc,sa,Sc,Jd,Xd,F0;const na=class na{constructor(){ie(this,Xd);ie(this,Ni);ie(this,jd);ie(this,Hd);ie(this,zd);ie(this,qd);ie(this,Gd);ie(this,Vd);ie(this,Kd);ie(this,Wd);ie(this,Yd);ie(this,Qd);ie(this,Zd);ie(this,cu);ie(this,Cc);ie(this,sa);ie(this,Sc);ie(this,Jd);F(this,Ni,null),F(this,jd,null),F(this,zd,0),F(this,qd,Kn),F(this,Gd,null),F(this,Vd,null),F(this,Kd,null),F(this,Hd,"0x"),F(this,Wd,Kn),F(this,Yd,Kn),F(this,Qd,null),F(this,Zd,null),F(this,cu,null),F(this,Cc,null),F(this,sa,null),F(this,Sc,null),F(this,Jd,null)}get type(){return S(this,Ni)}set type(e){switch(e){case null:F(this,Ni,null);break;case 0:case"legacy":F(this,Ni,0);break;case 1:case"berlin":case"eip-2930":F(this,Ni,1);break;case 2:case"london":case"eip-1559":F(this,Ni,2);break;case 3:case"cancun":case"eip-4844":F(this,Ni,3);break;case 4:case"pectra":case"eip-7702":F(this,Ni,4);break;default:Y(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=S(this,jd);return e==null&&this.type===3?$m:e}set to(e){F(this,jd,e==null?null:Dt(e))}get nonce(){return S(this,zd)}set nonce(e){F(this,zd,rt(e,"value"))}get gasLimit(){return S(this,qd)}set gasLimit(e){F(this,qd,De(e))}get gasPrice(){const e=S(this,Gd);return e==null&&(this.type===0||this.type===1)?Kn:e}set gasPrice(e){F(this,Gd,e==null?null:De(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=S(this,Vd);return e??(this.type===2||this.type===3?Kn:null)}set maxPriorityFeePerGas(e){F(this,Vd,e==null?null:De(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=S(this,Kd);return e??(this.type===2||this.type===3?Kn:null)}set maxFeePerGas(e){F(this,Kd,e==null?null:De(e,"maxFeePerGas"))}get data(){return S(this,Hd)}set data(e){F(this,Hd,Ae(e))}get value(){return S(this,Wd)}set value(e){F(this,Wd,De(e,"value"))}get chainId(){return S(this,Yd)}set chainId(e){F(this,Yd,De(e))}get signature(){return S(this,Qd)||null}set signature(e){F(this,Qd,e==null?null:ls.from(e))}get accessList(){const e=S(this,Zd)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){F(this,Zd,e==null?null:Yu(e))}get authorizationList(){const e=S(this,Jd)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){F(this,Jd,e==null?null:e.map(t=>W8(t)))}get maxFeePerBlobGas(){const e=S(this,cu);return e==null&&this.type===3?Kn:e}set maxFeePerBlobGas(e){F(this,cu,e==null?null:De(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=S(this,Cc);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){Y(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)Y(en(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}F(this,Cc,e)}get blobs(){return S(this,Sc)==null?null:S(this,Sc).map(e=>Object.assign({},e))}set blobs(e){if(e==null){F(this,Sc,null);return}const t=[],r=[];for(let s=0;s<e.length;s++){const a=e[s];if(RS(a)){he(S(this,sa),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let c=ot(a);if(Y(c.length<=X1,"blob is too large",`blobs[${s}]`,a),c.length!==X1){const d=new Uint8Array(X1);d.set(c),c=d}const u=S(this,sa).blobToKzgCommitment(c),h=Ae(S(this,sa).computeBlobKzgProof(c,u));t.push({data:Ae(c),commitment:Ae(u),proof:h}),r.push(cP(1,u))}else{const c=Ae(a.commitment);t.push({data:Ae(a.data),commitment:c,proof:Ae(a.proof)}),r.push(cP(1,c))}}F(this,Sc,t),F(this,Cc,r)}get kzg(){return S(this,sa)}set kzg(e){e==null?F(this,sa,null):F(this,sa,Kse(e))}get hash(){return this.signature==null?null:Pn(pe(this,Xd,F0).call(this,!0,!1))}get unsignedHash(){return Pn(this.unsignedSerialized)}get from(){return this.signature==null?null:jse(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Fm.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return pe(this,Xd,F0).call(this,!0,!0)}get unsignedSerialized(){return pe(this,Xd,F0).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,s=S(this,cu)!=null||S(this,Cc);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&he(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),he(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),he(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const a=[];return this.type!=null?a.push(this.type):this.authorizationList&&this.authorizationList.length?a.push(4):t?a.push(2):e?(a.push(1),r||a.push(0)):r?(a.push(1),a.push(2)):(s&&this.to||(a.push(0),a.push(1),a.push(2)),a.push(3)),a.sort(),a}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return na.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new na;if(typeof e=="string"){const r=ot(e);if(r[0]>=127)return na.from(Zse(r));switch(r[0]){case 1:return na.from(tie(r));case 2:return na.from(Xse(r));case 3:return na.from(rie(r));case 4:return na.from(iie(r))}he(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new na;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=ls.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.authorizationList!=null&&(t.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&(Y(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),Y(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(Y(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),Y(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}};Ni=new WeakMap,jd=new WeakMap,Hd=new WeakMap,zd=new WeakMap,qd=new WeakMap,Gd=new WeakMap,Vd=new WeakMap,Kd=new WeakMap,Wd=new WeakMap,Yd=new WeakMap,Qd=new WeakMap,Zd=new WeakMap,cu=new WeakMap,Cc=new WeakMap,sa=new WeakMap,Sc=new WeakMap,Jd=new WeakMap,Xd=new WeakSet,F0=function(e,t){he(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return Jse(this,r);case 1:return nie(this,r);case 2:return eie(this,r);case 3:return sie(this,r,t?this.blobs:null);case 4:return aie(this,r)}he(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Eb=na;function Bu(n){return Pn(_a(n))}var oie="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const lP=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),uP=4;function cie(n){let e=0;function t(){return n[e++]<<8|n[e++]}let r=t(),s=1,a=[0,1];for(let U=1;U<r;U++)a.push(s+=t());let c=t(),u=e;e+=c;let h=0,d=0;function p(){return h==0&&(d=d<<8|n[e++],h=8),d>>--h&1}const m=31,y=2**m,b=y>>>1,E=b>>1,v=y-1;let A=0;for(let U=0;U<m;U++)A=A<<1|p();let N=[],I=0,P=y;for(;;){let U=Math.floor(((A-I+1)*s-1)/P),O=0,B=r;for(;B-O>1;){let q=O+B>>>1;U<a[q]?B=q:O=q}if(O==0)break;N.push(O);let M=I+Math.floor(P*a[O]/s),$=I+Math.floor(P*a[O+1]/s)-1;for(;((M^$)&b)==0;)A=A<<1&v|p(),M=M<<1&v,$=$<<1&v|1;for(;M&~$&E;)A=A&b|A<<1&v>>>1|p(),M=M<<1^b,$=($^b)<<1|b|1;I=M,P=1+$-M}let k=r-4;return N.map(U=>{switch(U-k){case 3:return k+65792+(n[u++]<<16|n[u++]<<8|n[u++]);case 2:return k+256+(n[u++]<<8|n[u++]);case 1:return k+n[u++];default:return U-1}})}function lie(n){let e=0;return()=>n[e++]}function Y8(n){return lie(cie(uie(n)))}function uie(n){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,a)=>e[s.charCodeAt(0)]=a);let t=n.length,r=new Uint8Array(6*t>>3);for(let s=0,a=0,c=0,u=0;s<t;s++)u=u<<6|e[n.charCodeAt(s)],c+=6,c>=8&&(r[a++]=u>>(c-=8));return r}function hie(n){return n&1?~n>>1:n>>1}function die(n,e){let t=Array(n);for(let r=0,s=0;r<n;r++)t[r]=s+=hie(e());return t}function jm(n,e=0){let t=[];for(;;){let r=n(),s=n();if(!s)break;e+=r;for(let a=0;a<s;a++)t.push(e+a);e+=s+1}return t}function Q8(n){return Hm(()=>{let e=jm(n);if(e.length)return e})}function Z8(n){let e=[];for(;;){let t=n();if(t==0)break;e.push(fie(t,n))}for(;;){let t=n()-1;if(t<0)break;e.push(pie(t,n))}return e.flat()}function Hm(n){let e=[];for(;;){let t=n(e.length);if(!t)break;e.push(t)}return e}function J8(n,e,t){let r=Array(n).fill().map(()=>[]);for(let s=0;s<e;s++)die(n,t).forEach((a,c)=>r[c].push(a));return r}function fie(n,e){let t=1+e(),r=e(),s=Hm(e);return J8(s.length,1+n,e).flatMap((c,u)=>{let[h,...d]=c;return Array(s[u]).fill().map((p,m)=>{let y=m*r;return[h+m*t,d.map(b=>b+y)]})})}function pie(n,e){let t=1+e();return J8(t,1+n,e).map(s=>[s[0],s.slice(1)])}function gie(n){let e=[],t=jm(n);return s(r([]),[]),e;function r(a){let c=n(),u=Hm(()=>{let h=jm(n).map(d=>t[d]);if(h.length)return r(h)});return{S:c,B:u,Q:a}}function s({S:a,B:c},u,h){if(!(a&4&&h===u[u.length-1])){a&2&&(h=u[u.length-1]),a&1&&e.push(u);for(let d of c)for(let p of d.Q)s(d,[...u,p],h)}}}function mie(n){return n.toString(16).toUpperCase().padStart(2,"0")}function X8(n){return`{${mie(n)}}`}function yie(n){let e=[];for(let t=0,r=n.length;t<r;){let s=n.codePointAt(t);t+=s<65536?1:2,e.push(s)}return e}function Ff(n){let t=n.length;if(t<4096)return String.fromCodePoint(...n);let r=[];for(let s=0;s<t;)r.push(String.fromCodePoint(...n.slice(s,s+=4096)));return r.join("")}function wie(n,e){let t=n.length,r=t-e.length;for(let s=0;r==0&&s<t;s++)r=n[s]-e[s];return r}var bie="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const zm=44032,Ab=4352,_b=4449,Cb=4519,e5=19,t5=21,jf=28,Sb=t5*jf,vie=e5*Sb,Eie=zm+vie,Aie=Ab+e5,_ie=_b+t5,Cie=Cb+jf;function Rg(n){return n>>24&255}function n5(n){return n&16777215}let CC,hP,SC,j0;function Sie(){let n=Y8(bie);CC=new Map(Q8(n).flatMap((e,t)=>e.map(r=>[r,t+1<<24]))),hP=new Set(jm(n)),SC=new Map,j0=new Map;for(let[e,t]of Z8(n)){if(!hP.has(e)&&t.length==2){let[r,s]=t,a=j0.get(r);a||(a=new Map,j0.set(r,a)),a.set(s,e)}SC.set(e,t.reverse())}}function r5(n){return n>=zm&&n<Eie}function Nie(n,e){if(n>=Ab&&n<Aie&&e>=_b&&e<_ie)return zm+(n-Ab)*Sb+(e-_b)*jf;if(r5(n)&&e>Cb&&e<Cie&&(n-zm)%jf==0)return n+(e-Cb);{let t=j0.get(n);return t&&(t=t.get(e),t)?t:-1}}function s5(n){CC||Sie();let e=[],t=[],r=!1;function s(a){let c=CC.get(a);c&&(r=!0,a|=c),e.push(a)}for(let a of n)for(;;){if(a<128)e.push(a);else if(r5(a)){let c=a-zm,u=c/Sb|0,h=c%Sb/jf|0,d=c%jf;s(Ab+u),s(_b+h),d>0&&s(Cb+d)}else{let c=SC.get(a);c?t.push(...c):s(a)}if(!t.length)break;a=t.pop()}if(r&&e.length>1){let a=Rg(e[0]);for(let c=1;c<e.length;c++){let u=Rg(e[c]);if(u==0||a<=u){a=u;continue}let h=c-1;for(;;){let d=e[h+1];if(e[h+1]=e[h],e[h]=d,!h||(a=Rg(e[--h]),a<=u))break}a=Rg(e[c])}}return e}function Tie(n){let e=[],t=[],r=-1,s=0;for(let a of n){let c=Rg(a),u=n5(a);if(r==-1)c==0?r=u:e.push(u);else if(s>0&&s>=c)c==0?(e.push(r,...t),t.length=0,r=u):t.push(u),s=c;else{let h=Nie(r,u);h>=0?r=h:s==0&&c==0?(e.push(r),r=u):(t.push(u),s=c)}}return r>=0&&e.push(r,...t),e}function i5(n){return s5(n).map(n5)}function Oie(n){return Tie(s5(n))}const dP=45,a5=".",o5=65039,c5=1,Nb=n=>Array.from(n);function qm(n,e){return n.P.has(e)||n.Q.has(e)}class Rie extends Array{get is_emoji(){return!0}}let NC,l5,Yl,TC,u5,Td,e_,ud,Pl,fP,OC;function $S(){if(NC)return;let n=Y8(oie);const e=()=>jm(n),t=()=>new Set(e()),r=(p,m)=>m.forEach(y=>p.add(y));NC=new Map(Z8(n)),l5=t(),Yl=e(),TC=new Set(e().map(p=>Yl[p])),Yl=new Set(Yl),u5=t(),t();let s=Q8(n),a=n();const c=()=>{let p=new Set;return e().forEach(m=>r(p,s[m])),r(p,e()),p};Td=Hm(p=>{let m=Hm(n).map(y=>y+96);if(m.length){let y=p>=a;m[0]-=32,m=Ff(m),y&&(m=`Restricted[${m}]`);let b=c(),E=c(),v=!n();return{N:m,P:b,Q:E,M:v,R:y}}}),e_=t(),ud=new Map;let u=e().concat(Nb(e_)).sort((p,m)=>p-m);u.forEach((p,m)=>{let y=n(),b=u[m]=y?u[m-y]:{V:[],M:new Map};b.V.push(p),e_.has(p)||ud.set(p,b)});for(let{V:p,M:m}of new Set(ud.values())){let y=[];for(let E of p){let v=Td.filter(N=>qm(N,E)),A=y.find(({G:N})=>v.some(I=>N.has(I)));A||(A={G:new Set,V:[]},y.push(A)),A.V.push(E),r(A.G,v)}let b=y.flatMap(E=>Nb(E.G));for(let{G:E,V:v}of y){let A=new Set(b.filter(N=>!E.has(N)));for(let N of v)m.set(N,A)}}Pl=new Set;let h=new Set;const d=p=>Pl.has(p)?h.add(p):Pl.add(p);for(let p of Td){for(let m of p.P)d(m);for(let m of p.Q)d(m)}for(let p of Pl)!ud.has(p)&&!h.has(p)&&ud.set(p,c5);r(Pl,i5(Pl)),fP=gie(n).map(p=>Rie.from(p)).sort(wie),OC=new Map;for(let p of fP){let m=[OC];for(let y of p){let b=m.map(E=>{let v=E.get(y);return v||(v=new Map,E.set(y,v)),v});y===o5?m.push(...b):m=b}for(let y of m)y.V=p}}function FS(n){return(h5(n)?"":`${jS(gv([n]))} `)+X8(n)}function jS(n){return`"${n}"‎`}function Iie(n){if(n.length>=4&&n[2]==dP&&n[3]==dP)throw new Error(`invalid label extension: "${Ff(n.slice(0,4))}"`)}function xie(n){for(let t=n.lastIndexOf(95);t>0;)if(n[--t]!==95)throw new Error("underscore allowed only at start")}function Pie(n){let e=n[0],t=lP.get(e);if(t)throw Kg(`leading ${t}`);let r=n.length,s=-1;for(let a=1;a<r;a++){e=n[a];let c=lP.get(e);if(c){if(s==a)throw Kg(`${t} + ${c}`);s=a+1,t=c}}if(s==r)throw Kg(`trailing ${t}`)}function gv(n,e=1/0,t=X8){let r=[];Die(n[0])&&r.push("◌"),n.length>e&&(e>>=1,n=[...n.slice(0,e),8230,...n.slice(-e)]);let s=0,a=n.length;for(let c=0;c<a;c++){let u=n[c];h5(u)&&(r.push(Ff(n.slice(s,c))),r.push(t(u)),s=c+1)}return r.push(Ff(n.slice(s,a))),r.join("")}function Die(n){return $S(),Yl.has(n)}function h5(n){return $S(),u5.has(n)}function Uie(n){return Lie(kie(n,Oie,jie))}function kie(n,e,t){if(!n)return[];$S();let r=0;return n.split(a5).map(s=>{let a=yie(s),c={input:a,offset:r};r+=a.length+1;try{let u=c.tokens=Fie(a,e,t),h=u.length,d;if(!h)throw new Error("empty label");let p=c.output=u.flat();if(xie(p),!(c.emoji=h>1||u[0].is_emoji)&&p.every(y=>y<128))Iie(p),d="ASCII";else{let y=u.flatMap(b=>b.is_emoji?[]:b);if(!y.length)d="Emoji";else{if(Yl.has(p[0]))throw Kg("leading combining mark");for(let v=1;v<h;v++){let A=u[v];if(!A.is_emoji&&Yl.has(A[0]))throw Kg(`emoji + combining mark: "${Ff(u[v-1])} + ${gv([A[0]])}"`)}Pie(p);let b=Nb(new Set(y)),[E]=Mie(b);$ie(E,y),Bie(E,b),d=E.N}}c.type=d}catch(u){c.error=u}return c})}function Bie(n,e){let t,r=[];for(let s of e){let a=ud.get(s);if(a===c5)return;if(a){let c=a.M.get(s);if(t=t?t.filter(u=>c.has(u)):Nb(c),!t.length)return}else r.push(s)}if(t){for(let s of t)if(r.every(a=>qm(s,a)))throw new Error(`whole-script confusable: ${n.N}/${s.N}`)}}function Mie(n){let e=Td;for(let t of n){let r=e.filter(s=>qm(s,t));if(!r.length)throw Td.some(s=>qm(s,t))?f5(e[0],t):d5(t);if(e=r,r.length==1)break}return e}function Lie(n){return n.map(({input:e,error:t,output:r})=>{if(t){let s=t.message;throw new Error(n.length==1?s:`Invalid label ${jS(gv(e,63))}: ${s}`)}return Ff(r)}).join(a5)}function d5(n){return new Error(`disallowed character: ${FS(n)}`)}function f5(n,e){let t=FS(e),r=Td.find(s=>s.P.has(e));return r&&(t=`${r.N} ${t}`),new Error(`illegal mixture: ${n.N} + ${t}`)}function Kg(n){return new Error(`illegal placement: ${n}`)}function $ie(n,e){for(let t of e)if(!qm(n,t))throw f5(n,t);if(n.M){let t=i5(e);for(let r=1,s=t.length;r<s;r++)if(TC.has(t[r])){let a=r+1;for(let c;a<s&&TC.has(c=t[a]);a++)for(let u=r;u<a;u++)if(t[u]==c)throw new Error(`duplicate non-spacing marks: ${FS(c)}`);if(a-r>uP)throw new Error(`excessive non-spacing marks: ${jS(gv(t.slice(r-1,a)))} (${a-r}/${uP})`);r=a}}}function Fie(n,e,t){let r=[],s=[];for(n=n.slice().reverse();n.length;){let a=Hie(n);if(a)s.length&&(r.push(e(s)),s=[]),r.push(t(a));else{let c=n.pop();if(Pl.has(c))s.push(c);else{let u=NC.get(c);if(u)s.push(...u);else if(!l5.has(c))throw d5(c)}}}return s.length&&r.push(e(s)),r}function jie(n){return n.filter(e=>e!=o5)}function Hie(n,e){let t=OC,r,s=n.length;for(;s&&(t=t.get(n[--s]),!!t);){let{V:a}=t;a&&(r=a,n.length=s)}return r}const p5=new Uint8Array(32);p5.fill(0);function pP(n){return Y(n.length!==0,"invalid ENS name; empty component","comp",n),n}function g5(n){const e=_a(zie(n)),t=[];if(n.length===0)return t;let r=0;for(let s=0;s<e.length;s++)e[s]===46&&(t.push(pP(e.slice(r,s))),r=s+1);return Y(r<e.length,"invalid ENS name; empty component","name",n),t.push(pP(e.slice(r))),t}function zie(n){try{if(n.length===0)throw new Error("empty label");return Uie(n)}catch(e){Y(!1,`invalid ENS name (${e.message})`,"name",n)}}function RC(n){Y(typeof n=="string","invalid ENS name; not a string","name",n),Y(n.length,"invalid ENS name (empty label)","name",n);let e=p5;const t=g5(n);for(;t.length;)e=Pn(En([e,Pn(t.pop())]));return Ae(e)}function qie(n,e){const t=e;return Y(t<=255,"DNS encoded label cannot exceed 255","length",t),Ae(En(g5(n).map(r=>{Y(r.length<=t,`label ${JSON.stringify(n)} exceeds ${t} bytes`,"name",n);const s=new Uint8Array(r.length+1);return s.set(r,1),s[0]=s.length-1,s})))+"00"}const m5=new Uint8Array(32);m5.fill(0);const Gie=BigInt(-1),y5=BigInt(0),w5=BigInt(1),Vie=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Kie(n){const e=ot(n),t=e.length%32;return t?En([e,m5.slice(t)]):Ae(e)}const Wie=Zc(w5,32),Yie=Zc(y5,32),gP={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},t_=["name","version","chainId","verifyingContract","salt"];function mP(n){return function(e){return Y(typeof e=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const Qie={name:mP("name"),version:mP("version"),chainId:function(n){const e=De(n,"domain.chainId");return Y(e>=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(e)?Number(e):Ii(e)},verifyingContract:function(n){try{return Dt(n).toLowerCase()}catch{}Y(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const e=ot(n,"domain.salt");return Y(e.length===32,'invalid domain value "salt"',"domain.salt",n),Ae(e)}};function n_(n){{const e=n.match(/^(u?)int(\d+)$/);if(e){const t=e[1]==="",r=parseInt(e[2]);Y(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",n);const s=Kl(Vie,t?r-1:r),a=t?(s+w5)*Gie:y5;return function(c){const u=De(c,"value");return Y(u>=a&&u<=s,`value out-of-bounds for ${n}`,"value",u),Zc(t?e8(u,256):u,32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return Y(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",n),function(r){const s=ot(r);return Y(s.length===t,`invalid length for ${n}`,"value",r),Kie(r)}}}switch(n){case"address":return function(e){return Ro(Dt(e),32)};case"bool":return function(e){return e?Wie:Yie};case"bytes":return function(e){return Pn(e)};case"string":return function(e){return Bu(e)}}return null}function yP(n,e){return`${n}(${e.map(({name:t,type:r})=>r+" "+t).join(",")})`}function C0(n){const e=n.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:n}}var Jm,lo,ef,Pb,b5;const Xs=class Xs{constructor(e){ie(this,Pb);ee(this,"primaryType");ie(this,Jm);ie(this,lo);ie(this,ef);F(this,lo,new Map),F(this,ef,new Map);const t=new Map,r=new Map,s=new Map,a={};Object.keys(e).forEach(h=>{a[h]=e[h].map(({name:d,type:p})=>{let{base:m,index:y}=C0(p);return m==="int"&&!e.int&&(m="int256"),m==="uint"&&!e.uint&&(m="uint256"),{name:d,type:m+(y||"")}}),t.set(h,new Set),r.set(h,[]),s.set(h,new Set)}),F(this,Jm,JSON.stringify(a));for(const h in a){const d=new Set;for(const p of a[h]){Y(!d.has(p.name),`duplicate variable name ${JSON.stringify(p.name)} in ${JSON.stringify(h)}`,"types",e),d.add(p.name);const m=C0(p.type).base;Y(m!==h,`circular type reference to ${JSON.stringify(m)}`,"types",e),!n_(m)&&(Y(r.has(m),`unknown type ${JSON.stringify(m)}`,"types",e),r.get(m).push(h),t.get(h).add(m))}}const c=Array.from(r.keys()).filter(h=>r.get(h).length===0);Y(c.length!==0,"missing primary type","types",e),Y(c.length===1,`ambiguous primary types or unused types: ${c.map(h=>JSON.stringify(h)).join(", ")}`,"types",e),qe(this,{primaryType:c[0]});function u(h,d){Y(!d.has(h),`circular type reference to ${JSON.stringify(h)}`,"types",e),d.add(h);for(const p of t.get(h))if(r.has(p)){u(p,d);for(const m of d)s.get(m).add(p)}d.delete(h)}u(this.primaryType,new Set);for(const[h,d]of s){const p=Array.from(d);p.sort(),S(this,lo).set(h,yP(h,a[h])+p.map(m=>yP(m,a[m])).join(""))}}get types(){return JSON.parse(S(this,Jm))}getEncoder(e){let t=S(this,ef).get(e);return t||(t=pe(this,Pb,b5).call(this,e),S(this,ef).set(e,t)),t}encodeType(e){const t=S(this,lo).get(e);return Y(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Pn(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(n_(e))return r(e,t);const s=C0(e).array;if(s)return Y(s.count===-1||s.count===t.length,`array length mismatch; expected length ${s.count}`,"value",t),t.map(c=>this._visit(s.prefix,c,r));const a=this.types[e];if(a)return a.reduce((c,{name:u,type:h})=>(c[u]=this._visit(h,t[u],r),c),{});Y(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Xs(e)}static getPrimaryType(e){return Xs.from(e).primaryType}static hashStruct(e,t,r){return Xs.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){if(e[r]==null)continue;const s=gP[r];Y(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:s})}return t.sort((r,s)=>t_.indexOf(r.name)-t_.indexOf(s.name)),Xs.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return En(["0x1901",Xs.hashDomain(e),Xs.from(t).hash(r)])}static hash(e,t,r){return Pn(Xs.encode(e,t,r))}static async resolveNames(e,t,r,s){e=Object.assign({},e);for(const u in e)e[u]==null&&delete e[u];const a={};e.verifyingContract&&!en(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");const c=Xs.from(t);c.visit(r,(u,h)=>(u==="address"&&!en(h,20)&&(a[h]="0x"),h));for(const u in a)a[u]=await s(u);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),r=c.visit(r,(u,h)=>u==="address"&&a[h]?a[h]:h),{domain:e,value:r}}static getPayload(e,t,r){Xs.hashDomain(e);const s={},a=[];t_.forEach(h=>{const d=e[h];d!=null&&(s[h]=Qie[h](d),a.push({name:h,type:gP[h]}))});const c=Xs.from(t);t=c.types;const u=Object.assign({},t);return Y(u.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),u.EIP712Domain=a,c.encode(r),{types:u,domain:s,primaryType:c.primaryType,message:c.visit(r,(h,d)=>{if(h.match(/^bytes(\d*)/))return Ae(ot(d));if(h.match(/^u?int/))return De(d).toString();switch(h){case"address":return d.toLowerCase();case"bool":return!!d;case"string":return Y(typeof d=="string","invalid string","value",d),d}Y(!1,"unsupported type","type",h)})}}};Jm=new WeakMap,lo=new WeakMap,ef=new WeakMap,Pb=new WeakSet,b5=function(e){{const s=n_(e);if(s)return s}const t=C0(e).array;if(t){const s=t.prefix,a=this.getEncoder(s);return c=>{Y(t.count===-1||t.count===c.length,`array length mismatch; expected length ${t.count}`,"value",c);let u=c.map(a);return S(this,lo).has(s)&&(u=u.map(Pn)),Pn(En(u))}}const r=this.types[e];if(r){const s=Bu(S(this,lo).get(e));return a=>{const c=r.map(({name:u,type:h})=>{const d=this.getEncoder(h)(a[u]);return S(this,lo).has(h)?Pn(d):d});return c.unshift(s),En(c)}}Y(!1,`unknown type: ${e}`,"type",e)};let Tb=Xs;function Fr(n){const e=new Set;return n.forEach(t=>e.add(t)),Object.freeze(e)}const Zie="external public payable override",Jie=Fr(Zie.split(" ")),v5="constant external internal payable private public pure view override",Xie=Fr(v5.split(" ")),E5="constructor error event fallback function receive struct",A5=Fr(E5.split(" ")),_5="calldata memory storage payable indexed",eae=Fr(_5.split(" ")),tae="tuple returns",nae=[E5,_5,tae,v5].join(" "),rae=Fr(nae.split(" ")),sae={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},iae=new RegExp("^(\\s*)"),aae=new RegExp("^([0-9]+)"),oae=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),C5=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),S5=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var or,Ti,Xm,IC;const Db=class Db{constructor(e){ie(this,Xm);ie(this,or);ie(this,Ti);F(this,or,0),F(this,Ti,e.slice())}get offset(){return S(this,or)}get length(){return S(this,Ti).length-S(this,or)}clone(){return new Db(S(this,Ti))}reset(){F(this,or,0)}popKeyword(e){const t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=pe(this,Xm,IC).call(this,S(this,or)+1,e.match+1);return F(this,or,e.match+1),t}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=[];for(;S(this,or)<e.match-1;){const r=this.peek().linkNext;t.push(pe(this,Xm,IC).call(this,S(this,or)+1,r)),F(this,or,r)}return F(this,or,e.match+1),t}peek(){if(S(this,or)>=S(this,Ti).length)throw new Error("out-of-bounds");return S(this,Ti)[S(this,or)]}peekKeyword(e){const t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return Xp(this,or)._++,e}toString(){const e=[];for(let t=S(this,or);t<S(this,Ti).length;t++){const r=S(this,Ti)[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};or=new WeakMap,Ti=new WeakMap,Xm=new WeakSet,IC=function(e=0,t=0){return new Db(S(this,Ti).slice(e,t).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let Li=Db;function tl(n){const e=[],t=c=>{const u=a<n.length?JSON.stringify(n[a]):"$EOI";throw new Error(`invalid token ${u} at ${a}: ${c}`)};let r=[],s=[],a=0;for(;a<n.length;){let c=n.substring(a),u=c.match(iae);u&&(a+=u[1].length,c=n.substring(a));const h={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};e.push(h);let d=sae[c[0]]||"";if(d){if(h.type=d,h.text=c[0],a++,d==="OPEN_PAREN")r.push(e.length-1),s.push(e.length-1);else if(d=="CLOSE_PAREN")r.length===0&&t("no matching open bracket"),h.match=r.pop(),e[h.match].match=e.length-1,h.depth--,h.linkBack=s.pop(),e[h.linkBack].linkNext=e.length-1;else if(d==="COMMA")h.linkBack=s.pop(),e[h.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(d==="OPEN_BRACKET")h.type="BRACKET";else if(d==="CLOSE_BRACKET"){let p=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const m=e.pop().text;p=m+p,e[e.length-1].value=rt(m)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=p}continue}if(u=c.match(oae),u){if(h.text=u[1],a+=h.text.length,rae.has(h.text)){h.type="KEYWORD";continue}if(h.text.match(S5)){h.type="TYPE";continue}h.type="ID";continue}if(u=c.match(aae),u){h.text=u[1],h.type="NUMBER",a+=h.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(c[0])} at position ${a}`)}return new Li(e.map(c=>Object.freeze(c)))}function wP(n,e){let t=[];for(const r in e.keys())n.has(r)&&t.push(r);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function mv(n,e){if(e.peekKeyword(A5)){const t=e.pop().text;if(t!==n)throw new Error(`expected ${n}, got ${t}`)}return e.popType("ID")}function xo(n,e){const t=new Set;for(;;){const r=n.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(n.pop(),t.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);t.add(r)}return Object.freeze(t)}function N5(n){let e=xo(n,Xie);return wP(e,Fr("constant payable nonpayable".split(" "))),wP(e,Fr("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function So(n,e){return n.popParams().map(t=>fr.from(t,e))}function T5(n){if(n.peekType("AT")){if(n.pop(),n.peekType("NUMBER"))return De(n.pop().text);throw new Error("invalid gas")}return null}function Mu(n){if(n.length)throw new Error(`unexpected tokens at offset ${n.offset}: ${n.toString()}`)}const cae=new RegExp(/^(.*)\[([0-9]*)\]$/);function bP(n){const e=n.match(S5);if(Y(e,"invalid type","type",n),n==="uint")return"uint256";if(n==="int")return"int256";if(e[2]){const t=parseInt(e[2]);Y(t!==0&&t<=32,"invalid bytes length","type",n)}else if(e[3]){const t=parseInt(e[3]);Y(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",n)}return n}const mn={},us=Symbol.for("_ethers_internal"),vP="_ParamTypeInternal",EP="_ErrorInternal",AP="_EventInternal",_P="_ConstructorInternal",CP="_FallbackInternal",SP="_FunctionInternal",NP="_StructInternal";var tf,H0;const ei=class ei{constructor(e,t,r,s,a,c,u,h){ie(this,tf);ee(this,"name");ee(this,"type");ee(this,"baseType");ee(this,"indexed");ee(this,"components");ee(this,"arrayLength");ee(this,"arrayChildren");if(Sy(e,mn,"ParamType"),Object.defineProperty(this,us,{value:vP}),c&&(c=Object.freeze(c.slice())),s==="array"){if(u==null||h==null)throw new Error("")}else if(u!=null||h!=null)throw new Error("");if(s==="tuple"){if(c==null)throw new Error("")}else if(c!=null)throw new Error("");qe(this,{name:t,type:r,baseType:s,indexed:a,components:c,arrayLength:u,arrayChildren:h})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const a=JSON.parse(this.arrayChildren.format("json"));return a.name=r,a.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(a)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(a=>JSON.parse(a.format(e)))),JSON.stringify(s)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(s=>r.arrayChildren.walk(s,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((s,a)=>r.components[a].walk(s,t))}return t(this.type,e)}async walkAsync(e,t){const r=[],s=[e];return pe(this,tf,H0).call(this,r,e,t,a=>{s[0]=a}),r.length&&await Promise.all(r),s[0]}static from(e,t){if(ei.isParamType(e))return e;if(typeof e=="string")try{return ei.from(tl(e),t)}catch{Y(!1,"invalid param type","obj",e)}else if(e instanceof Li){let u="",h="",d=null;xo(e,Fr(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(h="tuple",d=e.popParams().map(v=>ei.from(v)),u=`tuple(${d.map(v=>v.format()).join(",")})`):(u=bP(e.popType("TYPE")),h=u);let p=null,m=null;for(;e.length&&e.peekType("BRACKET");){const v=e.pop();p=new ei(mn,"",u,h,null,d,m,p),m=v.value,u+=v.text,h="array",d=null}let y=null;if(xo(e,eae).has("indexed")){if(!t)throw new Error("");y=!0}const E=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new ei(mn,E,u,h,y,d,m,p)}const r=e.name;Y(!r||typeof r=="string"&&r.match(C5),"invalid name","obj.name",r);let s=e.indexed;s!=null&&(Y(t,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let a=e.type,c=a.match(cae);if(c){const u=parseInt(c[2]||"-1"),h=ei.from({type:c[1],components:e.components});return new ei(mn,r||"",a,"array",s,null,u,h)}if(a==="tuple"||a.startsWith("tuple(")||a.startsWith("(")){const u=e.components!=null?e.components.map(d=>ei.from(d)):null;return new ei(mn,r||"",a,"tuple",s,u,null,null)}return a=bP(e.type),new ei(mn,r||"",a,a,s,null,null,null)}static isParamType(e){return e&&e[us]===vP}};tf=new WeakSet,H0=function(e,t,r,s){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const c=this.arrayChildren,u=t.slice();u.forEach((h,d)=>{var p;pe(p=c,tf,H0).call(p,e,h,r,m=>{u[d]=m})}),s(u);return}if(this.isTuple()){const c=this.components;let u;if(Array.isArray(t))u=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");u=c.map(h=>{if(!h.name)throw new Error("cannot use object value with unnamed components");if(!(h.name in t))throw new Error(`missing value for component ${h.name}`);return t[h.name]})}if(u.length!==this.components.length)throw new Error("array is wrong length");u.forEach((h,d)=>{var p;pe(p=c[d],tf,H0).call(p,e,h,r,m=>{u[d]=m})}),s(u);return}const a=r(this.type,t);a.then?e.push(async function(){s(await a)}()):s(a)};let fr=ei;class Lu{constructor(e,t,r){ee(this,"type");ee(this,"inputs");Sy(e,mn,"Fragment"),r=Object.freeze(r.slice()),qe(this,{type:t,inputs:r})}static from(e){if(typeof e=="string"){try{Lu.from(JSON.parse(e))}catch{}return Lu.from(tl(e))}if(e instanceof Li)switch(e.peekKeyword(A5)){case"constructor":return Eo.from(e);case"error":return os.from(e);case"event":return ya.from(e);case"fallback":case"receive":return so.from(e);case"function":return wa.from(e);case"struct":return _u.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Eo.from(e);case"error":return os.from(e);case"event":return ya.from(e);case"fallback":case"receive":return so.from(e);case"function":return wa.from(e);case"struct":return _u.from(e)}he(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}Y(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Eo.isFragment(e)}static isError(e){return os.isFragment(e)}static isEvent(e){return ya.isFragment(e)}static isFunction(e){return wa.isFragment(e)}static isStruct(e){return _u.isFragment(e)}}class yv extends Lu{constructor(t,r,s,a){super(t,r,a);ee(this,"name");Y(typeof s=="string"&&s.match(C5),"invalid identifier","name",s),a=Object.freeze(a.slice()),qe(this,{name:s})}}function Gm(n,e){return"("+e.map(t=>t.format(n)).join(n==="full"?", ":",")+")"}class os extends yv{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,us,{value:EP})}get selector(){return Bu(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+Gm(e,this.inputs)),t.join(" ")}static from(e){if(os.isFragment(e))return e;if(typeof e=="string")return os.from(tl(e));if(e instanceof Li){const t=mv("error",e),r=So(e);return Mu(e),new os(mn,t,r)}return new os(mn,e.name,e.inputs?e.inputs.map(fr.from):[])}static isFragment(e){return e&&e[us]===EP}}class ya extends yv{constructor(t,r,s,a){super(t,"event",r,s);ee(this,"anonymous");Object.defineProperty(this,us,{value:AP}),qe(this,{anonymous:a})}get topicHash(){return Bu(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(t)))});const r=[];return t!=="sighash"&&r.push("event"),r.push(this.name+Gm(t,this.inputs)),t!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(t,r){return r=(r||[]).map(a=>fr.from(a)),new ya(mn,t,r,!1).topicHash}static from(t){if(ya.isFragment(t))return t;if(typeof t=="string")try{return ya.from(tl(t))}catch{Y(!1,"invalid event fragment","obj",t)}else if(t instanceof Li){const r=mv("event",t),s=So(t,!0),a=!!xo(t,Fr(["anonymous"])).has("anonymous");return Mu(t),new ya(mn,r,s,a)}return new ya(mn,t.name,t.inputs?t.inputs.map(r=>fr.from(r,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[us]===AP}}class Eo extends Lu{constructor(t,r,s,a,c){super(t,r,s);ee(this,"payable");ee(this,"gas");Object.defineProperty(this,us,{value:_P}),qe(this,{payable:a,gas:c})}format(t){if(he(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(t)))});const r=[`constructor${Gm(t,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(t){if(Eo.isFragment(t))return t;if(typeof t=="string")try{return Eo.from(tl(t))}catch{Y(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof Li){xo(t,Fr(["constructor"]));const r=So(t),s=!!xo(t,Jie).has("payable"),a=T5(t);return Mu(t),new Eo(mn,"constructor",r,s,a)}return new Eo(mn,"constructor",t.inputs?t.inputs.map(fr.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[us]===_P}}class so extends Lu{constructor(t,r,s){super(t,"fallback",r);ee(this,"payable");Object.defineProperty(this,us,{value:CP}),qe(this,{payable:s})}format(t){const r=this.inputs.length===0?"receive":"fallback";if(t==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:s})}return`${r}()${this.payable?" payable":""}`}static from(t){if(so.isFragment(t))return t;if(typeof t=="string")try{return so.from(tl(t))}catch{Y(!1,"invalid fallback fragment","obj",t)}else if(t instanceof Li){const r=t.toString(),s=t.peekKeyword(Fr(["fallback","receive"]));if(Y(s,"type must be fallback or receive","obj",r),t.popKeyword(Fr(["fallback","receive"]))==="receive"){const h=So(t);return Y(h.length===0,"receive cannot have arguments","obj.inputs",h),xo(t,Fr(["payable"])),Mu(t),new so(mn,[],!0)}let c=So(t);c.length?Y(c.length===1&&c[0].type==="bytes","invalid fallback inputs","obj.inputs",c.map(h=>h.format("minimal")).join(", ")):c=[fr.from("bytes")];const u=N5(t);if(Y(u==="nonpayable"||u==="payable","fallback cannot be constants","obj.stateMutability",u),xo(t,Fr(["returns"])).has("returns")){const h=So(t);Y(h.length===1&&h[0].type==="bytes","invalid fallback outputs","obj.outputs",h.map(d=>d.format("minimal")).join(", "))}return Mu(t),new so(mn,c,u==="payable")}if(t.type==="receive")return new so(mn,[],!0);if(t.type==="fallback"){const r=[fr.from("bytes")],s=t.stateMutability==="payable";return new so(mn,r,s)}Y(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[us]===CP}}class wa extends yv{constructor(t,r,s,a,c,u){super(t,"function",r,a);ee(this,"constant");ee(this,"outputs");ee(this,"stateMutability");ee(this,"payable");ee(this,"gas");Object.defineProperty(this,us,{value:SP}),c=Object.freeze(c.slice()),qe(this,{constant:s==="view"||s==="pure",gas:u,outputs:c,payable:s==="payable",stateMutability:s})}get selector(){return Bu(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(t))),outputs:this.outputs.map(s=>JSON.parse(s.format(t)))});const r=[];return t!=="sighash"&&r.push("function"),r.push(this.name+Gm(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(Gm(t,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(t,r){return r=(r||[]).map(a=>fr.from(a)),new wa(mn,t,"view",r,[],null).selector}static from(t){if(wa.isFragment(t))return t;if(typeof t=="string")try{return wa.from(tl(t))}catch{Y(!1,"invalid function fragment","obj",t)}else if(t instanceof Li){const s=mv("function",t),a=So(t),c=N5(t);let u=[];xo(t,Fr(["returns"])).has("returns")&&(u=So(t));const h=T5(t);return Mu(t),new wa(mn,s,c,a,u,h)}let r=t.stateMutability;return r==null&&(r="payable",typeof t.constant=="boolean"?(r="view",t.constant||(r="payable",typeof t.payable=="boolean"&&!t.payable&&(r="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(r="nonpayable")),new wa(mn,t.name,r,t.inputs?t.inputs.map(fr.from):[],t.outputs?t.outputs.map(fr.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[us]===SP}}class _u extends yv{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,us,{value:NP})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return _u.from(tl(e))}catch{Y(!1,"invalid struct fragment","obj",e)}else if(e instanceof Li){const t=mv("struct",e),r=So(e);return Mu(e),new _u(mn,t,r)}return new _u(mn,e.name,e.inputs?e.inputs.map(fr.from):[])}static isFragment(e){return e&&e[us]===NP}}const ji=new Map;ji.set(0,"GENERIC_PANIC");ji.set(1,"ASSERT_FALSE");ji.set(17,"OVERFLOW");ji.set(18,"DIVIDE_BY_ZERO");ji.set(33,"ENUM_RANGE_ERROR");ji.set(34,"BAD_STORAGE_DATA");ji.set(49,"STACK_UNDERFLOW");ji.set(50,"ARRAY_RANGE_ERROR");ji.set(65,"OUT_OF_MEMORY");ji.set(81,"UNINITIALIZED_FUNCTION_CALL");const lae=new RegExp(/^bytes([0-9]*)$/),uae=new RegExp(/^(u?int)([0-9]*)$/);let r_=null,TP=1024;function hae(n,e,t,r){let s="missing revert data",a=null;const c=null;let u=null;if(t){s="execution reverted";const d=ot(t);if(t=Ae(t),d.length===0)s+=" (no data present; likely require(false) occurred",a="require(false)";else if(d.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(Ae(d.slice(0,4))==="0x08c379a0")try{a=r.decode(["string"],d.slice(4))[0],u={signature:"Error(string)",name:"Error",args:[a]},s+=`: ${JSON.stringify(a)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(Ae(d.slice(0,4))==="0x4e487b71")try{const p=Number(r.decode(["uint256"],d.slice(4))[0]);u={signature:"Panic(uint256)",name:"Panic",args:[p]},a=`Panic due to ${ji.get(p)||"UNKNOWN"}(${p})`,s+=`: ${a}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const h={to:e.to?Dt(e.to):null,data:e.data||"0x"};return e.from&&(h.from=Dt(e.from)),un(s,"CALL_EXCEPTION",{action:n,data:t,reason:a,transaction:h,invocation:c,revert:u})}var Nc,hd;const Ub=class Ub{constructor(){ie(this,Nc)}getDefaultValue(e){const t=e.map(s=>pe(this,Nc,hd).call(this,fr.from(s)));return new _0(t,"_").defaultValue()}encode(e,t){Zk(t.length,e.length,"types/values length mismatch");const r=e.map(c=>pe(this,Nc,hd).call(this,fr.from(c))),s=new _0(r,"_"),a=new mC;return s.encode(a,t),a.data}decode(e,t,r){const s=e.map(c=>pe(this,Nc,hd).call(this,fr.from(c)));return new _0(s,"_").decode(new yC(t,r,TP))}static _setDefaultMaxInflation(e){Y(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),TP=e}static defaultAbiCoder(){return r_==null&&(r_=new Ub),r_}static getBuiltinCallException(e,t,r){return hae(e,t,r,Ub.defaultAbiCoder())}};Nc=new WeakSet,hd=function(e){if(e.isArray())return new Rse(pe(this,Nc,hd).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new _0(e.components.map(r=>pe(this,Nc,hd).call(this,r)),e.name);switch(e.baseType){case"address":return new Tse(e.name);case"bool":return new Ise(e.name);case"string":return new $se(e.name);case"bytes":return new xse(e.name);case"":return new Use(e.name)}let t=e.type.match(uae);if(t){let r=parseInt(t[2]||"256");return Y(r!==0&&r<=256&&r%8===0,"invalid "+t[1]+" bit length","param",e),new Lse(r/8,t[1]==="int",e.name)}if(t=e.type.match(lae),t){let r=parseInt(t[1]);return Y(r!==0&&r<=32,"invalid bytes length","param",e),new Pse(r,e.name)}Y(!1,"invalid type","type",e.type)};let Vm=Ub;class dae{constructor(e,t,r){ee(this,"fragment");ee(this,"name");ee(this,"signature");ee(this,"topic");ee(this,"args");const s=e.name,a=e.format();qe(this,{fragment:e,name:s,signature:a,topic:t,args:r})}}class fae{constructor(e,t,r,s){ee(this,"fragment");ee(this,"name");ee(this,"args");ee(this,"signature");ee(this,"selector");ee(this,"value");const a=e.name,c=e.format();qe(this,{fragment:e,name:a,args:r,signature:c,selector:t,value:s})}}class pae{constructor(e,t,r){ee(this,"fragment");ee(this,"name");ee(this,"args");ee(this,"signature");ee(this,"selector");const s=e.name,a=e.format();qe(this,{fragment:e,name:s,args:r,signature:a,selector:t})}}class OP{constructor(e){ee(this,"hash");ee(this,"_isIndexed");qe(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const RP={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},IP={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:n=>`reverted with reason string ${JSON.stringify(n)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:n=>{let e="unknown panic code";return n>=0&&n<=255&&RP[n.toString()]&&(e=RP[n.toString()]),`reverted with panic code 0x${n.toString(16)} (${e})`}}};var ia,aa,oa,Ar,Sa,z0,q0;const Fl=class Fl{constructor(e){ie(this,Sa);ee(this,"fragments");ee(this,"deploy");ee(this,"fallback");ee(this,"receive");ie(this,ia);ie(this,aa);ie(this,oa);ie(this,Ar);let t=[];typeof e=="string"?t=JSON.parse(e):t=e,F(this,oa,new Map),F(this,ia,new Map),F(this,aa,new Map);const r=[];for(const c of t)try{r.push(Lu.from(c))}catch(u){console.log(`[Warning] Invalid Fragment ${JSON.stringify(c)}:`,u.message)}qe(this,{fragments:Object.freeze(r)});let s=null,a=!1;F(this,Ar,this.getAbiCoder()),this.fragments.forEach((c,u)=>{let h;switch(c.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}qe(this,{deploy:c});return;case"fallback":c.inputs.length===0?a=!0:(Y(!s||c.payable!==s.payable,"conflicting fallback fragments",`fragments[${u}]`,c),s=c,a=s.payable);return;case"function":h=S(this,oa);break;case"event":h=S(this,aa);break;case"error":h=S(this,ia);break;default:return}const d=c.format();h.has(d)||h.set(d,c)}),this.deploy||qe(this,{deploy:Eo.from("constructor()")}),qe(this,{fallback:s,receive:a})}format(e){const t=e?"minimal":"full";return this.fragments.map(s=>s.format(t))}formatJson(){const e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return Vm.defaultAbiCoder()}getFunctionName(e){const t=pe(this,Sa,z0).call(this,e,null,!1);return Y(t,"no matching function","key",e),t.name}hasFunction(e){return!!pe(this,Sa,z0).call(this,e,null,!1)}getFunction(e,t){return pe(this,Sa,z0).call(this,e,t||null,!0)}forEachFunction(e){const t=Array.from(S(this,oa).keys());t.sort((r,s)=>r.localeCompare(s));for(let r=0;r<t.length;r++){const s=t[r];e(S(this,oa).get(s),r)}}getEventName(e){const t=pe(this,Sa,q0).call(this,e,null,!1);return Y(t,"no matching event","key",e),t.name}hasEvent(e){return!!pe(this,Sa,q0).call(this,e,null,!1)}getEvent(e,t){return pe(this,Sa,q0).call(this,e,t||null,!0)}forEachEvent(e){const t=Array.from(S(this,aa).keys());t.sort((r,s)=>r.localeCompare(s));for(let r=0;r<t.length;r++){const s=t[r];e(S(this,aa).get(s),r)}}getError(e,t){if(en(e)){const s=e.toLowerCase();if(IP[s])return os.from(IP[s].signature);for(const a of S(this,ia).values())if(s===a.selector)return a;return null}if(e.indexOf("(")===-1){const s=[];for(const[a,c]of S(this,ia))a.split("(")[0]===e&&s.push(c);if(s.length===0)return e==="Error"?os.from("error Error(string)"):e==="Panic"?os.from("error Panic(uint256)"):null;if(s.length>1){const a=s.map(c=>JSON.stringify(c.format())).join(", ");Y(!1,`ambiguous error description (i.e. ${a})`,"name",e)}return s[0]}if(e=os.from(e).format(),e==="Error(string)")return os.from("error Error(string)");if(e==="Panic(uint256)")return os.from("error Panic(uint256)");const r=S(this,ia).get(e);return r||null}forEachError(e){const t=Array.from(S(this,ia).keys());t.sort((r,s)=>r.localeCompare(s));for(let r=0;r<t.length;r++){const s=t[r];e(S(this,ia).get(s),r)}}_decodeParams(e,t){return S(this,Ar).decode(e,t)}_encodeParams(e,t){return S(this,Ar).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){const r=this.getError(e);Y(r,"unknown error","fragment",e),e=r}return Y(vn(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,vn(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){const r=this.getError(e);Y(r,"unknown error","fragment",e),e=r}return En([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){const r=this.getFunction(e);Y(r,"unknown function","fragment",e),e=r}return Y(vn(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,vn(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){const r=this.getFunction(e);Y(r,"unknown function","fragment",e),e=r}return En([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){const a=this.getFunction(e);Y(a,"unknown function","fragment",e),e=a}let r="invalid length for result data";const s=Mr(t);if(s.length%32===0)try{return S(this,Ar).decode(e.outputs,s)}catch{r="could not decode result data"}he(!1,r,"BAD_DATA",{value:Ae(s),info:{method:e.name,signature:e.format()}})}makeError(e,t){const r=ot(e,"data"),s=Vm.getBuiltinCallException("call",t,r);if(s.message.startsWith("execution reverted (unknown custom error)")){const u=Ae(r.slice(0,4)),h=this.getError(u);if(h)try{const d=S(this,Ar).decode(h.inputs,r.slice(4));s.revert={name:h.name,signature:h.format(),args:d},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const c=this.parseTransaction(t);return c&&(s.invocation={method:c.name,signature:c.signature,args:c.args}),s}encodeFunctionResult(e,t){if(typeof e=="string"){const r=this.getFunction(e);Y(r,"unknown function","fragment",e),e=r}return Ae(S(this,Ar).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){const a=this.getEvent(e);Y(a,"unknown event","eventFragment",e),e=a}he(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const s=(a,c)=>a.type==="string"?Bu(c):a.type==="bytes"?Pn(Ae(c)):(a.type==="bool"&&typeof c=="boolean"?c=c?"0x01":"0x00":a.type.match(/^u?int/)?c=Zc(c):a.type.match(/^bytes/)?c=Pne(c,32):a.type==="address"&&S(this,Ar).encode(["address"],[c]),Ro(Ae(c),32));for(t.forEach((a,c)=>{const u=e.inputs[c];if(!u.indexed){Y(a==null,"cannot filter non-indexed parameters; must be null","contract."+u.name,a);return}a==null?r.push(null):u.baseType==="array"||u.baseType==="tuple"?Y(!1,"filtering with tuples or arrays not supported","contract."+u.name,a):Array.isArray(a)?r.push(a.map(h=>s(u,h))):r.push(s(u,a))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,t){if(typeof e=="string"){const c=this.getEvent(e);Y(c,"unknown event","eventFragment",e),e=c}const r=[],s=[],a=[];return e.anonymous||r.push(e.topicHash),Y(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((c,u)=>{const h=t[u];if(c.indexed)if(c.type==="string")r.push(Bu(h));else if(c.type==="bytes")r.push(Pn(h));else{if(c.baseType==="tuple"||c.baseType==="array")throw new Error("not implemented");r.push(S(this,Ar).encode([c.type],[h]))}else s.push(c),a.push(h)}),{data:S(this,Ar).encode(s,a),topics:r}}decodeEventLog(e,t,r){if(typeof e=="string"){const b=this.getEvent(e);Y(b,"unknown event","eventFragment",e),e=b}if(r!=null&&!e.anonymous){const b=e.topicHash;Y(en(r[0],32)&&r[0].toLowerCase()===b,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const s=[],a=[],c=[];e.inputs.forEach((b,E)=>{b.indexed?b.type==="string"||b.type==="bytes"||b.baseType==="tuple"||b.baseType==="array"?(s.push(fr.from({type:"bytes32",name:b.name})),c.push(!0)):(s.push(b),c.push(!1)):(a.push(b),c.push(!1))});const u=r!=null?S(this,Ar).decode(s,En(r)):null,h=S(this,Ar).decode(a,t,!0),d=[],p=[];let m=0,y=0;return e.inputs.forEach((b,E)=>{let v=null;if(b.indexed)if(u==null)v=new OP(null);else if(c[E])v=new OP(u[y++]);else try{v=u[y++]}catch(A){v=A}else try{v=h[m++]}catch(A){v=A}d.push(v),p.push(b.name||null)}),kf.fromItems(d,p)}parseTransaction(e){const t=ot(e.data,"tx.data"),r=De(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(Ae(t.slice(0,4)));if(!s)return null;const a=S(this,Ar).decode(s.inputs,t.slice(4));return new fae(s,s.selector,a,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new dae(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=Ae(e),r=this.getError(vn(t,0,4));if(!r)return null;const s=S(this,Ar).decode(r.inputs,vn(t,4));return new pae(r,r.selector,s)}static from(e){return e instanceof Fl?e:typeof e=="string"?new Fl(JSON.parse(e)):typeof e.formatJson=="function"?new Fl(e.formatJson()):typeof e.format=="function"?new Fl(e.format("json")):new Fl(e)}};ia=new WeakMap,aa=new WeakMap,oa=new WeakMap,Ar=new WeakMap,Sa=new WeakSet,z0=function(e,t,r){if(en(e)){const a=e.toLowerCase();for(const c of S(this,oa).values())if(a===c.selector)return c;return null}if(e.indexOf("(")===-1){const a=[];for(const[c,u]of S(this,oa))c.split("(")[0]===e&&a.push(u);if(t){const c=t.length>0?t[t.length-1]:null;let u=t.length,h=!0;Sr.isTyped(c)&&c.type==="overrides"&&(h=!1,u--);for(let d=a.length-1;d>=0;d--){const p=a[d].inputs.length;p!==u&&(!h||p!==u-1)&&a.splice(d,1)}for(let d=a.length-1;d>=0;d--){const p=a[d].inputs;for(let m=0;m<t.length;m++)if(Sr.isTyped(t[m])){if(m>=p.length){if(t[m].type==="overrides")continue;a.splice(d,1);break}if(t[m].type!==p[m].baseType){a.splice(d,1);break}}}}if(a.length===1&&t&&t.length!==a[0].inputs.length){const c=t[t.length-1];(c==null||Array.isArray(c)||typeof c!="object")&&a.splice(0,1)}if(a.length===0)return null;if(a.length>1&&r){const c=a.map(u=>JSON.stringify(u.format())).join(", ");Y(!1,`ambiguous function description (i.e. matches ${c})`,"key",e)}return a[0]}const s=S(this,oa).get(wa.from(e).format());return s||null},q0=function(e,t,r){if(en(e)){const a=e.toLowerCase();for(const c of S(this,aa).values())if(a===c.topicHash)return c;return null}if(e.indexOf("(")===-1){const a=[];for(const[c,u]of S(this,aa))c.split("(")[0]===e&&a.push(u);if(t){for(let c=a.length-1;c>=0;c--)a[c].inputs.length<t.length&&a.splice(c,1);for(let c=a.length-1;c>=0;c--){const u=a[c].inputs;for(let h=0;h<t.length;h++)if(Sr.isTyped(t[h])&&t[h].type!==u[h].baseType){a.splice(c,1);break}}}if(a.length===0)return null;if(a.length>1&&r){const c=a.map(u=>JSON.stringify(u.format())).join(", ");Y(!1,`ambiguous event description (i.e. matches ${c})`,"key",e)}return a[0]}const s=S(this,aa).get(ya.from(e).format());return s||null};let xC=Fl;const O5=BigInt(0);function Od(n){return n??null}function Cn(n){return n==null?null:n.toString()}class xP{constructor(e,t,r){ee(this,"gasPrice");ee(this,"maxFeePerGas");ee(this,"maxPriorityFeePerGas");qe(this,{gasPrice:Od(e),maxFeePerGas:Od(t),maxPriorityFeePerGas:Od(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Cn(e),maxFeePerGas:Cn(t),maxPriorityFeePerGas:Cn(r)}}}function Ob(n){const e={};n.to&&(e.to=n.to),n.from&&(e.from=n.from),n.data&&(e.data=Ae(n.data));const t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of t)!(s in n)||n[s]==null||(e[s]=De(n[s],`request.${s}`));const r="type,nonce".split(/,/);for(const s of r)!(s in n)||n[s]==null||(e[s]=rt(n[s],`request.${s}`));return n.accessList&&(e.accessList=Yu(n.accessList)),n.authorizationList&&(e.authorizationList=n.authorizationList.slice()),"blockTag"in n&&(e.blockTag=n.blockTag),"enableCcipRead"in n&&(e.enableCcipRead=!!n.enableCcipRead),"customData"in n&&(e.customData=n.customData),"blobVersionedHashes"in n&&n.blobVersionedHashes&&(e.blobVersionedHashes=n.blobVersionedHashes.slice()),"kzg"in n&&(e.kzg=n.kzg),"blobs"in n&&n.blobs&&(e.blobs=n.blobs.map(s=>RS(s)?Ae(s):Object.assign({},s))),e}var uo;class gae{constructor(e,t){ee(this,"provider");ee(this,"number");ee(this,"hash");ee(this,"timestamp");ee(this,"parentHash");ee(this,"parentBeaconBlockRoot");ee(this,"nonce");ee(this,"difficulty");ee(this,"gasLimit");ee(this,"gasUsed");ee(this,"stateRoot");ee(this,"receiptsRoot");ee(this,"blobGasUsed");ee(this,"excessBlobGas");ee(this,"miner");ee(this,"prevRandao");ee(this,"extraData");ee(this,"baseFeePerGas");ie(this,uo);F(this,uo,e.transactions.map(r=>typeof r!="string"?new Km(r,t):r)),qe(this,{provider:t,hash:Od(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Od(e.prevRandao),extraData:e.extraData,baseFeePerGas:Od(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return S(this,uo).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=S(this,uo).slice();return e.length===0?[]:(he(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:s,gasUsed:a,hash:c,miner:u,prevRandao:h,nonce:d,number:p,parentHash:m,parentBeaconBlockRoot:y,stateRoot:b,receiptsRoot:E,timestamp:v,transactions:A}=this;return{_type:"Block",baseFeePerGas:Cn(e),difficulty:Cn(t),extraData:r,gasLimit:Cn(s),gasUsed:Cn(a),blobGasUsed:Cn(this.blobGasUsed),excessBlobGas:Cn(this.excessBlobGas),hash:c,miner:u,prevRandao:h,nonce:d,number:p,parentHash:m,timestamp:v,parentBeaconBlockRoot:y,stateRoot:b,receiptsRoot:E,transactions:A}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return S(this,uo).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=S(this,uo)[e];else{const r=e.toLowerCase();for(const s of S(this,uo))if(typeof s=="string"){if(s!==r)continue;t=s;break}else{if(s.hash!==r)continue;t=s;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(const r of t)if(r.hash===e)return r;Y(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return mae(this)}}uo=new WeakMap;class Oy{constructor(e,t){ee(this,"provider");ee(this,"transactionHash");ee(this,"blockHash");ee(this,"blockNumber");ee(this,"removed");ee(this,"address");ee(this,"data");ee(this,"topics");ee(this,"index");ee(this,"transactionIndex");this.provider=t;const r=Object.freeze(e.topics.slice());qe(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:r,data:s,index:a,removed:c,topics:u,transactionHash:h,transactionIndex:d}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:s,index:a,removed:c,topics:u,transactionHash:h,transactionIndex:d}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return he(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return he(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return he(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return yae(this)}}var ey;class R5{constructor(e,t){ee(this,"provider");ee(this,"to");ee(this,"from");ee(this,"contractAddress");ee(this,"hash");ee(this,"index");ee(this,"blockHash");ee(this,"blockNumber");ee(this,"logsBloom");ee(this,"gasUsed");ee(this,"blobGasUsed");ee(this,"cumulativeGasUsed");ee(this,"gasPrice");ee(this,"blobGasPrice");ee(this,"type");ee(this,"status");ee(this,"root");ie(this,ey);F(this,ey,Object.freeze(e.logs.map(s=>new Oy(s,t))));let r=O5;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),qe(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return S(this,ey)}toJSON(){const{to:e,from:t,contractAddress:r,hash:s,index:a,blockHash:c,blockNumber:u,logsBloom:h,logs:d,status:p,root:m}=this;return{_type:"TransactionReceipt",blockHash:c,blockNumber:u,contractAddress:r,cumulativeGasUsed:Cn(this.cumulativeGasUsed),from:t,gasPrice:Cn(this.gasPrice),blobGasUsed:Cn(this.blobGasUsed),blobGasPrice:Cn(this.blobGasPrice),gasUsed:Cn(this.gasUsed),hash:s,index:a,logs:d,logsBloom:h,root:m,status:p,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return x5(this)}reorderedEvent(e){return he(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),I5(this,e)}}ey=new WeakMap;var Tc;const YS=class YS{constructor(e,t){ee(this,"provider");ee(this,"blockNumber");ee(this,"blockHash");ee(this,"index");ee(this,"hash");ee(this,"type");ee(this,"to");ee(this,"from");ee(this,"nonce");ee(this,"gasLimit");ee(this,"gasPrice");ee(this,"maxPriorityFeePerGas");ee(this,"maxFeePerGas");ee(this,"maxFeePerBlobGas");ee(this,"data");ee(this,"value");ee(this,"chainId");ee(this,"signature");ee(this,"accessList");ee(this,"blobVersionedHashes");ee(this,"authorizationList");ie(this,Tc);this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,F(this,Tc,-1)}toJSON(){const{blockNumber:e,blockHash:t,index:r,hash:s,type:a,to:c,from:u,nonce:h,data:d,signature:p,accessList:m,blobVersionedHashes:y}=this;return{_type:"TransactionResponse",accessList:m,blockNumber:e,blockHash:t,blobVersionedHashes:y,chainId:Cn(this.chainId),data:d,from:u,gasLimit:Cn(this.gasLimit),gasPrice:Cn(this.gasPrice),hash:s,maxFeePerGas:Cn(this.maxFeePerGas),maxPriorityFeePerGas:Cn(this.maxPriorityFeePerGas),maxFeePerBlobGas:Cn(this.maxFeePerBlobGas),nonce:h,signature:p,to:c,index:r,type:a,value:Cn(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:t,blockNumber:r}=await Br({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:r-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const r=e??1,s=t??0;let a=S(this,Tc),c=-1,u=a===-1;const h=async()=>{if(u)return null;const{blockNumber:y,nonce:b}=await Br({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(b<this.nonce){a=y;return}if(u)return null;const E=await this.getTransaction();if(!(E&&E.blockNumber!=null))for(c===-1&&(c=a-3,c<S(this,Tc)&&(c=S(this,Tc)));c<=y;){if(u)return null;const v=await this.provider.getBlock(c,!0);if(v==null)return;for(const A of v)if(A===this.hash)return;for(let A=0;A<v.length;A++){const N=await v.getTransaction(A);if(N.from===this.from&&N.nonce===this.nonce){if(u)return null;const I=await this.provider.getTransactionReceipt(N.hash);if(I==null||y-I.blockNumber+1<r)return;let P="replaced";N.data===this.data&&N.to===this.to&&N.value===this.value?P="repriced":N.data==="0x"&&N.from===N.to&&N.value===O5&&(P="cancelled"),he(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:P==="replaced"||P==="cancelled",reason:P,replacement:N.replaceableTransaction(a),hash:N.hash,receipt:I})}}c++}},d=y=>{if(y==null||y.status!==0)return y;he(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:y.to,from:y.from,data:""},receipt:y})},p=await this.provider.getTransactionReceipt(this.hash);if(r===0)return d(p);if(p){if(r===1||await p.confirmations()>=r)return d(p)}else if(await h(),r===0)return null;return await new Promise((y,b)=>{const E=[],v=()=>{E.forEach(N=>N())};if(E.push(()=>{u=!0}),s>0){const N=setTimeout(()=>{v(),b(un("wait for transaction timeout","TIMEOUT"))},s);E.push(()=>{clearTimeout(N)})}const A=async N=>{if(await N.confirmations()>=r){v();try{y(d(N))}catch(I){b(I)}}};if(E.push(()=>{this.provider.off(this.hash,A)}),this.provider.on(this.hash,A),a>=0){const N=async()=>{try{await h()}catch(I){if(ur(I,"TRANSACTION_REPLACED")){v(),b(I);return}}u||this.provider.once("block",N)};E.push(()=>{this.provider.off("block",N)}),this.provider.once("block",N)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return he(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),x5(this)}reorderedEvent(e){return he(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),he(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),I5(this,e)}replaceableTransaction(e){Y(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new YS(this,this.provider);return F(t,Tc,e),t}};Tc=new WeakMap;let Km=YS;function mae(n){return{orphan:"drop-block",hash:n.hash,number:n.number}}function I5(n,e){return{orphan:"reorder-transaction",tx:n,other:e}}function x5(n){return{orphan:"drop-transaction",tx:n}}function yae(n){return{orphan:"drop-log",log:{transactionHash:n.transactionHash,blockHash:n.blockHash,blockNumber:n.blockNumber,address:n.address,data:n.data,topics:Object.freeze(n.topics.slice()),index:n.index}}}class HS extends Oy{constructor(t,r,s){super(t,t.provider);ee(this,"interface");ee(this,"fragment");ee(this,"args");const a=r.decodeEventLog(s,t.data,t.topics);qe(this,{args:a,fragment:s,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class P5 extends Oy{constructor(t,r){super(t,t.provider);ee(this,"error");qe(this,{error:r})}}var nf;class wae extends R5{constructor(t,r,s){super(s,r);ie(this,nf);F(this,nf,t)}get logs(){return super.logs.map(t=>{const r=t.topics.length?S(this,nf).getEvent(t.topics[0]):null;if(r)try{return new HS(t,S(this,nf),r)}catch(s){return new P5(t,s)}return t})}}nf=new WeakMap;var ty;class zS extends Km{constructor(t,r,s){super(s,r);ie(this,ty);F(this,ty,t)}async wait(t,r){const s=await super.wait(t,r);return s==null?null:new wae(S(this,ty),this.provider,s)}}ty=new WeakMap;class D5 extends t8{constructor(t,r,s,a){super(t,r,s);ee(this,"log");qe(this,{log:a})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class bae extends D5{constructor(e,t,r,s,a){super(e,t,r,new HS(a,e.interface,s));const c=e.interface.decodeEventLog(s,this.log.data,this.log.topics);qe(this,{args:c,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const PP=BigInt(0);function U5(n){return n&&typeof n.call=="function"}function k5(n){return n&&typeof n.estimateGas=="function"}function wv(n){return n&&typeof n.resolveName=="function"}function B5(n){return n&&typeof n.sendTransaction=="function"}function M5(n){if(n!=null){if(wv(n))return n;if(n.provider)return n.provider}}var ny;class vae{constructor(e,t,r){ie(this,ny);ee(this,"fragment");if(qe(this,{fragment:t}),t.inputs.length<r.length)throw new Error("too many arguments");const s=$u(e.runner,"resolveName"),a=wv(s)?s:null;F(this,ny,async function(){const c=await Promise.all(t.inputs.map((u,h)=>r[h]==null?null:u.walkAsync(r[h],(p,m)=>p==="address"?Array.isArray(m)?Promise.all(m.map(y=>$r(y,a))):$r(m,a):m)));return e.interface.encodeFilterTopics(t,c)}())}getTopicFilter(){return S(this,ny)}}ny=new WeakMap;function $u(n,e){return n==null?null:typeof n[e]=="function"?n:n.provider&&typeof n.provider[e]=="function"?n.provider:null}function Ql(n){return n==null?null:n.provider||null}async function L5(n,e){const t=Sr.dereference(n,"overrides");Y(typeof t=="object","invalid overrides parameter","overrides",n);const r=Ob(t);return Y(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),Y(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function Eae(n,e,t){const r=$u(n,"resolveName"),s=wv(r)?r:null;return await Promise.all(e.map((a,c)=>a.walkAsync(t[c],(u,h)=>(h=Sr.dereference(h,u),u==="address"?$r(h,s):h))))}function Aae(n){const e=async function(c){const u=await L5(c,["data"]);u.to=await n.getAddress(),u.from&&(u.from=await $r(u.from,M5(n.runner)));const h=n.interface,d=De(u.value||PP,"overrides.value")===PP,p=(u.data||"0x")==="0x";h.fallback&&!h.fallback.payable&&h.receive&&!p&&!d&&Y(!1,"cannot send data to receive or send value to non-payable fallback","overrides",c),Y(h.fallback||p,"cannot send data to receive-only contract","overrides.data",u.data);const m=h.receive||h.fallback&&h.fallback.payable;return Y(m||d,"cannot send value to non-payable fallback","overrides.value",u.value),Y(h.fallback||p,"cannot send data to receive-only contract","overrides.data",u.data),u},t=async function(c){const u=$u(n.runner,"call");he(U5(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const h=await e(c);try{return await u.call(h)}catch(d){throw OS(d)&&d.data?n.interface.makeError(d.data,h):d}},r=async function(c){const u=n.runner;he(B5(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const h=await u.sendTransaction(await e(c)),d=Ql(n.runner);return new zS(n.interface,d,h)},s=async function(c){const u=$u(n.runner,"estimateGas");return he(k5(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await e(c))},a=async c=>await r(c);return qe(a,{_contract:n,estimateGas:s,populateTransaction:e,send:r,staticCall:t}),a}function _ae(n,e){const t=function(...d){const p=n.interface.getFunction(e,d);return he(p,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:d}}),p},r=async function(...d){const p=t(...d);let m={};if(p.inputs.length+1===d.length&&(m=await L5(d.pop()),m.from&&(m.from=await $r(m.from,M5(n.runner)))),p.inputs.length!==d.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const y=await Eae(n.runner,p.inputs,d);return Object.assign({},m,await Br({to:n.getAddress(),data:n.interface.encodeFunctionData(p,y)}))},s=async function(...d){const p=await u(...d);return p.length===1?p[0]:p},a=async function(...d){const p=n.runner;he(B5(p),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const m=await p.sendTransaction(await r(...d)),y=Ql(n.runner);return new zS(n.interface,y,m)},c=async function(...d){const p=$u(n.runner,"estimateGas");return he(k5(p),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await p.estimateGas(await r(...d))},u=async function(...d){const p=$u(n.runner,"call");he(U5(p),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const m=await r(...d);let y="0x";try{y=await p.call(m)}catch(E){throw OS(E)&&E.data?n.interface.makeError(E.data,m):E}const b=t(...d);return n.interface.decodeFunctionResult(b,y)},h=async(...d)=>t(...d).constant?await s(...d):await a(...d);return qe(h,{name:n.interface.getFunctionName(e),_contract:n,_key:e,getFragment:t,estimateGas:c,populateTransaction:r,send:a,staticCall:s,staticCallResult:u}),Object.defineProperty(h,"fragment",{configurable:!1,enumerable:!0,get:()=>{const d=n.interface.getFunction(e);return he(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),d}}),h}function Cae(n,e){const t=function(...s){const a=n.interface.getEvent(e,s);return he(a,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),a},r=function(...s){return new vae(n,t(...s),s)};return qe(r,{name:n.interface.getEventName(e),_contract:n,_key:e,getFragment:t}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=n.interface.getEvent(e);return he(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),r}const Rb=Symbol.for("_ethersInternal_contract"),$5=new WeakMap;function Sae(n,e){$5.set(n[Rb],e)}function Cs(n){return $5.get(n[Rb])}function Nae(n){return n&&typeof n=="object"&&"getTopicFilter"in n&&typeof n.getTopicFilter=="function"&&n.fragment}async function qS(n,e){let t,r=null;if(Array.isArray(e)){const a=function(c){if(en(c,32))return c;const u=n.interface.getEvent(c);return Y(u,"unknown fragment","name",c),u.topicHash};t=e.map(c=>c==null?null:Array.isArray(c)?c.map(a):a(c))}else e==="*"?t=[null]:typeof e=="string"?en(e,32)?t=[e]:(r=n.interface.getEvent(e),Y(r,"unknown fragment","event",e),t=[r.topicHash]):Nae(e)?t=await e.getTopicFilter():"fragment"in e?(r=e.fragment,t=[r.topicHash]):Y(!1,"unknown event name","event",e);t=t.map(a=>{if(a==null)return null;if(Array.isArray(a)){const c=Array.from(new Set(a.map(u=>u.toLowerCase())).values());return c.length===1?c[0]:(c.sort(),c)}return a.toLowerCase()});const s=t.map(a=>a==null?"null":Array.isArray(a)?a.join("|"):a).join("&");return{fragment:r,tag:s,topics:t}}async function Ig(n,e){const{subs:t}=Cs(n);return t.get((await qS(n,e)).tag)||null}async function DP(n,e,t){const r=Ql(n.runner);he(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:a,topics:c}=await qS(n,t),{addr:u,subs:h}=Cs(n);let d=h.get(a);if(!d){const m={address:u||n,topics:c},y=A=>{let N=s;if(N==null)try{N=n.interface.getEvent(A.topics[0])}catch{}if(N){const I=N,P=s?n.interface.decodeEventLog(s,A.data,A.topics):[];DC(n,t,P,k=>new bae(n,k,t,I,A))}else DC(n,t,[],I=>new D5(n,I,t,A))};let b=[];d={tag:a,listeners:[],start:()=>{b.length||b.push(r.on(m,y))},stop:async()=>{if(b.length==0)return;let A=b;b=[],await Promise.all(A),r.off(m,y)}},h.set(a,d)}return d}let PC=Promise.resolve();async function Tae(n,e,t,r){await PC;const s=await Ig(n,e);if(!s)return!1;const a=s.listeners.length;return s.listeners=s.listeners.filter(({listener:c,once:u})=>{const h=Array.from(t);r&&h.push(r(u?null:c));try{c.call(n,...h)}catch{}return!u}),s.listeners.length===0&&(s.stop(),Cs(n).subs.delete(s.tag)),a>0}async function DC(n,e,t,r){try{await PC}catch{}const s=Tae(n,e,t,r);return PC=s,await s}const S0=["then"];var qP;qP=Rb;const Wg=class Wg{constructor(e,t,r,s){ee(this,"target");ee(this,"interface");ee(this,"runner");ee(this,"filters");ee(this,qP);ee(this,"fallback");Y(typeof e=="string"||q8(e),"invalid value for Contract target","target",e),r==null&&(r=null);const a=xC.from(t);qe(this,{target:e,runner:r,interface:a}),Object.defineProperty(this,Rb,{value:{}});let c,u=null,h=null;if(s){const m=Ql(r);h=new zS(this.interface,m,s)}let d=new Map;if(typeof e=="string")if(en(e))u=e,c=Promise.resolve(e);else{const m=$u(r,"resolveName");if(!wv(m))throw un("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});c=m.resolveName(e).then(y=>{if(y==null)throw un("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Cs(this).addr=y,y})}else c=e.getAddress().then(m=>{if(m==null)throw new Error("TODO");return Cs(this).addr=m,m});Sae(this,{addrPromise:c,addr:u,deployTx:h,subs:d});const p=new Proxy({},{get:(m,y,b)=>{if(typeof y=="symbol"||S0.indexOf(y)>=0)return Reflect.get(m,y,b);try{return this.getEvent(y)}catch(E){if(!ur(E,"INVALID_ARGUMENT")||E.argument!=="key")throw E}},has:(m,y)=>S0.indexOf(y)>=0?Reflect.has(m,y):Reflect.has(m,y)||this.interface.hasEvent(String(y))});return qe(this,{filters:p}),qe(this,{fallback:a.receive||a.fallback?Aae(this):null}),new Proxy(this,{get:(m,y,b)=>{if(typeof y=="symbol"||y in m||S0.indexOf(y)>=0)return Reflect.get(m,y,b);try{return m.getFunction(y)}catch(E){if(!ur(E,"INVALID_ARGUMENT")||E.argument!=="key")throw E}},has:(m,y)=>typeof y=="symbol"||y in m||S0.indexOf(y)>=0?Reflect.has(m,y):m.interface.hasFunction(y)})}connect(e){return new Wg(this.target,this.interface,e)}attach(e){return new Wg(e,this.interface,this.runner)}async getAddress(){return await Cs(this).addrPromise}async getDeployedCode(){const e=Ql(this.runner);he(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=Ql(this.runner);return he(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,a)=>{const c=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);r.once("block",c)}catch(u){a(u)}};c()})}deploymentTransaction(){return Cs(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),_ae(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),Cae(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,r){t==null&&(t=0),r==null&&(r="latest");const{addr:s,addrPromise:a}=Cs(this),c=s||await a,{fragment:u,topics:h}=await qS(this,e),d={address:c,topics:h,fromBlock:t,toBlock:r},p=Ql(this.runner);return he(p,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await p.getLogs(d)).map(m=>{let y=u;if(y==null)try{y=this.interface.getEvent(m.topics[0])}catch{}if(y)try{return new HS(m,this.interface,y)}catch(b){return new P5(m,b)}return new Oy(m,p)})}async on(e,t){const r=await DP(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){const r=await DP(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await DC(this,e,t,null)}async listenerCount(e){if(e){const s=await Ig(this,e);return s?s.listeners.length:0}const{subs:t}=Cs(this);let r=0;for(const{listeners:s}of t.values())r+=s.length;return r}async listeners(e){if(e){const s=await Ig(this,e);return s?s.listeners.map(({listener:a})=>a):[]}const{subs:t}=Cs(this);let r=[];for(const{listeners:s}of t.values())r=r.concat(s.map(({listener:a})=>a));return r}async off(e,t){const r=await Ig(this,e);if(!r)return this;if(t){const s=r.listeners.map(({listener:a})=>a).indexOf(t);s>=0&&r.listeners.splice(s,1)}return(t==null||r.listeners.length===0)&&(r.stop(),Cs(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const t=await Ig(this,e);if(!t)return this;t.stop(),Cs(this).subs.delete(t.tag)}else{const{subs:t}=Cs(this);for(const{tag:r,stop:s}of t.values())s(),t.delete(r)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends Wg{constructor(s,a=null){super(s,e,a)}}return t}static from(e,t,r){return r==null&&(r=null),new this(e,t,r)}};let UC=Wg;function Oae(){return UC}class Cu extends Oae(){}function s_(n){return n.match(/^ipfs:\/\/ipfs\//i)?n=n.substring(12):n.match(/^ipfs:\/\//i)?n=n.substring(7):Y(!1,"unsupported IPFS format","link",n),`https://gateway.ipfs.io/ipfs/${n}`}class Rae{constructor(e){ee(this,"name");qe(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const F5=new RegExp("^(ipfs)://(.*)$","i"),UP=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),F5,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Oc,lu,Rc,dd,kb,j5;const bd=class bd{constructor(e,t,r){ie(this,Rc);ee(this,"provider");ee(this,"address");ee(this,"name");ie(this,Oc);ie(this,lu);qe(this,{provider:e,address:t,name:r}),F(this,Oc,null),F(this,lu,new Cu(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return S(this,Oc)==null&&F(this,Oc,(async()=>{try{return await S(this,lu).supportsInterface("0x9061b923")}catch(e){if(ur(e,"CALL_EXCEPTION"))return!1;throw F(this,Oc,null),e}})()),await S(this,Oc)}async getAddress(e){if(e==null&&(e=60),e===60)try{const a=await pe(this,Rc,dd).call(this,"addr(bytes32)");return a==null||a===$m?null:a}catch(a){if(ur(a,"CALL_EXCEPTION"))return null;throw a}if(e>=0&&e<2147483648){let a=e+2147483648;const c=await pe(this,Rc,dd).call(this,"addr(bytes32,uint)",[a]);if(en(c,20))return Dt(c)}let t=null;for(const a of this.provider.plugins)if(a instanceof Rae&&a.supportsCoinType(e)){t=a;break}if(t==null)return null;const r=await pe(this,Rc,dd).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const s=await t.decodeAddress(e,r);if(s!=null)return s;he(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const t=await pe(this,Rc,dd).call(this,"text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){const e=await pe(this,Rc,dd).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const s=t[1]==="e3010170"?"ipfs":"ipns",a=parseInt(t[4],16);if(t[5].length===a*2)return`${s}://${Une("0x"+t[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;he(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<UP.length;r++){const s=t.match(UP[r]);if(s==null)continue;const a=s[1].toLowerCase();switch(a){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const c=s_(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:c}),{linkage:e,url:c}}case"erc721":case"erc1155":{const c=a==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:a,value:t});const u=await this.getAddress();if(u==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const h=(s[2]||"").split("/");if(h.length!==2)return e.push({type:`!${a}caip`,value:s[2]||""}),{url:null,linkage:e};const d=h[1],p=new Cu(h[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(a==="erc721"){const v=await p.ownerOf(d);if(u!==v)return e.push({type:"!owner",value:v}),{url:null,linkage:e};e.push({type:"owner",value:v})}else if(a==="erc1155"){const v=await p.balanceOf(u,d);if(!v)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:v.toString()})}let m=await p[c](d);if(m==null||m==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:m}),a==="erc1155"&&(m=m.replace("{id}",Zc(d,32).substring(2)),e.push({type:"metadata-url-expanded",value:m})),m.match(/^ipfs:/i)&&(m=s_(m)),e.push({type:"metadata-url",value:m});let y={};const b=await new Io(m).send();b.assertOk();try{y=b.bodyJson}catch{try{e.push({type:"!metadata",value:b.bodyText})}catch{const N=b.body;return N&&e.push({type:"!metadata",value:Ae(N)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!y)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(y)});let E=y.image;if(typeof E!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!E.match(/^(https:\/\/|data:)/i)){if(E.match(F5)==null)return e.push({type:"!imageUrl-ipfs",value:E}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:E}),E=s_(E)}return e.push({type:"url",value:E}),{linkage:e,url:E}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return he(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async fromName(e,t){var s;let r=t;for(;;){if(r===""||r==="."||t!=="eth"&&r==="eth")return null;const a=await pe(s=bd,kb,j5).call(s,e,r);if(a!=null){const c=new bd(e,a,t);return r!==t&&!await c.supportsWildcard()?null:c}r=r.split(".").slice(1).join(".")}}};Oc=new WeakMap,lu=new WeakMap,Rc=new WeakSet,dd=async function(e,t){t=(t||[]).slice();const r=S(this,lu).interface;t.unshift(RC(this.name));let s=null;await this.supportsWildcard()&&(s=r.getFunction(e),he(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[qie(this.name,255),r.encodeFunctionData(s,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const a=await S(this,lu)[e](...t);return s?r.decodeFunctionResult(s,a)[0]:a}catch(a){if(!ur(a,"CALL_EXCEPTION"))throw a}return null},kb=new WeakSet,j5=async function(e,t){const r=await bd.getEnsAddress(e);try{const a=await new Cu(r,["function resolver(bytes32) view returns (address)"],e).resolver(RC(t),{enableCcipRead:!0});return a===$m?null:a}catch(s){throw s}return null},ie(bd,kb);let Ib=bd;const kP=BigInt(0);function yt(n,e){return function(t){return t==null?e:n(t)}}function Wm(n,e){return t=>{if(e&&t==null)return null;if(!Array.isArray(t))throw new Error("not an array");return t.map(r=>n(r))}}function Ry(n,e){return t=>{const r={};for(const s in n){let a=s;if(e&&s in e&&!(a in t)){for(const c of e[s])if(c in t){a=c;break}}try{const c=n[s](t[a]);c!==void 0&&(r[s]=c)}catch(c){const u=c instanceof Error?c.message:"not-an-error";he(!1,`invalid value for value.${s} (${u})`,"BAD_DATA",{value:t})}}return r}}function Iae(n){switch(n){case!0:case"true":return!0;case!1:case"false":return!1}Y(!1,`invalid boolean; ${JSON.stringify(n)}`,"value",n)}function Hf(n){return Y(en(n,!0),"invalid data","value",n),n}function lr(n){return Y(en(n,32),"invalid hash","value",n),n}const xae=Ry({address:Dt,blockHash:lr,blockNumber:rt,data:Hf,index:rt,removed:yt(Iae,!1),topics:Wm(lr),transactionHash:lr,transactionIndex:rt},{index:["logIndex"]});function Pae(n){return xae(n)}const Dae=Ry({hash:yt(lr),parentHash:lr,parentBeaconBlockRoot:yt(lr,null),number:rt,timestamp:rt,nonce:yt(Hf),difficulty:De,gasLimit:De,gasUsed:De,stateRoot:yt(lr,null),receiptsRoot:yt(lr,null),blobGasUsed:yt(De,null),excessBlobGas:yt(De,null),miner:yt(Dt),prevRandao:yt(lr,null),extraData:Hf,baseFeePerGas:yt(De)},{prevRandao:["mixHash"]});function Uae(n){const e=Dae(n);return e.transactions=n.transactions.map(t=>typeof t=="string"?t:H5(t)),e}const kae=Ry({transactionIndex:rt,blockNumber:rt,transactionHash:lr,address:Dt,topics:Wm(lr),data:Hf,index:rt,blockHash:lr},{index:["logIndex"]});function Bae(n){return kae(n)}const Mae=Ry({to:yt(Dt,null),from:yt(Dt,null),contractAddress:yt(Dt,null),index:rt,root:yt(Ae),gasUsed:De,blobGasUsed:yt(De,null),logsBloom:yt(Hf),blockHash:lr,hash:lr,logs:Wm(Bae),blockNumber:rt,cumulativeGasUsed:De,effectiveGasPrice:yt(De),blobGasPrice:yt(De,null),status:yt(rt),type:yt(rt,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Lae(n){return Mae(n)}function H5(n){n.to&&De(n.to)===kP&&(n.to="0x0000000000000000000000000000000000000000");const e=Ry({hash:lr,index:yt(rt,void 0),type:t=>t==="0x"||t==null?0:rt(t),accessList:yt(Yu,null),blobVersionedHashes:yt(Wm(lr,!0),null),authorizationList:yt(Wm(t=>{let r;if(t.signature)r=t.signature;else{let s=t.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),r=Object.assign({},t,{yParity:s})}return{address:Dt(t.address),chainId:De(t.chainId),nonce:De(t.nonce),signature:ls.from(r)}},!1),null),blockHash:yt(lr,null),blockNumber:yt(rt,null),transactionIndex:yt(rt,null),from:Dt,gasPrice:yt(De),maxPriorityFeePerGas:yt(De),maxFeePerGas:yt(De),maxFeePerBlobGas:yt(De,null),gasLimit:De,to:yt(Dt,null),value:De,nonce:rt,data:Hf,creates:yt(Dt,null),chainId:yt(De,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(n);if(e.to==null&&e.creates==null&&(e.creates=Nse(e)),(n.type===1||n.type===2)&&n.accessList==null&&(e.accessList=[]),n.signature?e.signature=ls.from(n.signature):e.signature=ls.from(n),e.chainId==null){const t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&De(e.blockHash)===kP&&(e.blockHash=null),e}const $ae="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Iy{constructor(e){ee(this,"name");qe(this,{name:e})}clone(){return new Iy(this.name)}}class bv extends Iy{constructor(t,r){t==null&&(t=0);super(`org.ethers.network.plugins.GasCost#${t||0}`);ee(this,"effectiveBlock");ee(this,"txBase");ee(this,"txCreate");ee(this,"txDataZero");ee(this,"txDataNonzero");ee(this,"txAccessListStorageKey");ee(this,"txAccessListAddress");const s={effectiveBlock:t};function a(c,u){let h=(r||{})[c];h==null&&(h=u),Y(typeof h=="number",`invalud value for ${c}`,"costs",r),s[c]=h}a("txBase",21e3),a("txCreate",32e3),a("txDataZero",4),a("txDataNonzero",16),a("txAccessListStorageKey",1900),a("txAccessListAddress",2400),qe(this,s)}clone(){return new bv(this.effectiveBlock,this)}}class vv extends Iy{constructor(t,r){super("org.ethers.plugins.network.Ens");ee(this,"address");ee(this,"targetNetwork");qe(this,{address:t||$ae,targetNetwork:r??1})}clone(){return new vv(this.address,this.targetNetwork)}}var ry,sy;class Fae extends Iy{constructor(t,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");ie(this,ry);ie(this,sy);F(this,ry,t),F(this,sy,r)}get url(){return S(this,ry)}get processFunc(){return S(this,sy)}clone(){return this}}ry=new WeakMap,sy=new WeakMap;const i_=new Map;var rf,sf,Ic;const vd=class vd{constructor(e,t){ie(this,rf);ie(this,sf);ie(this,Ic);F(this,rf,e),F(this,sf,De(t)),F(this,Ic,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return S(this,rf)}set name(e){F(this,rf,e)}get chainId(){return S(this,sf)}set chainId(e){F(this,sf,De(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===De(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===De(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===De(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(S(this,Ic).values())}attachPlugin(e){if(S(this,Ic).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return S(this,Ic).set(e.name,e.clone()),this}getPlugin(e){return S(this,Ic).get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new vd(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new bv;let r=t.txBase;if(e.to==null&&(r+=t.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){const s=Yu(e.accessList);for(const a in s)r+=t.txAccessListAddress+t.txAccessListStorageKey*s[a].storageKeys.length}return r}static from(e){if(jae(),e==null)return vd.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const t=i_.get(e);if(t)return t();if(typeof e=="bigint")return new vd("unknown",e);Y(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){Y(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const t=new vd(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new vv(e.ensAddress,e.ensNetwork)),t}Y(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));const r=i_.get(e);r&&Y(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),i_.set(e,t)}};rf=new WeakMap,sf=new WeakMap,Ic=new WeakMap;let ba=vd;function BP(n,e){const t=String(n);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${n}`);const r=t.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${n}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let s=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||s++,r[1]=s.toString()}return BigInt(r[0]+r[1])}function MP(n){return new Fae(n,async(e,t,r)=>{r.setHeader("User-Agent","ethers");let s;try{const[a,c]=await Promise.all([r.send(),e()]);s=a;const u=s.bodyJson.standard;return{gasPrice:c.gasPrice,maxFeePerGas:BP(u.maxFee,9),maxPriorityFeePerGas:BP(u.maxPriorityFee,9)}}catch(a){he(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:s,error:a})}})}let LP=!1;function jae(){if(LP)return;LP=!0;function n(e,t,r){const s=function(){const a=new ba(e,t);return r.ensNetwork!=null&&a.attachPlugin(new vv(null,r.ensNetwork)),a.attachPlugin(new bv),(r.plugins||[]).forEach(c=>{a.attachPlugin(c)}),a};ba.register(e,s),ba.register(t,s),r.altNames&&r.altNames.forEach(a=>{ba.register(a,s)})}n("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),n("ropsten",3,{ensNetwork:3}),n("rinkeby",4,{ensNetwork:4}),n("goerli",5,{ensNetwork:5}),n("kovan",42,{ensNetwork:42}),n("sepolia",11155111,{ensNetwork:11155111}),n("holesky",17e3,{ensNetwork:17e3}),n("classic",61,{}),n("classicKotti",6,{}),n("arbitrum",42161,{ensNetwork:1}),n("arbitrum-goerli",421613,{}),n("arbitrum-sepolia",421614,{}),n("base",8453,{ensNetwork:1}),n("base-goerli",84531,{}),n("base-sepolia",84532,{}),n("bnb",56,{ensNetwork:1}),n("bnbt",97,{}),n("linea",59144,{ensNetwork:1}),n("linea-goerli",59140,{}),n("linea-sepolia",59141,{}),n("matic",137,{ensNetwork:1,plugins:[MP("https://gasstation.polygon.technology/v2")]}),n("matic-amoy",80002,{}),n("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[MP("https://gasstation-testnet.polygon.technology/v2")]}),n("optimism",10,{ensNetwork:1,plugins:[]}),n("optimism-goerli",420,{}),n("optimism-sepolia",11155420,{}),n("xdai",100,{ensNetwork:1})}function kC(n){return JSON.parse(JSON.stringify(n))}var ho,ti,xc,ca,af,G0;class Hae{constructor(e){ie(this,af);ie(this,ho);ie(this,ti);ie(this,xc);ie(this,ca);F(this,ho,e),F(this,ti,null),F(this,xc,4e3),F(this,ca,-2)}get pollingInterval(){return S(this,xc)}set pollingInterval(e){F(this,xc,e)}start(){S(this,ti)||(F(this,ti,S(this,ho)._setTimeout(pe(this,af,G0).bind(this),S(this,xc))),pe(this,af,G0).call(this))}stop(){S(this,ti)&&(S(this,ho)._clearTimeout(S(this,ti)),F(this,ti,null))}pause(e){this.stop(),e&&F(this,ca,-2)}resume(){this.start()}}ho=new WeakMap,ti=new WeakMap,xc=new WeakMap,ca=new WeakMap,af=new WeakSet,G0=async function(){try{const e=await S(this,ho).getBlockNumber();if(S(this,ca)===-2){F(this,ca,e);return}if(e!==S(this,ca)){for(let t=S(this,ca)+1;t<=e;t++){if(S(this,ti)==null)return;await S(this,ho).emit("block",t)}F(this,ca,e)}}catch{}S(this,ti)!=null&&F(this,ti,S(this,ho)._setTimeout(pe(this,af,G0).bind(this),S(this,xc)))};var uu,hu,Pc;class GS{constructor(e){ie(this,uu);ie(this,hu);ie(this,Pc);F(this,uu,e),F(this,Pc,!1),F(this,hu,t=>{this._poll(t,S(this,uu))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){S(this,Pc)||(F(this,Pc,!0),S(this,hu).call(this,-2),S(this,uu).on("block",S(this,hu)))}stop(){S(this,Pc)&&(F(this,Pc,!1),S(this,uu).off("block",S(this,hu)))}pause(e){this.stop()}resume(){this.start()}}uu=new WeakMap,hu=new WeakMap,Pc=new WeakMap;var of,fo;class zae extends GS{constructor(t,r){super(t);ie(this,of);ie(this,fo);F(this,of,r),F(this,fo,-2)}pause(t){t&&F(this,fo,-2),super.pause(t)}async _poll(t,r){const s=await r.getBlock(S(this,of));s!=null&&(S(this,fo)===-2?F(this,fo,s.number):s.number>S(this,fo)&&(r.emit(S(this,of),s.number),F(this,fo,s.number)))}}of=new WeakMap,fo=new WeakMap;var Bb;class qae extends GS{constructor(t,r){super(t);ie(this,Bb);F(this,Bb,kC(r))}async _poll(t,r){throw new Error("@TODO")}}Bb=new WeakMap;var cf;class Gae extends GS{constructor(t,r){super(t);ie(this,cf);F(this,cf,r)}async _poll(t,r){const s=await r.getTransactionReceipt(S(this,cf));s&&r.emit(S(this,cf),s)}}cf=new WeakMap;var po,lf,uf,Dc,ni,Mb,z5;class VS{constructor(e,t){ie(this,Mb);ie(this,po);ie(this,lf);ie(this,uf);ie(this,Dc);ie(this,ni);F(this,po,e),F(this,lf,kC(t)),F(this,uf,pe(this,Mb,z5).bind(this)),F(this,Dc,!1),F(this,ni,-2)}start(){S(this,Dc)||(F(this,Dc,!0),S(this,ni)===-2&&S(this,po).getBlockNumber().then(e=>{F(this,ni,e)}),S(this,po).on("block",S(this,uf)))}stop(){S(this,Dc)&&(F(this,Dc,!1),S(this,po).off("block",S(this,uf)))}pause(e){this.stop(),e&&F(this,ni,-2)}resume(){this.start()}}po=new WeakMap,lf=new WeakMap,uf=new WeakMap,Dc=new WeakMap,ni=new WeakMap,Mb=new WeakSet,z5=async function(e){if(S(this,ni)===-2)return;const t=kC(S(this,lf));t.fromBlock=S(this,ni)+1,t.toBlock=e;const r=await S(this,po).getLogs(t);if(r.length===0){S(this,ni)<e-60&&F(this,ni,e-60);return}for(const s of r)S(this,po).emit(S(this,lf),s),F(this,ni,s.blockNumber)};const Vae=BigInt(2),Kae=10;function N0(n){return n&&typeof n.then=="function"}function V0(n,e){return n+":"+JSON.stringify(e,(t,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const s=Object.keys(r);return s.sort(),s.reduce((a,c)=>(a[c]=r[c],a),{})}return r})}class q5{constructor(e){ee(this,"name");qe(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Wae(n){return JSON.parse(JSON.stringify(n))}function BC(n){return n=Array.from(new Set(n).values()),n.sort(),n}async function a_(n,e){if(n==null)throw new Error("invalid event");if(Array.isArray(n)&&(n={topics:n}),typeof n=="string")switch(n){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:n,tag:n}}if(en(n,32)){const t=n.toLowerCase();return{type:"transaction",tag:V0("tx",{hash:t}),hash:t}}if(n.orphan){const t=n;return{type:"orphan",tag:V0("orphan",t),filter:Wae(t)}}if(n.address||n.topics){const t=n,r={topics:(t.topics||[]).map(s=>s==null?null:Array.isArray(s)?BC(s.map(a=>a.toLowerCase())):s.toLowerCase())};if(t.address){const s=[],a=[],c=u=>{en(u)?s.push(u):a.push((async()=>{s.push(await $r(u,e))})())};Array.isArray(t.address)?t.address.forEach(c):c(t.address),a.length&&await Promise.all(a),r.address=BC(s.map(u=>u.toLowerCase()))}return{filter:r,tag:V0("event",r),type:"event"}}Y(!1,"unknown ProviderEvent","event",n)}function o_(){return new Date().getTime()}const Yae={cacheTimeout:250,pollingInterval:4e3};var _r,Uc,Cr,hf,Os,du,kc,go,iy,ri,df,ff,ht,As,MC,LC,xg,$C,Pg,K0;class Qae{constructor(e,t){ie(this,ht);ie(this,_r);ie(this,Uc);ie(this,Cr);ie(this,hf);ie(this,Os);ie(this,du);ie(this,kc);ie(this,go);ie(this,iy);ie(this,ri);ie(this,df);ie(this,ff);if(F(this,ff,Object.assign({},Yae,t||{})),e==="any")F(this,du,!0),F(this,Os,null);else if(e){const r=ba.from(e);F(this,du,!1),F(this,Os,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else F(this,du,!1),F(this,Os,null);F(this,go,-1),F(this,kc,new Map),F(this,_r,new Map),F(this,Uc,new Map),F(this,Cr,null),F(this,hf,!1),F(this,iy,1),F(this,ri,new Map),F(this,df,!1)}get pollingInterval(){return S(this,ff).pollingInterval}get provider(){return this}get plugins(){return Array.from(S(this,Uc).values())}attachPlugin(e){if(S(this,Uc).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return S(this,Uc).set(e.name,e.connect(this)),this}getPlugin(e){return S(this,Uc).get(e)||null}get disableCcipRead(){return S(this,df)}set disableCcipRead(e){F(this,df,!!e)}async ccipReadFetch(e,t,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const s=e.to.toLowerCase(),a=t.toLowerCase(),c=[];for(let u=0;u<r.length;u++){const h=r[u],d=h.replace("{sender}",s).replace("{data}",a),p=new Io(d);h.indexOf("{data}")===-1&&(p.body={data:a,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:p,index:u,urls:r});let m="unknown error",y;try{y=await p.send()}catch(b){c.push(b.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:p,result:{error:b}});continue}try{const b=y.bodyJson;if(b.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:p,result:b}),b.data;b.message&&(m=b.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:p,result:b})}catch{}he(y.statusCode<400||y.statusCode>=500,`response not found during CCIP fetch: ${m}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:h,errorMessage:m}}),c.push(m)}he(!1,`error encountered during CCIP fetch: ${c.map(u=>JSON.stringify(u)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:c}})}_wrapBlock(e,t){return new gae(Uae(e),this)}_wrapLog(e,t){return new Oy(Pae(e),this)}_wrapTransactionReceipt(e,t){return new R5(Lae(e),this)}_wrapTransactionResponse(e,t){return new Km(H5(e),this)}_detectNetwork(){he(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){he(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=rt(await pe(this,ht,As).call(this,{method:"getBlockNumber"}),"%response");return S(this,go)>=0&&F(this,go,e),e}_getAddress(e){return $r(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(en(e))return en(e,32)?e:Ii(e);if(typeof e=="bigint"&&(e=rt(e,"blockTag")),typeof e=="number")return e>=0?Ii(e):S(this,go)>=0?Ii(S(this,go)+e):this.getBlockNumber().then(t=>Ii(t+e));Y(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const t=(e.topics||[]).map(h=>h==null?null:Array.isArray(h)?BC(h.map(d=>d.toLowerCase())):h.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,s=(h,d,p)=>{let m;switch(h.length){case 0:break;case 1:m=h[0];break;default:h.sort(),m=h}if(r&&(d!=null||p!=null))throw new Error("invalid filter");const y={};return m&&(y.address=m),t.length&&(y.topics=t),d&&(y.fromBlock=d),p&&(y.toBlock=p),r&&(y.blockHash=r),y};let a=[];if(e.address)if(Array.isArray(e.address))for(const h of e.address)a.push(this._getAddress(h));else a.push(this._getAddress(e.address));let c;"fromBlock"in e&&(c=this._getBlockTag(e.fromBlock));let u;return"toBlock"in e&&(u=this._getBlockTag(e.toBlock)),a.filter(h=>typeof h!="string").length||c!=null&&typeof c!="string"||u!=null&&typeof u!="string"?Promise.all([Promise.all(a),c,u]).then(h=>s(h[0],h[1],h[2])):s(a,c,u)}_getTransactionRequest(e){const t=Ob(e),r=[];if(["to","from"].forEach(s=>{if(t[s]==null)return;const a=$r(t[s],this);N0(a)?r.push(async function(){t[s]=await a}()):t[s]=a}),t.blockTag!=null){const s=this._getBlockTag(t.blockTag);N0(s)?r.push(async function(){t.blockTag=await s}()):t.blockTag=s}return r.length?async function(){return await Promise.all(r),t}():t}async getNetwork(){if(S(this,Os)==null){const s=(async()=>{try{const a=await this._detectNetwork();return this.emit("network",a,null),a}catch(a){throw S(this,Os)===s&&F(this,Os,null),a}})();return F(this,Os,s),(await s).clone()}const e=S(this,Os),[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(S(this,du)?(this.emit("network",r,t),S(this,Os)===e&&F(this,Os,Promise.resolve(r))):he(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:s,gasPrice:a,priorityFee:c}=await Br({_block:pe(this,ht,$C).call(this,"latest",!1),gasPrice:(async()=>{try{const p=await pe(this,ht,As).call(this,{method:"getGasPrice"});return De(p,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const p=await pe(this,ht,As).call(this,{method:"getPriorityFee"});return De(p,"%response")}catch{}return null})()});let u=null,h=null;const d=this._wrapBlock(s,e);return d&&d.baseFeePerGas&&(h=c??BigInt("1000000000"),u=d.baseFeePerGas*Vae+h),new xP(a,u,h)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const s=new Io(r.url),a=await r.processFunc(t,this,s);return new xP(a.gasPrice,a.maxFeePerGas,a.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return N0(t)&&(t=await t),De(await pe(this,ht,As).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){const{tx:t,blockTag:r}=await Br({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await pe(this,ht,LC).call(this,pe(this,ht,MC).call(this,t,r,e.enableCcipRead?0:-1))}async getBalance(e,t){return De(await pe(this,ht,xg).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return rt(await pe(this,ht,xg).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return Ae(await pe(this,ht,xg).call(this,{method:"getCode"},e,t))}async getStorage(e,t,r){const s=De(t,"position");return Ae(await pe(this,ht,xg).call(this,{method:"getStorage",position:s},e,r))}async broadcastTransaction(e){const{blockNumber:t,hash:r,network:s}=await Br({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),a=Eb.from(e);if(a.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(a,s).replaceableTransaction(t)}async getBlock(e,t){const{network:r,params:s}=await Br({network:this.getNetwork(),params:pe(this,ht,$C).call(this,e,!!t)});return s==null?null:this._wrapBlock(s,r)}async getTransaction(e){const{network:t,params:r}=await Br({network:this.getNetwork(),params:pe(this,ht,As).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){const{network:t,params:r}=await Br({network:this.getNetwork(),params:pe(this,ht,As).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const s=await pe(this,ht,As).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){const{result:t}=await Br({network:this.getNetwork(),result:pe(this,ht,As).call(this,{method:"getTransactionResult",hash:e})});return t==null?null:Ae(t)}async getLogs(e){let t=this._getFilter(e);N0(t)&&(t=await t);const{network:r,params:s}=await Br({network:this.getNetwork(),params:pe(this,ht,As).call(this,{method:"getLogs",filter:t})});return s.map(a=>this._wrapLog(a,r))}_getProvider(e){he(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Ib.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=Dt(e);const t=RC(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await Ib.getEnsAddress(this),a=await new Cu(r,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(a==null||a===$m)return null;const u=await new Cu(a,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(u)!==e?null:u}catch(r){if(ur(r,"BAD_DATA")&&r.value==="0x"||ur(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,t,r){const s=t??1;return s===0?this.getTransactionReceipt(e):new Promise(async(a,c)=>{let u=null;const h=async d=>{try{const p=await this.getTransactionReceipt(e);if(p!=null&&d-p.blockNumber+1>=s){a(p),u&&(clearTimeout(u),u=null);return}}catch(p){console.log("EEE",p)}this.once("block",h)};r!=null&&(u=setTimeout(()=>{u!=null&&(u=null,this.off("block",h),c(un("timeout","TIMEOUT",{reason:"timeout"})))},r)),h(await this.getBlockNumber())})}async waitForBlock(e){he(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=S(this,ri).get(e);t&&(t.timer&&clearTimeout(t.timer),S(this,ri).delete(e))}_setTimeout(e,t){t==null&&(t=0);const r=Xp(this,iy)._++,s=()=>{S(this,ri).delete(r),e()};if(this.paused)S(this,ri).set(r,{timer:null,func:s,time:t});else{const a=setTimeout(s,t);S(this,ri).set(r,{timer:a,func:s,time:o_()})}return r}_forEachSubscriber(e){for(const t of S(this,_r).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new q5(e.type);case"block":{const t=new Hae(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new zae(this,e.type);case"event":return new VS(this,e.filter);case"transaction":return new Gae(this,e.hash);case"orphan":return new qae(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const r of S(this,_r).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),S(this,Cr)!=null&&t.pause(S(this,Cr));break}}async on(e,t){const r=await pe(this,ht,K0).call(this,e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,S(this,Cr)!=null&&r.subscriber.pause(S(this,Cr))),this}async once(e,t){const r=await pe(this,ht,K0).call(this,e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,S(this,Cr)!=null&&r.subscriber.pause(S(this,Cr))),this}async emit(e,...t){const r=await pe(this,ht,Pg).call(this,e,t);if(!r||r.listeners.length===0)return!1;const s=r.listeners.length;return r.listeners=r.listeners.filter(({listener:a,once:c})=>{const u=new t8(this,c?null:a,e);try{a.call(this,...t,u)}catch{}return!c}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),S(this,_r).delete(r.tag)),s>0}async listenerCount(e){if(e){const r=await pe(this,ht,Pg).call(this,e);return r?r.listeners.length:0}let t=0;for(const{listeners:r}of S(this,_r).values())t+=r.length;return t}async listeners(e){if(e){const r=await pe(this,ht,Pg).call(this,e);return r?r.listeners.map(({listener:s})=>s):[]}let t=[];for(const{listeners:r}of S(this,_r).values())t=t.concat(r.map(({listener:s})=>s));return t}async off(e,t){const r=await pe(this,ht,Pg).call(this,e);if(!r)return this;if(t){const s=r.listeners.map(({listener:a})=>a).indexOf(t);s>=0&&r.listeners.splice(s,1)}return(!t||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),S(this,_r).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:r,subscriber:s}=await pe(this,ht,K0).call(this,e);r&&s.stop(),S(this,_r).delete(t)}else for(const[t,{started:r,subscriber:s}]of S(this,_r))r&&s.stop(),S(this,_r).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return S(this,hf)}destroy(){this.removeAllListeners();for(const e of S(this,ri).keys())this._clearTimeout(e);F(this,hf,!0)}get paused(){return S(this,Cr)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(F(this,go,-1),S(this,Cr)!=null){if(S(this,Cr)==!!e)return;he(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),F(this,Cr,!!e);for(const t of S(this,ri).values())t.timer&&clearTimeout(t.timer),t.time=o_()-t.time}resume(){if(S(this,Cr)!=null){this._forEachSubscriber(e=>e.resume()),F(this,Cr,null);for(const e of S(this,ri).values()){let t=e.time;t<0&&(t=0),e.time=o_(),setTimeout(e.func,t)}}}}_r=new WeakMap,Uc=new WeakMap,Cr=new WeakMap,hf=new WeakMap,Os=new WeakMap,du=new WeakMap,kc=new WeakMap,go=new WeakMap,iy=new WeakMap,ri=new WeakMap,df=new WeakMap,ff=new WeakMap,ht=new WeakSet,As=async function(e){const t=S(this,ff).cacheTimeout;if(t<0)return await this._perform(e);const r=V0(e.method,e);let s=S(this,kc).get(r);return s||(s=this._perform(e),S(this,kc).set(r,s),setTimeout(()=>{S(this,kc).get(r)===s&&S(this,kc).delete(r)},t)),await s},MC=async function(e,t,r){he(r<Kae,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const s=Ob(e);try{return Ae(await this._perform({method:"call",transaction:s,blockTag:t}))}catch(a){if(!this.disableCcipRead&&OS(a)&&a.data&&r>=0&&t==="latest"&&s.to!=null&&vn(a.data,0,4)==="0x556f1830"){const c=a.data,u=await $r(s.to,this);let h;try{h=toe(vn(a.data,4))}catch(m){he(!1,m.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:c}})}he(h.sender.toLowerCase()===u.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:c,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:h.errorArgs}});const d=await this.ccipReadFetch(s,h.calldata,h.urls);he(d!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:a.data,errorArgs:h.errorArgs}});const p={to:u,data:En([h.selector,eoe([d,h.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:p});try{const m=await pe(this,ht,MC).call(this,p,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},p),result:m}),m}catch(m){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},p),error:m}),m}}throw a}},LC=async function(e){const{value:t}=await Br({network:this.getNetwork(),value:e});return t},xg=async function(e,t,r){let s=this._getAddress(t),a=this._getBlockTag(r);return(typeof s!="string"||typeof a!="string")&&([s,a]=await Promise.all([s,a])),await pe(this,ht,LC).call(this,pe(this,ht,As).call(this,Object.assign(e,{address:s,blockTag:a})))},$C=async function(e,t){if(en(e,32))return await pe(this,ht,As).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await pe(this,ht,As).call(this,{method:"getBlock",blockTag:r,includeTransactions:t})},Pg=async function(e,t){let r=await a_(e,this);return r.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(r=await a_({orphan:"drop-log",log:t[0]},this)),S(this,_r).get(r.tag)||null},K0=async function(e){const t=await a_(e,this),r=t.tag;let s=S(this,_r).get(r);return s||(s={subscriber:this._getSubscriber(t),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},S(this,_r).set(r,s)),s};function Zae(n,e){try{const t=FC(n,e);if(t)return wb(t)}catch{}return null}function FC(n,e){if(n==="0x")return null;try{const t=rt(vn(n,e,e+32)),r=rt(vn(n,t,t+32));return vn(n,t+32,t+32+r)}catch{}return null}function $P(n){const e=hr(n);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function Jae(n){if(n.length%32===0)return n;const e=new Uint8Array(Math.ceil(n.length/32)*32);return e.set(n),e}const Xae=new Uint8Array([]);function eoe(n){const e=[];let t=0;for(let r=0;r<n.length;r++)e.push(Xae),t+=32;for(let r=0;r<n.length;r++){const s=ot(n[r]);e[r]=$P(t),e.push($P(s.length)),e.push(Jae(s)),t+=32+Math.ceil(s.length/32)*32}return En(e)}const FP="0x0000000000000000000000000000000000000000000000000000000000000000";function toe(n){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};he(Sd(n)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const t=vn(n,0,32);he(vn(t,0,12)===vn(FP,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=vn(t,12);try{const r=[],s=rt(vn(n,32,64)),a=rt(vn(n,s,s+32)),c=vn(n,s+32);for(let u=0;u<a;u++){const h=Zae(c,u*32);if(h==null)throw new Error("abort");r.push(h)}e.urls=r}catch{he(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=FC(n,64);if(r==null)throw new Error("abort");e.calldata=r}catch{he(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}he(vn(n,100,128)===vn(FP,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=vn(n,96,100);try{const r=FC(n,128);if(r==null)throw new Error("abort");e.extraData=r}catch{he(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Tl(n,e){if(n.provider)return n.provider;he(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function jP(n,e){let t=Ob(e);if(t.to!=null&&(t.to=$r(t.to,n)),t.from!=null){const r=t.from;t.from=Promise.all([n.getAddress(),$r(r,n)]).then(([s,a])=>(Y(s.toLowerCase()===a.toLowerCase(),"transaction from mismatch","tx.from",a),s))}else t.from=n.getAddress();return await Br(t)}class noe{constructor(e){ee(this,"provider");qe(this,{provider:e||null})}async getNonce(e){return Tl(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await jP(this,e)}async populateTransaction(e){const t=Tl(this,"populateTransaction"),r=await jP(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const s=await this.provider.getNetwork();if(r.chainId!=null){const c=De(r.chainId);Y(c===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=s.chainId;const a=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||a)?Y(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&a&&Y(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const c=await t.getFeeData();he(c.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=c.gasPrice)}else{const c=await t.getFeeData();if(r.type==null)if(c.maxFeePerGas!=null&&c.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const u=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=u,r.maxPriorityFeePerGas=u}else r.maxFeePerGas==null&&(r.maxFeePerGas=c.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=c.maxPriorityFeePerGas);else c.gasPrice!=null?(he(!a,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=c.gasPrice),r.type=0):he(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=c.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=c.maxPriorityFeePerGas))}return await Br(r)}async populateAuthorization(e){const t=Object.assign({},e);return t.chainId==null&&(t.chainId=(await Tl(this,"getNetwork").getNetwork()).chainId),t.nonce==null&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return Tl(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Tl(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Tl(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=Tl(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const s=Eb.from(r);return await t.broadcastTransaction(await this.signTransaction(s))}authorize(e){he(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function roe(n){return JSON.parse(JSON.stringify(n))}var Ur,la,fu,Bc,pu,pf,Xc,jC,HC;class G5{constructor(e){ie(this,Xc);ie(this,Ur);ie(this,la);ie(this,fu);ie(this,Bc);ie(this,pu);ie(this,pf);F(this,Ur,e),F(this,la,null),F(this,fu,pe(this,Xc,jC).bind(this)),F(this,Bc,!1),F(this,pu,null),F(this,pf,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){S(this,Bc)||(F(this,Bc,!0),pe(this,Xc,jC).call(this,-2))}stop(){S(this,Bc)&&(F(this,Bc,!1),F(this,pf,!0),pe(this,Xc,HC).call(this),S(this,Ur).off("block",S(this,fu)))}pause(e){e&&pe(this,Xc,HC).call(this),S(this,Ur).off("block",S(this,fu))}resume(){this.start()}}Ur=new WeakMap,la=new WeakMap,fu=new WeakMap,Bc=new WeakMap,pu=new WeakMap,pf=new WeakMap,Xc=new WeakSet,jC=async function(e){try{S(this,la)==null&&F(this,la,this._subscribe(S(this,Ur)));let t=null;try{t=await S(this,la)}catch(a){if(!ur(a,"UNSUPPORTED_OPERATION")||a.operation!=="eth_newFilter")throw a}if(t==null){F(this,la,null),S(this,Ur)._recoverSubscriber(this,this._recover(S(this,Ur)));return}const r=await S(this,Ur).getNetwork();if(S(this,pu)||F(this,pu,r),S(this,pu).chainId!==r.chainId)throw new Error("chaid changed");if(S(this,pf))return;const s=await S(this,Ur).send("eth_getFilterChanges",[t]);await this._emitResults(S(this,Ur),s)}catch(t){console.log("@TODO",t)}S(this,Ur).once("block",S(this,fu))},HC=function(){const e=S(this,la);e&&(F(this,la,null),e.then(t=>{S(this,Ur).destroyed||S(this,Ur).send("eth_uninstallFilter",[t])}))};var gu;class soe extends G5{constructor(t,r){super(t);ie(this,gu);F(this,gu,roe(r))}_recover(t){return new VS(t,S(this,gu))}async _subscribe(t){return await t.send("eth_newFilter",[S(this,gu)])}async _emitResults(t,r){for(const s of r)t.emit(S(this,gu),t._wrapLog(s,t._network))}}gu=new WeakMap;class ioe extends G5{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const r of t)e.emit("pending",r)}}const aoe="bigint,boolean,function,number,string,symbol".split(/,/g);function W0(n){if(n==null||aoe.indexOf(typeof n)>=0||typeof n.getAddress=="function")return n;if(Array.isArray(n))return n.map(W0);if(typeof n=="object")return Object.keys(n).reduce((e,t)=>(e[t]=n[t],e),{});throw new Error(`should not happen: ${n} (${typeof n})`)}function ooe(n){return new Promise(e=>{setTimeout(e,n)})}function sd(n){return n&&n.toLowerCase()}function HP(n){return n&&typeof n.pollingInterval=="number"}const V5={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Kc extends noe{constructor(t,r){super(t);ee(this,"address");r=Dt(r),qe(this,{address:r})}connect(t){he(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const r=W0(t),s=[];if(r.from){const c=r.from;s.push((async()=>{const u=await $r(c,this.provider);Y(u!=null&&u.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),r.from=u})())}else r.from=this.address;if(r.gasLimit==null&&s.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const c=r.to;s.push((async()=>{r.to=await $r(c,this.provider)})())}s.length&&await Promise.all(s);const a=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[a])}async sendTransaction(t){const r=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(t);return await new Promise((a,c)=>{const u=[1e3,100];let h=0;const d=async()=>{try{const p=await this.provider.getTransaction(s);if(p!=null){a(p.replaceableTransaction(r));return}}catch(p){if(ur(p,"CANCELLED")||ur(p,"BAD_DATA")||ur(p,"NETWORK_ERROR")||ur(p,"UNSUPPORTED_OPERATION")){p.info==null&&(p.info={}),p.info.sendTransactionHash=s,c(p);return}if(ur(p,"INVALID_ARGUMENT")&&(h++,p.info==null&&(p.info={}),p.info.sendTransactionHash=s,h>10)){c(p);return}this.provider.emit("error",un("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:p}))}this.provider._setTimeout(()=>{d()},u.pop()||4e3)};d()})}async signTransaction(t){const r=W0(t);if(r.from){const a=await $r(r.from,this.provider);Y(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),r.from=a}else r.from=this.address;const s=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[s])}async signMessage(t){const r=typeof t=="string"?_a(t):t;return await this.provider.send("personal_sign",[Ae(r),this.address.toLowerCase()])}async signTypedData(t,r,s){const a=W0(s),c=await Tb.resolveNames(t,r,a,async u=>{const h=await $r(u);return Y(h!=null,"TypedData does not support null address","value",u),h});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Tb.getPayload(c.domain,r,c.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const r=typeof t=="string"?_a(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Ae(r)])}}var mu,gf,mo,ua,Oi,si,rs,ay,zC;class coe extends Qae{constructor(t,r){super(t,r);ie(this,ay);ie(this,mu);ie(this,gf);ie(this,mo);ie(this,ua);ie(this,Oi);ie(this,si);ie(this,rs);F(this,gf,1),F(this,mu,Object.assign({},V5,r||{})),F(this,mo,[]),F(this,ua,null),F(this,si,null),F(this,rs,null);{let a=null;const c=new Promise(u=>{a=u});F(this,Oi,{promise:c,resolve:a})}const s=this._getOption("staticNetwork");typeof s=="boolean"?(Y(!s||t!=="any","staticNetwork cannot be used on special network 'any'","options",r),s&&t!=null&&F(this,si,ba.from(t))):s&&(Y(t==null||s.matches(t),"staticNetwork MUST match network object","options",r),F(this,si,s))}_getOption(t){return S(this,mu)[t]}get _network(){return he(S(this,si),"network is not available yet","NETWORK_ERROR"),S(this,si)}async _perform(t){if(t.method==="call"||t.method==="estimateGas"){let s=t.transaction;if(s&&s.type!=null&&De(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const a=await this.getFeeData();a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},s,{type:void 0})}))}}const r=this.getRpcRequest(t);return r!=null?await this.send(r.method,r.args):super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t)if(t===!0){if(S(this,si))return S(this,si)}else return t;return S(this,rs)?await S(this,rs):this.ready?(F(this,rs,(async()=>{try{const r=ba.from(De(await this.send("eth_chainId",[])));return F(this,rs,null),r}catch(r){throw F(this,rs,null),r}})()),await S(this,rs)):(F(this,rs,(async()=>{const r={id:Xp(this,gf)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let s;try{s=(await this._send(r))[0],F(this,rs,null)}catch(a){throw F(this,rs,null),this.emit("debug",{action:"receiveRpcError",error:a}),a}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return ba.from(De(s.result));throw this.getRpcError(r,s)})()),await S(this,rs))}_start(){S(this,Oi)==null||S(this,Oi).resolve==null||(S(this,Oi).resolve(),F(this,Oi,null),(async()=>{for(;S(this,si)==null&&!this.destroyed;)try{F(this,si,await this._detectNetwork())}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",un("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await ooe(1e3)}pe(this,ay,zC).call(this)})())}async _waitUntilReady(){if(S(this,Oi)!=null)return await S(this,Oi).promise}_getSubscriber(t){return t.type==="pending"?new ioe(this):t.type==="event"?this._getOption("polling")?new VS(this,t.filter):new soe(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new q5("orphan"):super._getSubscriber(t)}get ready(){return S(this,Oi)==null}getRpcTransaction(t){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(t[s]==null)return;let a=s;s==="gasLimit"&&(a="gas"),r[a]=Ii(De(t[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{t[s]!=null&&(r[s]=Ae(t[s]))}),t.accessList&&(r.accessList=Yu(t.accessList)),t.blobVersionedHashes&&(r.blobVersionedHashes=t.blobVersionedHashes.map(s=>s.toLowerCase())),t.authorizationList&&(r.authorizationList=t.authorizationList.map(s=>{const a=W8(s);return{address:a.address,nonce:Ii(a.nonce),chainId:Ii(a.chainId),yParity:Ii(a.signature.yParity),r:Ii(a.signature.r),s:Ii(a.signature.s)}})),r}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[sd(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[sd(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[sd(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[sd(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(sd):t.filter.address=sd(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,r){const{method:s}=t,{error:a}=r;if(s==="eth_estimateGas"&&a.message){const h=a.message;if(!h.match(/revert/i)&&h.match(/insufficient funds/i))return un("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:a}});if(h.match(/nonce/i)&&h.match(/too low/i))return un("nonce has already been used","NONCE_EXPIRED",{transaction:t.params[0],info:{payload:t,error:a}})}if(s==="eth_call"||s==="eth_estimateGas"){const h=qC(a),d=Vm.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",t.params[0],h?h.data:null);return d.info={error:a,payload:t},d}const c=JSON.stringify(uoe(a));if(typeof a.message=="string"&&a.message.match(/user denied|ethers-user-denied/i))return un("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:t,error:a}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const h=t.params[0];if(c.match(/insufficient funds|base fee exceeds gas limit/i))return un("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:h,info:{error:a}});if(c.match(/nonce/i)&&c.match(/too low/i))return un("nonce has already been used","NONCE_EXPIRED",{transaction:h,info:{error:a}});if(c.match(/replacement transaction/i)&&c.match(/underpriced/i))return un("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:h,info:{error:a}});if(c.match(/only replay-protected/i))return un("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:h,info:{error:a}}})}let u=!!c.match(/the method .* does not exist/i);return u||a&&a.details&&a.details.startsWith("Unauthorized method:")&&(u=!0),u?un("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:a,payload:t}}):un("could not coalesce error","UNKNOWN_ERROR",{error:a,payload:t})}send(t,r){if(this.destroyed)return Promise.reject(un("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const s=Xp(this,gf)._++,a=new Promise((c,u)=>{S(this,mo).push({resolve:c,reject:u,payload:{method:t,params:r,id:s,jsonrpc:"2.0"}})});return pe(this,ay,zC).call(this),a}async getSigner(t){t==null&&(t=0);const r=this.send("eth_accounts",[]);if(typeof t=="number"){const a=await r;if(t>=a.length)throw new Error("no such account");return new Kc(this,a[t])}const{accounts:s}=await Br({network:this.getNetwork(),accounts:r});t=Dt(t);for(const a of s)if(Dt(a)===t)return new Kc(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new Kc(this,r))}destroy(){S(this,ua)&&(clearTimeout(S(this,ua)),F(this,ua,null));for(const{payload:t,reject:r}of S(this,mo))r(un("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));F(this,mo,[]),super.destroy()}}mu=new WeakMap,gf=new WeakMap,mo=new WeakMap,ua=new WeakMap,Oi=new WeakMap,si=new WeakMap,rs=new WeakMap,ay=new WeakSet,zC=function(){if(S(this,ua))return;const t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");F(this,ua,setTimeout(()=>{F(this,ua,null);const r=S(this,mo);for(F(this,mo,[]);r.length;){const s=[r.shift()];for(;r.length&&s.length!==S(this,mu).batchMaxCount;)if(s.push(r.shift()),JSON.stringify(s.map(c=>c.payload)).length>S(this,mu).batchMaxSize){r.unshift(s.pop());break}(async()=>{const a=s.length===1?s[0].payload:s.map(c=>c.payload);this.emit("debug",{action:"sendRpcPayload",payload:a});try{const c=await this._send(a);this.emit("debug",{action:"receiveRpcResult",result:c});for(const{resolve:u,reject:h,payload:d}of s){if(this.destroyed){h(un("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:d.method}));continue}const p=c.filter(m=>m.id===d.id)[0];if(p==null){const m=un("missing response for request","BAD_DATA",{value:c,info:{payload:d}});this.emit("error",m),h(m);continue}if("error"in p){h(this.getRpcError(d,p));continue}u(p.result)}}catch(c){this.emit("debug",{action:"receiveRpcError",error:c});for(const{reject:u}of s)u(c)}})()}},t))};var Mc;class K5 extends coe{constructor(t,r){super(t,r);ie(this,Mc);let s=this._getOption("pollingInterval");s==null&&(s=V5.pollingInterval),F(this,Mc,s)}_getSubscriber(t){const r=super._getSubscriber(t);return HP(r)&&(r.pollingInterval=S(this,Mc)),r}get pollingInterval(){return S(this,Mc)}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");F(this,Mc,t),this._forEachSubscriber(r=>{HP(r)&&(r.pollingInterval=S(this,Mc))})}}Mc=new WeakMap;var mf;class loe extends K5{constructor(t,r,s){t==null&&(t="http://localhost:8545");super(r,s);ie(this,mf);typeof t=="string"?F(this,mf,new Io(t)):F(this,mf,t.clone())}_getConnection(){return S(this,mf).clone()}async send(t,r){return await this._start(),await super.send(t,r)}async _send(t){const r=this._getConnection();r.body=JSON.stringify(t),r.setHeader("content-type","application/json");const s=await r.send();s.assertOk();let a=s.bodyJson;return Array.isArray(a)||(a=[a]),a}}mf=new WeakMap;function qC(n){if(n==null)return null;if(typeof n.message=="string"&&n.message.match(/revert/i)&&en(n.data))return{message:n.message,data:n.data};if(typeof n=="object"){for(const e in n){const t=qC(n[e]);if(t)return t}return null}if(typeof n=="string")try{return qC(JSON.parse(n))}catch{}return null}function GC(n,e){if(n!=null){if(typeof n.message=="string"&&e.push(n.message),typeof n=="object")for(const t in n)GC(n[t],e);if(typeof n=="string")try{return GC(JSON.parse(n),e)}catch{}}}function uoe(n){const e=[];return GC(n,e),e}var yf,wf;const jl=class jl extends K5{constructor(t,r,s){const a=Object.assign({},s??{},{batchMaxCount:1});Y(t&&t.request,"invalid EIP-1193 provider","ethereum",t);super(r,a);ie(this,yf);ie(this,wf);F(this,wf,null),s&&s.providerInfo&&F(this,wf,s.providerInfo),F(this,yf,async(c,u)=>{const h={method:c,params:u};this.emit("debug",{action:"sendEip1193Request",payload:h});try{const d=await t.request(h);return this.emit("debug",{action:"receiveEip1193Result",result:d}),d}catch(d){const p=new Error(d.message);throw p.code=d.code,p.data=d.data,p.payload=h,this.emit("debug",{action:"receiveEip1193Error",error:p}),p}})}get providerInfo(){return S(this,wf)}async send(t,r){return await this._start(),await super.send(t,r)}async _send(t){Y(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t);try{const r=await S(this,yf).call(this,t.method,t.params||[]);return[{id:t.id,result:r}]}catch(r){return[{id:t.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(t,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(t,r)}async hasSigner(t){t==null&&(t=0);const r=await this.send("eth_accounts",[]);return typeof t=="number"?r.length>t:(t=t.toLowerCase(),r.filter(s=>s.toLowerCase()===t).length!==0)}async getSigner(t){if(t==null&&(t=0),!await this.hasSigner(t))try{await S(this,yf).call(this,"eth_requestAccounts",[])}catch(r){const s=r.payload;throw this.getRpcError(s,{id:s.id,error:r})}return await super.getSigner(t)}static async discover(t){if(t==null&&(t={}),t.provider)return new jl(t.provider);const r=t.window?t.window:typeof window<"u"?window:null;if(r==null)return null;const s=t.anyProvider;if(s&&r.ethereum)return new jl(r.ethereum);if(!("addEventListener"in r&&"dispatchEvent"in r&&"removeEventListener"in r))return null;const a=t.timeout?t.timeout:300;return a===0?null:await new Promise((c,u)=>{let h=[];const d=y=>{h.push(y.detail),s&&p()},p=()=>{if(clearTimeout(m),h.length)if(t&&t.filter){const y=t.filter(h.map(b=>Object.assign({},b.info)));if(y==null)c(null);else if(y instanceof jl)c(y);else{let b=null;if(y.uuid&&(b=h.filter(v=>y.uuid===v.info.uuid)[0]),b){const{provider:E,info:v}=b;c(new jl(E,void 0,{providerInfo:v}))}else u(un("filter returned unknown info","UNSUPPORTED_OPERATION",{value:y}))}}else{const{provider:y,info:b}=h[0];c(new jl(y,void 0,{providerInfo:b}))}else c(null);r.removeEventListener("eip6963:announceProvider",d)},m=setTimeout(()=>{p()},a);r.addEventListener("eip6963:announceProvider",d),r.dispatchEvent(new Event("eip6963:requestProvider"))})}};yf=new WeakMap,wf=new WeakMap;let Ca=jl;const Rd={hexStringToNumber(n){const e=n.startsWith("0x")?n.slice(2):n;return parseInt(e,16)},numberToHexString(n){return`0x${n.toString(16)}`},async getUserInfo(n){const[e,t]=await Promise.all([Rd.getAddresses(n),Rd.getChainId(n)]);return{chainId:t,addresses:e}},async getChainId(n){const e=await n.request({method:"eth_chainId"});return Number(e)},async getAddress(n){const[e]=await n.request({method:"eth_accounts"});return e},async getAddresses(n){return await n.request({method:"eth_accounts"})},async addEthereumChain(n,e){var r,s;const t=((r=e.rpcUrls.chainDefault)==null?void 0:r.http)||[];await n.request({method:"wallet_addEthereumChain",params:[{chainId:Rd.numberToHexString(e.id),rpcUrls:[...t],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[(s=e.blockExplorers)==null?void 0:s.default.url],iconUrls:[ma.NetworkImageIds[e.id]]}]})}},Ol={signMessage:async(n,e,t)=>{if(!e)throw new Error("signMessage - provider is undefined");const r=en(n)?n:Ae(_a(n));return await e.request({method:"personal_sign",params:[r,t]})},estimateGas:async(n,e,t,r)=>{if(!e)throw new Error("estimateGas - provider is undefined");if(!t)throw new Error("estimateGas - address is undefined");if(n.chainNamespace&&n.chainNamespace!=="eip155")throw new Error("estimateGas - chainNamespace is not eip155");const s={from:n.address,to:n.to,data:n.data,type:0},a=new Ca(e,r);return await new Kc(a,t).estimateGas(s)},sendTransaction:async(n,e,t,r)=>{if(!e)throw new Error("sendTransaction - provider is undefined");if(!t)throw new Error("sendTransaction - address is undefined");if(n.chainNamespace&&n.chainNamespace!=="eip155")throw new Error("sendTransaction - chainNamespace is not eip155");const s={to:n.to,value:n.value,gasLimit:n.gas,gasPrice:n.gasPrice,data:n.data,type:0},a=new Ca(e,r),h=await(await new Kc(a,t).sendTransaction(s)).wait();return(h==null?void 0:h.hash)||null},writeContract:async(n,e,t,r)=>{if(!e)throw new Error("writeContract - provider is undefined");if(!t)throw new Error("writeContract - address is undefined");const s=new Ca(e,r),a=new Kc(s,t),c=new Cu(n.tokenAddress,n.abi,a);if(!c||!n.method)throw new Error("Contract method is undefined");const u=c[n.method];if(u)return await u(...n.args);throw new Error("Contract method is undefined")},parseWalletCapabilities:n=>{try{return JSON.parse(n)}catch{throw new Error("Error parsing wallet capabilities")}},parseUnits:h8,formatUnits:u8};class hoe extends Yk{constructor(){super({adapterType:we.ADAPTER_TYPES.ETHERS,namespace:we.CHAIN.EVM}),this.balancePromises={},this.providerHandlers=null}async createEthersConfig(e){if(!e.metadata)return;let t;function r(){if(t)return t;if(!(typeof window>"u")&&window.ethereum)return t=window.ethereum,t}async function s(){const{SafeProvider:u}=await kr(async()=>{const{SafeProvider:y}=await import("./SafeProvider-Bf0Dm36j.js");return{SafeProvider:y}},__vite__mapDeps([41,42,43])),{default:h}=await kr(async()=>{const{default:y}=await import("./index-CybBsRJ3.js");return{default:y}},__vite__mapDeps([44,42,45])),d=new h,p=await d.safe.getInfo(),m=new u(p,d);return await m.connect().catch(y=>{console.info("Failed to auto-connect to Safe:",y)}),m}async function a(){var u,h,d;try{const{createCoinbaseWalletSDK:p}=await kr(async()=>{const{createCoinbaseWalletSDK:y}=await import("./index-CE1fbXNZ.js");return{createCoinbaseWalletSDK:y}},__vite__mapDeps([46,43,45]));return typeof window>"u"?void 0:p({appName:(u=e==null?void 0:e.metadata)==null?void 0:u.name,appLogoUrl:(h=e==null?void 0:e.metadata)==null?void 0:h.icons[0],appChainIds:((d=e.networks)==null?void 0:d.map(y=>y.id))||[1,84532],preference:{options:e.coinbasePreference??"all"}}).getProvider()}catch(p){console.error("Failed to import Coinbase Wallet SDK:",p);return}}const c={metadata:e.metadata};if(e.enableInjected!==!1&&(c.injected=r()),e.enableCoinbase!==!1){const u=await a();u&&(c.coinbase=u)}if(ke.isSafeApp()){const u=await s();u&&(c.safe=u)}return c.EIP6963=e.enableEIP6963!==!1,c}async signMessage(e){const{message:t,address:r,provider:s}=e;if(!s)throw new Error("Provider is undefined");try{return{signature:await Ol.signMessage(t,s,r)}}catch{throw new Error("EthersAdapter:signMessage - Sign message failed")}}async sendTransaction(e){var r;if(!e.provider)throw new Error("Provider is undefined");return{hash:await Ol.sendTransaction({value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),to:e.to,data:e.data?e.data:"0x",gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,address:Ce.state.address},e.provider,Ce.state.address,Number((r=e.caipNetwork)==null?void 0:r.id))}}async writeContract(e){var s;if(!e.provider)throw new Error("Provider is undefined");const{address:t}=Ja.parseCaipAddress(e.caipAddress);return{hash:await Ol.writeContract(e,e.provider,t,Number((s=e.caipNetwork)==null?void 0:s.id))}}async estimateGas(e){const{provider:t,caipNetwork:r,address:s}=e;if(!t)throw new Error("Provider is undefined");try{return{gas:await Ol.estimateGas({data:e.data,to:e.to,address:s},t,s,Number(r==null?void 0:r.id))}}catch{throw new Error("EthersAdapter:estimateGas - Estimate gas failed")}}parseUnits(e){return Ol.parseUnits(e.value,e.decimals)}formatUnits(e){return Ol.formatUnits(e.value,e.decimals)}async syncConnection(e){const{id:t,chainId:r}=e,s=this.connectors.find(h=>h.id===t),a=s==null?void 0:s.provider;if(!a)throw new Error("Provider not found");const c=await a.request({method:"eth_requestAccounts"}),u=await a.request({method:"eth_chainId"});if(this.listenProviderEvents(a),!c[0])throw new Error("No accounts found");if(!(s!=null&&s.type))throw new Error("Connector type not found");return{address:c[0],chainId:Number(u)||Number(r),provider:a,type:s.type,id:t}}async syncConnectors(e){var r;this.ethersConfig=await this.createEthersConfig(e),(r=this.ethersConfig)!=null&&r.EIP6963&&this.listenInjectedConnector(!0),Object.keys(this.ethersConfig||{}).filter(s=>s!=="metadata"&&s!=="EIP6963").forEach(s=>{var u,h;const a=s==="coinbase"?"coinbaseWalletSDK":s,c=s===we.CONNECTOR_ID.INJECTED;this.namespace&&this.addConnector({id:a,explorerId:ma.ConnectorExplorerIds[a],imageUrl:(u=e==null?void 0:e.connectorImages)==null?void 0:u[a],name:ma.ConnectorNamesMap[a]||"Unknown",imageId:ma.ConnectorImageIds[a],type:ma.ConnectorTypesMap[a]??"EXTERNAL",info:c?void 0:{rdns:a},chain:this.namespace,chains:[],provider:(h=this.ethersConfig)==null?void 0:h[s]})})}setUniversalProvider(e){this.addConnector(new NS({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"}))}eip6963EventHandler(e){var t;if(e.detail){const{info:r,provider:s}=e.detail;if(!((t=this.connectors)==null?void 0:t.find(c=>c.name===(r==null?void 0:r.name)))){const c=ma.ConnectorTypesMap[we.CONNECTOR_ID.EIP6963],u=(r==null?void 0:r.rdns)||(r==null?void 0:r.name)||(r==null?void 0:r.uuid);this.namespace&&u&&this.addConnector({id:u,type:c,imageUrl:r==null?void 0:r.icon,name:(r==null?void 0:r.name)||"Unknown",provider:s,info:r,chain:this.namespace,chains:[]})}}}listenInjectedConnector(e){if(typeof window<"u"&&e){const t=this.eip6963EventHandler.bind(this);window.addEventListener(Xt.EIP6963_ANNOUNCE_EVENT,t),window.dispatchEvent(new Event(Xt.EIP6963_REQUEST_EVENT))}}async connect({id:e,type:t,chainId:r,socialUri:s}){var d;const a=this.connectors.find(p=>p.id===e),c=a==null?void 0:a.provider;if(!c)throw new Error("Provider not found");let u=[],h;if(t==="AUTH"){const{address:p}=await c.connect({chainId:r,socialUri:s,preferredAccountType:(d=Ce.state.preferredAccountTypes)==null?void 0:d.eip155});u=[p],this.emit("accountChanged",{address:u[0],chainId:Number(r)})}else{if(u=await c.request({method:"eth_requestAccounts"}),h=await c.request({method:"eth_chainId"}),h!==r){const p=this.getCaipNetworks().find(m=>m.id===r);if(!p)throw new Error("EthersAdapter:connect - could not find the caipNetwork to switch");try{await this.switchNetwork({caipNetwork:p,provider:c,providerType:t})}catch{throw new Error("EthersAdapter:connect - Switch network failed")}}this.emit("accountChanged",{address:u[0],chainId:Number(r)}),this.listenProviderEvents(c)}return{address:u[0],chainId:Number(r),provider:c,type:t,id:e}}async reconnect(e){var a;const{id:t,chainId:r}=e,s=this.connectors.find(c=>c.id===t);s&&s.type==="AUTH"&&r&&await s.provider.connect({chainId:r,preferredAccountType:(a=Ce.state.preferredAccountTypes)==null?void 0:a.eip155})}async getAccounts(e){const t=this.connectors.find(a=>a.id===e.id),r=t==null?void 0:t.provider;if(!r||!t)throw new Error("Provider not found");if(e.id===we.CONNECTOR_ID.AUTH){const a=t.provider;if(!a.user)return{accounts:[]};const{accounts:c,address:u}=a.user;return Promise.resolve({accounts:(c||[{address:u,type:"eoa"}]).map(h=>ke.createAccount("eip155",h.address,h.type))})}return{accounts:(await r.request({method:"eth_requestAccounts"})).map(a=>ke.createAccount("eip155",a,"eoa"))}}async disconnect(e){if(!e.provider||!e.providerType)throw new Error("Provider or providerType not provided");switch(e.providerType){case"WALLET_CONNECT":e.provider.session&&e.provider.disconnect();break;case"AUTH":await e.provider.disconnect();break;case"ANNOUNCED":case"EXTERNAL":await this.revokeProviderPermissions(e.provider);break;default:throw new Error("Unsupported provider type")}}async getBalance(e){const t=e.address,r=this.getCaipNetworks().find(s=>s.id===e.chainId);if(!t)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&r.chainNamespace==="eip155"){const s=`${r.caipNetworkId}:${t}`,a=this.balancePromises[s];if(a)return a;const c=Se.getNativeBalanceCacheForCaipAddress(s);if(c)return{balance:c.balance,symbol:c.symbol};const u=new loe(r.rpcUrls.default.http[0],{chainId:r.id,name:r.name});if(u)try{return this.balancePromises[s]=new Promise(async h=>{const d=await u.getBalance(t),p=d8(d);Se.updateNativeBalanceCache({caipAddress:s,balance:p,symbol:r.nativeCurrency.symbol,timestamp:Date.now()}),h({balance:p,symbol:r.nativeCurrency.symbol})}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"}}catch{return{balance:"0.00",symbol:"ETH"}}}return{balance:"0.00",symbol:"ETH"}}listenProviderEvents(e){const t=()=>{this.removeProviderListeners(e),this.emit("disconnect")},r=a=>{a.length>0?this.emit("accountChanged",{address:a[0]}):t()},s=a=>{const c=typeof a=="string"?Rd.hexStringToNumber(a):Number(a);this.emit("switchNetwork",{chainId:c})};e.on("disconnect",t),e.on("accountsChanged",r),e.on("chainChanged",s),this.providerHandlers={disconnect:t,accountsChanged:r,chainChanged:s}}removeProviderListeners(e){this.providerHandlers&&(e.removeListener("disconnect",this.providerHandlers.disconnect),e.removeListener("accountsChanged",this.providerHandlers.accountsChanged),e.removeListener("chainChanged",this.providerHandlers.chainChanged),this.providerHandlers=null)}async switchNetwork(e){var a,c;const{caipNetwork:t,provider:r,providerType:s}=e;if(s==="AUTH"){await super.switchNetwork(e);return}try{await r.request({method:"wallet_switchEthereumChain",params:[{chainId:Rd.numberToHexString(t.id)}]})}catch(u){if(u.code===vo.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===vo.ERROR_INVALID_CHAIN_ID||u.code===vo.ERROR_CODE_DEFAULT||((c=(a=u==null?void 0:u.data)==null?void 0:a.originalError)==null?void 0:c.code)===vo.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)await Rd.addEthereumChain(r,t);else if(s==="ANNOUNCED"||s==="EXTERNAL"||s==="INJECTED")throw new Error("Chain is not supported")}}getWalletConnectProvider(){var e;return(e=this.connectors.find(t=>t.type==="WALLET_CONNECT"))==null?void 0:e.provider}async revokeProviderPermissions(e){try{(await e.request({method:"wallet_getPermissions"})).find(s=>s.parentCapability==="eth_accounts")&&await e.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}catch(t){console.info("Could not revoke permissions from wallet. Disconnecting...",t)}}async getCapabilities(e){var s,a;const t=Et.getProvider(we.CHAIN.EVM);if(!t)throw new Error("Provider is undefined");const r=(a=(s=t.session)==null?void 0:s.sessionProperties)==null?void 0:a.capabilities;if(r){const u=Ol.parseWalletCapabilities(r)[e];if(u)return u}return await t.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){const t=Et.getProvider(we.CHAIN.EVM);if(!t)throw new Error("Provider is undefined");return await t.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){const t=Et.getProvider(we.CHAIN.EVM);if(!t)throw new Error("Provider is undefined");return await t.request({method:"wallet_revokePermissions",params:[e]})}async walletGetAssets(e){const t=Et.getProvider(we.CHAIN.EVM);if(!t)throw new Error("Provider is undefined");return await t.request({method:"wallet_getAssets",params:[e]})}}var doe={};const foe=doe.VITE_PROJECT_ID||"9f0984b9286c65678805e20af26c292d",poe={name:"Jetset",description:"Jetset Frontend DApp",url:"https://dapp.jetsettoken.com",icons:["https://jetsettoken.com/dapp/favicon.ico"]},W5=[pne],goe=new hoe,moe={to:"0x7c4a36b206a0dc2f7c1bff0a3c6e6acad1d323c7",value:h8("0.0001","gwei")},yoe=({sendHash:n,sendSignMsg:e,sendBalance:t})=>{const{disconnect:r}=CX(),{open:s}=Cne(),{chainId:a}=ES(),{switchNetwork:c}=Qk(),{address:u,isConnected:h}=AS(),{walletProvider:d}=TS("eip155"),p=async()=>{try{await r()}catch(E){console.error("Failed to disconnect:",E)}},m=async()=>{if(!d||!u)throw Error("user is disconnected");const E=new Ca(d,a),A=await new Kc(E,u).sendTransaction(moe);await A.wait(),n(A.hash)},y=async()=>{if(!d||!u)throw Error("user is disconnected");const E=new Ca(d,a),v=new Kc(E,u),A=await(v==null?void 0:v.signMessage("Authenticate access token"));e(A)},b=async()=>{if(!d||!u)throw Error("user is disconnected");const v=await new Ca(d,a).getBalance(u),A=d8(v);t(`${A} BNB`)};return Le.jsx("div",{children:h?Le.jsxs("div",{children:[Le.jsx("button",{onClick:()=>s(),children:"Open"}),Le.jsx("button",{onClick:p,children:"Disconnect"}),Le.jsx("button",{onClick:()=>c(W5[1]),children:"Switch"}),Le.jsx("button",{onClick:y,children:"Sign msg"}),Le.jsx("button",{onClick:m,children:"Send tx"}),Le.jsx("button",{onClick:b,children:"Get Balance"})]}):null})},woe=[{inputs:[{internalType:"address",name:"account_",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],boe=()=>{const{isConnected:n}=AS(),{chainId:e}=Qk(),{walletProvider:t}=TS("eip155"),r="0x405be90996e7f995a08c2fbd8d8822ef5b03466c",s=async()=>{console.log("Read BNB Smart Chain Smart Contract");const a=new Ca(t),u=await new Cu(r,woe,a).retrieve();console.log("data: ",u)};return n&&e===56&&Le.jsx("div",{children:Le.jsx("button",{onClick:s,children:"Read BNB Smart Chain Smart Contract"})})},voe=({hash:n,signedMsg:e,balance:t})=>{var A,N,I,P,k,U,O;const[r,s]=dn.useState(""),{themeMode:a,themeVariables:c}=_ne(),u=Nne(),{chainId:h}=ES(),{address:d,caipAddress:p,isConnected:m,embeddedWalletInfo:y}=AS(),b=Tne(),E=Sne(),{walletProvider:v}=TS("eip155");return dn.useEffect(()=>{console.log("Events: ",b)},[b]),dn.useEffect(()=>{(async()=>{if(n&&v)try{const $=await new Ca(v,h).getTransactionReceipt(n);s(($==null?void 0:$.status)===1?"Success":($==null?void 0:$.status)===0?"Failed":"Pending")}catch(M){console.error("Error checking transaction status:",M),s("Error")}})()},[n,v]),Le.jsxs(Le.Fragment,{children:[t&&Le.jsx("section",{children:Le.jsxs("h2",{children:["Balance: ",t]})}),n&&Le.jsxs("section",{children:[Le.jsx("h2",{children:"Sign Tx"}),Le.jsxs("pre",{children:["Hash: ",n,Le.jsx("br",{}),"Status: ",r,Le.jsx("br",{})]})]}),e&&Le.jsxs("section",{children:[Le.jsx("h2",{children:"Sign msg"}),Le.jsxs("pre",{children:["signedMsg: ",e,Le.jsx("br",{})]})]}),Le.jsxs("section",{children:[Le.jsx("h2",{children:"useAppKit"}),Le.jsxs("pre",{children:["Address: ",d,Le.jsx("br",{}),"caip Address: ",p,Le.jsx("br",{}),"Connected: ",m.toString(),Le.jsx("br",{}),"Account Type: ",y==null?void 0:y.accountType,Le.jsx("br",{}),((A=y==null?void 0:y.user)==null?void 0:A.email)&&`Email: ${(N=y==null?void 0:y.user)==null?void 0:N.email}
`,((I=y==null?void 0:y.user)==null?void 0:I.username)&&`Username: ${(P=y==null?void 0:y.user)==null?void 0:P.username}
`,(y==null?void 0:y.authProvider)&&`Provider: ${y==null?void 0:y.authProvider}
`]})]}),Le.jsxs("section",{children:[Le.jsx("h2",{children:"Theme"}),Le.jsxs("pre",{children:["Theme: ",a,Le.jsx("br",{}),"ThemeVariables: ",JSON.stringify(c,null,2),Le.jsx("br",{})]})]}),Le.jsxs("section",{children:[Le.jsx("h2",{children:"State"}),Le.jsxs("pre",{children:["activeChain: ",u.activeChain,Le.jsx("br",{}),"loading: ",u.loading.toString(),Le.jsx("br",{}),"open: ",u.open.toString(),Le.jsx("br",{}),"selectedNetworkId: ",(k=u.selectedNetworkId)==null?void 0:k.toString(),Le.jsx("br",{})]})]}),Le.jsxs("section",{children:[Le.jsx("h2",{children:"WalletInfo"}),Le.jsxs("pre",{children:["Name: ",(O=(U=E.walletInfo)==null?void 0:U.name)==null?void 0:O.toString(),Le.jsx("br",{})]})]})]})};Rne({adapters:[goe],networks:W5,metadata:poe,projectId:foe,themeMode:"light",features:{analytics:!0}});function Eoe(){const[n,e]=dn.useState(""),[t,r]=dn.useState(""),[s,a]=dn.useState(""),c=d=>{e(d)},u=d=>{r(d)},h=d=>{a(d)};return Le.jsxs("div",{className:"pages",children:[Le.jsx("h1",{children:"Jetset"}),Le.jsx("appkit-button",{}),Le.jsx(yoe,{sendHash:c,sendSignMsg:u,sendBalance:h}),Le.jsx(boe,{}),Le.jsx(voe,{hash:n,signedMsg:t,balance:s})]})}AM.createRoot(document.getElementById("root")).render(Le.jsx(dn.StrictMode,{children:Le.jsx(Eoe,{})}));export{Hk as $,Ce as A,Ve as B,Ne as C,$e as D,Bg as E,p_ as F,Sg as G,Ri as H,qM as I,Et as J,Oce as K,oC as L,Qn as M,FM as N,ge as O,Ja as P,k0 as Q,at as R,xi as S,ss as T,QL as U,Hg as V,dr as W,oy as X,Cce as Y,Yn as Z,Sce as _,M0 as a,cC as a0,Df as a1,kr as a2,GP as a3,n6 as a4,$i as a5,tR as a6,yL as a7,CL as a8,sD as a9,WC as aa,nR as ab,NL as ac,_oe as ad,wL as ae,_L as af,vL as ag,aD as ah,yu as ai,iD as aj,O7 as ak,ace as al,sI as am,XD as an,w7 as ao,R7 as ap,oce as aq,ice as ar,qb as as,uce as at,cce as au,Gt as b,we as c,ke as d,j as e,hn as f,bo as g,Tce as h,_d as i,xs as j,ze as k,Xt as l,Wte as m,ga as n,Yte as o,Se as p,pa as q,Nce as r,It as s,XP as t,cn as u,oR as v,Us as w,_ce as x,Tr as y,pr as z};
